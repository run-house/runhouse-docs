{"parents": [], "prev": {"link": "../tutorials/async/", "title": "Asynchronous Programming"}, "next": {"link": "../installation/", "title": "Installation and Setup"}, "title": "Architecture Overview", "meta": {}, "body": "<section id=\"architecture-overview\">\n<h1>Architecture Overview<a class=\"headerlink\" href=\"#architecture-overview\" title=\"Permalink to this heading\">\u00b6</a></h1>\n<section id=\"runhouse-resources\">\n<h2>Runhouse Resources<a class=\"headerlink\" href=\"#runhouse-resources\" title=\"Permalink to this heading\">\u00b6</a></h2>\n<p>Resources are the Runhouse primitive for objects that can be saved, shared, and reused. This can be split\ninto compute resources (clusters, functions, modules, environments, and runs) and data resources\n(folder, table, blob, etc).</p>\n<section id=\"compute\">\n<h3>Compute<a class=\"headerlink\" href=\"#compute\" title=\"Permalink to this heading\">\u00b6</a></h3>\n<p>The Compute APIs allow a seamless flow of code and execution across local and remote compute. They blur the line\nbetween program execution and deployment, providing both a path of least resistence for running a sub-routine on\nspecific hardware, while unceremoniously turning that sub-routine into a reusable service. They also provide\nconvenient dependency isolation and management, provider-agnostic provisioning and termination, and rich\ndebugging and accessibility interfaces built-in.</p>\n<ul class=\"simple\">\n<li><p><strong>Cluster</strong>: A set of machines which can be sent code or data. Generally, they are Ray clusters under the hood.</p></li>\n<li><p><strong>Environment</strong>: An environment respresents a compute environment, consisting of packages and environment variables.\nEach remote environment on a cluster is associated with a Ray Actor servlet, which handles all activities within the\nenvironement (calling functions, installing packages, getting/putting objects).</p></li>\n<li><p><strong>Function</strong>: Functions are associated with clusters and environments, and are executed using an HTTP endpoint.</p></li>\n<li><p><strong>Module</strong>: Modules represent classes that can be sent to and used on remote clusters and environments. Modules\ncan live on remote hardware and its class methods called remotely.</p></li>\n</ul>\n</section>\n<section id=\"data\">\n<h3>Data<a class=\"headerlink\" href=\"#data\" title=\"Permalink to this heading\">\u00b6</a></h3>\n<p>The Data APIs provide a simple interface for storing, recalling, and moving data between the user\u2019s laptop,\nremote compute, cloud storage, and specialized storage (e.g. data warehouses). They provide least-common-denominator\nAPIs across providers, allowing users to easily specify the actions they want to take on the data without needed to\ndig into provider-specific APIs.</p>\n<ul class=\"simple\">\n<li><p><strong>Folder</strong>: Represents a specified location (could be local, remote, or file storage), for managing where various\nRunhouse resources live.</p></li>\n<li><p><strong>Table</strong>: Provides convenient APIs for writing, partitioning, fetch, and stream various data types.</p></li>\n<li><p><strong>Blob</strong>: Represents a data object stored in a particular system.</p></li>\n<li><p><strong>File</strong>: Represents a file object stored in a particular system.</p></li>\n</ul>\n</section>\n</section>\n<section id=\"accessibility-and-management\">\n<h2>Accessibility and Management<a class=\"headerlink\" href=\"#accessibility-and-management\" title=\"Permalink to this heading\">\u00b6</a></h2>\n<p>Runhouse enables the portability and sharing of resources across users and environments, and provides\ntools for visibility and management of these resources as long-living assets shared by teams or projects.</p>\n<section id=\"accessibility\">\n<h3>Accessibility<a class=\"headerlink\" href=\"#accessibility\" title=\"Permalink to this heading\">\u00b6</a></h3>\n<p>The Runhouse RNS (Resource Naming System) provides a convenient way to name, persist, and recall resources\nacoss environments. Meanwhile, the Secrets APIs provide a simple interface for storing and retrieving secrets\nfrom your secure Runhouse account.</p>\n<ul class=\"simple\">\n<li><p><strong>Resource Naming System (RNS)</strong>: Consists of lightweight metadata for each resource type to captures the\ninformation needed to load it in a new environment, and a mechanism for saving and loading from either the working\ngit repo or a remote Runhouse key-value metadata store. The git-based approach (Local RNS) allows for local\npersistence and versioning or sharing across OSS projects. The metadata store (Runhouse RNS) is even more portable;\nit allows resource sharing across users and environments, anywhere there is an Internet connection and Python\ninterpreter. The RNS is backed by a management API (see below) to view and manage all resources.</p></li>\n<li><p><strong>Secrets API</strong>: Provides a simple interface for storing and retrieving secrets to a allow a more seamless\nexperience when accessing resources across environments. It provides a simple interface for storing and retrieving\nsecrets from a variety of providers (e.g. AWS, Azure, GCP, Hugging Face, Github, etc.) as well as SSH Keys and\ncustom secrets, and stores them in Hashicorp Vault.</p></li>\n<li><p><strong>Configs</strong>: Set and preserve default configs across environments.</p></li>\n</ul>\n</section>\n<section id=\"management\">\n<h3>Management<a class=\"headerlink\" href=\"#management\" title=\"Permalink to this heading\">\u00b6</a></h3>\n<p>Runhouse provides tools for visibility and management of resources as long-living assets shared by teams or projects.</p>\n<ul>\n<li><p><a class=\"reference external\" href=\"https://www.run.house/dashboard\">Runhouse Den</a>: provides an individual or admin view of all resources, secrets,\ngroups, and sharing. Resource metadata is automatically versioned in RNS, allowing teams to maintain single-sources\nof truth for assets with zero downtime to update or roll back, and trace exact lineage for any existing resource.</p></li>\n<li><p><strong>Organization structure</strong>: Both resources and users can be organized into organizations to apply and manage shared\naccess and permissions. Resources can be created for an organization by specifying its name in full\nwhen creating or loading down a Runhouse resource.</p>\n<div class=\"highlight-python notranslate\"><div class=\"highlight\"><pre><span></span><span class=\"kn\">import</span> <span class=\"nn\">runhouse</span> <span class=\"k\">as</span> <span class=\"nn\">rh</span>\n\n<span class=\"c1\"># Create a new function for the organization named &quot;my_org_name&quot;</span>\n<span class=\"n\">remote_func</span> <span class=\"o\">=</span> <span class=\"n\">rh</span><span class=\"o\">.</span><span class=\"n\">function</span><span class=\"p\">(</span><span class=\"n\">name</span><span class=\"o\">=</span><span class=\"s2\">&quot;/my_org_name/my_function&quot;</span><span class=\"p\">,</span>\n                          <span class=\"n\">fn</span><span class=\"o\">=</span><span class=\"n\">my_func</span><span class=\"p\">)</span><span class=\"o\">.</span><span class=\"n\">to</span><span class=\"p\">(</span><span class=\"n\">system</span><span class=\"o\">=</span><span class=\"n\">my_cluster</span><span class=\"p\">,</span> <span class=\"n\">env</span><span class=\"o\">=</span><span class=\"n\">my_env</span><span class=\"p\">)</span>\n\n<span class=\"c1\"># Reload the function and invoke it remotely on the cluster</span>\n<span class=\"n\">remote_func</span> <span class=\"o\">=</span> <span class=\"n\">rh</span><span class=\"o\">.</span><span class=\"n\">function</span><span class=\"p\">(</span><span class=\"n\">name</span><span class=\"o\">=</span><span class=\"s2\">&quot;/my_org_name/my_function&quot;</span><span class=\"p\">)</span>\n<span class=\"n\">res</span> <span class=\"o\">=</span> <span class=\"n\">remote_func</span><span class=\"p\">(</span><span class=\"o\">*</span><span class=\"n\">args</span><span class=\"p\">,</span> <span class=\"o\">**</span><span class=\"n\">kwargs</span><span class=\"p\">)</span>\n</pre></div>\n</div>\n<div class=\"admonition note\">\n<p class=\"admonition-title\">Note</p>\n<p>You must be an organization admin in order to add new members and manage their permissions within the organization.\nThe management panel can be accessed in the <a class=\"reference external\" href=\"https://www.run.house/account#organizations\">Den account page</a>.</p>\n</div>\n</li>\n</ul>\n</section>\n<section id=\"resource-access-levels\">\n<h3>Resource Access Levels<a class=\"headerlink\" href=\"#resource-access-levels\" title=\"Permalink to this heading\">\u00b6</a></h3>\n<p>Runhouse lets you control the access levels you provide to the users of your resources:</p>\n<ul class=\"simple\">\n<li><p><code class=\"code docutils literal notranslate\"><span class=\"pre\">read</span></code> (default): Users cannot modify the config, but can access the resource directly.</p></li>\n<li><p><code class=\"code docutils literal notranslate\"><span class=\"pre\">write</span></code>: Users have full control over the resource, including modifying its config.</p></li>\n</ul>\n</section>\n<section id=\"resource-visibility\">\n<h3>Resource Visibility<a class=\"headerlink\" href=\"#resource-visibility\" title=\"Permalink to this heading\">\u00b6</a></h3>\n<p>In addition to providing control over the access levels, Runhouse lets you control the visibility you provide\nto your users.</p>\n<p>Similar to Google Drive, you can choose how visible you would like each resource to be:</p>\n<ul class=\"simple\">\n<li><p><code class=\"code docutils literal notranslate\"><span class=\"pre\">private</span></code> (default): Only users who have been granted access explicitly to the resource can view and access it.</p></li>\n<li><p><code class=\"code docutils literal notranslate\"><span class=\"pre\">unlisted</span></code>: Users can access and search for the resource by its name only (will not be vieweable by default).</p></li>\n<li><p><code class=\"code docutils literal notranslate\"><span class=\"pre\">public</span></code>: Resource will be available publicly to all users.</p></li>\n</ul>\n<p>You can specify these options when sharing any Runhouse resource.\nHere are some examples for how that could look when sharing a function:</p>\n<div class=\"highlight-python notranslate\"><div class=\"highlight\"><pre><span></span><span class=\"c1\"># Share a function with a particular user, giving them write access to the resource and private visibility</span>\n<span class=\"c1\"># The function will be visible to the user in their Den dashboard</span>\n<span class=\"n\">my_func</span><span class=\"o\">.</span><span class=\"n\">share</span><span class=\"p\">(</span><span class=\"s2\">&quot;user_a@gmail.com&quot;</span><span class=\"p\">,</span> <span class=\"n\">access_level</span><span class=\"o\">=</span><span class=\"s2\">&quot;write&quot;</span><span class=\"p\">,</span> <span class=\"n\">visibility</span><span class=\"o\">=</span><span class=\"s2\">&quot;private&quot;</span><span class=\"p\">)</span>\n\n<span class=\"c1\"># Make this function available to all users, who will be given read access to that resource</span>\n<span class=\"n\">my_func</span><span class=\"o\">.</span><span class=\"n\">share</span><span class=\"p\">(</span><span class=\"n\">visibility</span><span class=\"o\">=</span><span class=\"s2\">&quot;public&quot;</span><span class=\"p\">)</span>\n\n<span class=\"c1\"># Share the function with a list of users, giving them read only access to the resource and unlisted visibility,</span>\n<span class=\"c1\"># The function will not be visible by default in these users&#39; Den dashboards, and will only appear</span>\n<span class=\"c1\"># if searched by name</span>\n<span class=\"n\">my_func</span><span class=\"o\">.</span><span class=\"n\">share</span><span class=\"p\">([</span><span class=\"s2\">&quot;user_a@gmail.com&quot;</span><span class=\"p\">,</span> <span class=\"s2\">&quot;rh_username_2&quot;</span><span class=\"p\">],</span>\n              <span class=\"n\">visibility</span><span class=\"o\">=</span><span class=\"s2\">&quot;unlisted&quot;</span><span class=\"p\">)</span>\n</pre></div>\n</div>\n</section>\n</section>\n</section>\n\n    <script type=\"text/x-thebe-config\">\n    {\n        requestKernel: true,\n        binderOptions: {\n            repo: \"binder-examples/jupyter-stacks-datascience\",\n            ref: \"master\",\n        },\n        codeMirrorConfig: {\n            theme: \"abcdef\",\n            mode: \"python\"\n        },\n        kernelOptions: {\n            name: \"python3\",\n            path: \"./.\"\n        },\n        predefinedOutput: true\n    }\n    </script>\n    <script>kernelName = 'python3'</script>", "metatags": "<meta name=\"generator\" content=\"Docutils 0.19: https://docutils.sourceforge.io/\" />\n", "rellinks": [["genindex", "General Index", "I", "index"], ["py-modindex", "Python Module Index", "", "modules"], ["installation", "Installation and Setup", "N", "next"], ["tutorials/async", "Asynchronous Programming", "P", "previous"]], "sourcename": "architecture.rst.txt", "toc": "<ul>\n<li><a class=\"reference internal\" href=\"#\">Architecture Overview</a><ul>\n<li><a class=\"reference internal\" href=\"#runhouse-resources\">Runhouse Resources</a><ul>\n<li><a class=\"reference internal\" href=\"#compute\">Compute</a></li>\n<li><a class=\"reference internal\" href=\"#data\">Data</a></li>\n</ul>\n</li>\n<li><a class=\"reference internal\" href=\"#accessibility-and-management\">Accessibility and Management</a><ul>\n<li><a class=\"reference internal\" href=\"#accessibility\">Accessibility</a></li>\n<li><a class=\"reference internal\" href=\"#management\">Management</a></li>\n<li><a class=\"reference internal\" href=\"#resource-access-levels\">Resource Access Levels</a></li>\n<li><a class=\"reference internal\" href=\"#resource-visibility\">Resource Visibility</a></li>\n</ul>\n</li>\n</ul>\n</li>\n</ul>\n", "display_toc": true, "page_source_suffix": ".rst", "globaltoc": "<p class=\"caption\" role=\"heading\"><span class=\"caption-text\">Getting Started</span></p>\n<ul>\n<li class=\"toctree-l1\"><a class=\"reference internal\" href=\"tutorials/quick-start-cloud/\">Cloud Quick Start</a></li>\n<li class=\"toctree-l1\"><a class=\"reference internal\" href=\"tutorials/quick-start-local/\">Local Quick Start</a></li>\n<li class=\"toctree-l1\"><a class=\"reference internal\" href=\"tutorials/quick-start-den/\">Den Quick Start</a></li>\n</ul>\n<p class=\"caption\" role=\"heading\"><span class=\"caption-text\">API Basics</span></p>\n<ul>\n<li class=\"toctree-l1\"><a class=\"reference internal\" href=\"tutorials/api-clusters/\">Clusters</a></li>\n<li class=\"toctree-l1\"><a class=\"reference internal\" href=\"tutorials/api-modules/\">Functions and Modules</a></li>\n<li class=\"toctree-l1\"><a class=\"reference internal\" href=\"tutorials/api-envs/\">Envs and Packages</a></li>\n<li class=\"toctree-l1\"><a class=\"reference internal\" href=\"tutorials/api-folders/\">Folders</a></li>\n<li class=\"toctree-l1\"><a class=\"reference internal\" href=\"tutorials/api-secrets/\">Secrets</a></li>\n<li class=\"toctree-l1\"><a class=\"reference internal\" href=\"tutorials/api-resources/\">Resource Management</a></li>\n</ul>\n<p class=\"caption\" role=\"heading\"><span class=\"caption-text\">API Reference</span></p>\n<ul>\n<li class=\"toctree-l1\"><a class=\"reference internal\" href=\"api/python/\">Python API</a><ul>\n<li class=\"toctree-l2\"><a class=\"reference internal\" href=\"api/python/resource/\">Resource</a></li>\n<li class=\"toctree-l2\"><a class=\"reference internal\" href=\"api/python/function/\">Function</a></li>\n<li class=\"toctree-l2\"><a class=\"reference internal\" href=\"api/python/cluster/\">Cluster</a></li>\n<li class=\"toctree-l2\"><a class=\"reference internal\" href=\"api/python/env/\">Env</a></li>\n<li class=\"toctree-l2\"><a class=\"reference internal\" href=\"api/python/package/\">Package</a></li>\n<li class=\"toctree-l2\"><a class=\"reference internal\" href=\"api/python/module/\">Module</a></li>\n<li class=\"toctree-l2\"><a class=\"reference internal\" href=\"api/python/mapper/\">Mapper</a></li>\n<li class=\"toctree-l2\"><a class=\"reference internal\" href=\"api/python/folder/\">Folder</a></li>\n<li class=\"toctree-l2\"><a class=\"reference internal\" href=\"api/python/table/\">Table</a></li>\n<li class=\"toctree-l2\"><a class=\"reference internal\" href=\"api/python/blob/\">Blob</a></li>\n<li class=\"toctree-l2\"><a class=\"reference internal\" href=\"api/python/file/\">File</a></li>\n<li class=\"toctree-l2\"><a class=\"reference internal\" href=\"api/python/secrets/\">Secrets</a></li>\n<li class=\"toctree-l2\"><a class=\"reference internal\" href=\"api/python/login/\">Login/Logout</a></li>\n</ul>\n</li>\n<li class=\"toctree-l1\"><a class=\"reference internal\" href=\"api/cli/\">Command Line Interface</a></li>\n</ul>\n<p class=\"caption\" role=\"heading\"><span class=\"caption-text\">Other Topics</span></p>\n<ul>\n<li class=\"toctree-l1\"><a class=\"reference internal\" href=\"tutorials/async/\">Asynchronous Programming</a></li>\n<li class=\"toctree-l1\"><a class=\"reference internal\" href=\"architecture/\">Architecture Overview</a></li>\n<li class=\"toctree-l1\"><a class=\"reference internal\" href=\"installation/\">Installation and Setup</a></li>\n<li class=\"toctree-l1\"><a class=\"reference internal\" href=\"debugging-logging/\">Debugging and Logging</a></li>\n<li class=\"toctree-l1\"><a class=\"reference internal\" href=\"docker/\">Docker Runtime Env</a></li>\n<li class=\"toctree-l1\"><a class=\"reference internal\" href=\"troubleshooting/\">Manual Setup and Troubleshooting</a></li>\n<li class=\"toctree-l1\"><a class=\"reference internal\" href=\"security-and-authentication/\">Security and Authentication</a></li>\n</ul>\n", "current_page_name": "architecture", "sidebars": ["about.html", "navigation.html", "relations.html", "searchbox.html", "donate.html"], "customsidebar": null, "alabaster_version": "0.7.16", "alabaster_version_info": [0, 7, 16]}