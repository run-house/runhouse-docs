{"parents": [], "prev": {"link": "../", "title": "\ud83c\udfc3\u200d\u2640\ufe0f Runhouse Docs \ud83c\udfe0"}, "next": {"link": "../tutorials/quick-start-cloud/", "title": "Quick Start"}, "title": "Installation and Compute Setup", "meta": {}, "body": "<section id=\"installation-and-compute-setup\">\n<h1>Installation and Compute Setup<a class=\"headerlink\" href=\"#installation-and-compute-setup\" title=\"Permalink to this heading\">\u00b6</a></h1>\n<p>It will take just a few minutes to setup Runhouse, including the Runhouse installation, account\ncreation, and configuring of compute credenitals (e.g. service or user account for a cloud\ncredential).</p>\n<p>Runhouse is compatible with:</p>\n<ul class=\"simple\">\n<li><p>On-demand clusters launched through Runhouse</p></li>\n<li><p>On-demand clusters launched locally</p></li>\n<li><p>Existing static clusters</p></li>\n</ul>\n<p>If you do not currently have access to a cloud account, but still want to try the Runhouse APIs,\nreview <a class=\"reference external\" href=\"https://www.run.house/docs/tutorials/quick-start-local\">how to use Runhouse locally</a>\nfor a quick experiment instead.</p>\n<section id=\"installing-runhouse\">\n<h2>Installing Runhouse<a class=\"headerlink\" href=\"#installing-runhouse\" title=\"Permalink to this heading\">\u00b6</a></h2>\n<p>The Runhouse package can be installed with:</p>\n<div class=\"highlight-default notranslate\"><div class=\"highlight\"><pre><span></span>!pip install &quot;runhouse&quot;\n</pre></div>\n</div>\n<p>The base package is sufficient to be able to launch on-demand clusters through Runhouse. If you\nyou prefer to launch from your local machine with local credentials, you can specify SkyPilot and\nthe cloud provider of your choice as additional installs:</p>\n<div class=\"highlight-default notranslate\"><div class=\"highlight\"><pre><span></span>!pip install &quot;runhouse[gcp, sky]&quot;\n</pre></div>\n</div>\n</section>\n<section id=\"account-creation-login\">\n<h2>Account Creation &amp; Login<a class=\"headerlink\" href=\"#account-creation-login\" title=\"Permalink to this heading\">\u00b6</a></h2>\n<p>You can create an account in the <a class=\"reference external\" href=\"https://www.run.house\">Runhouse website</a>, or by calling the\nlogin command in Python or CLI, which will redirect you to the sign up page. To continue logging\nin on your machine, paste in your generated Runhouse token when prompted for it.</p>\n<div class=\"highlight-default notranslate\"><div class=\"highlight\"><pre><span></span>!runhouse login\n</pre></div>\n</div>\n<div class=\"highlight-ipython3 notranslate\"><div class=\"highlight\"><pre><span></span>import runhouse as rh\n\nrh.login(token=&quot;generated_token_from_signup&quot;)\n</pre></div>\n</div>\n</section>\n<section id=\"access-to-compute\">\n<h2>Access to Compute<a class=\"headerlink\" href=\"#access-to-compute\" title=\"Permalink to this heading\">\u00b6</a></h2>\n<p>In order to use Runhouse, you must be able to access compute resources, which can take any form\n(e.g. VMs, elastic compute, Kubernetes). You should think about all the compute resources you have\nas a single pool, from which Runhouse allows you to launch ephemeral clusters to execute your code.</p>\n<ul class=\"simple\">\n<li><p><strong>Elastic Compute</strong>: Specify a service account from your cloud provider and Runhouse launches and\nmanages clusters for you (including enabling telemetry, auto-stop, etc).</p></li>\n<li><p><strong>Kubernetes</strong>: All you need is a kubeconfig to launch Runhouse clusters out of your existing\nKubernetes clusters.</p></li>\n<li><p><strong>Existing VM</strong>: Runhouse supports a variety of authentication methods to access existing\ncompute, including SSH with keys or passwords.</p></li>\n</ul>\n<p>You can specify cloud credentials or kube configs in the form of a Runhouse secret object, and\nsave it into your Runhouse account, where they will be securely stored in <a class=\"reference external\" href=\"https://www.vaultproject.io/\">Vault</a>. For more information on Secrets management, refer to\nthe <a class=\"reference external\" href=\"https://www.run.house/docs/tutorials/api-secrets\">Secrets Tutorial</a>.</p>\n<div class=\"highlight-ipython3 notranslate\"><div class=\"highlight\"><pre><span></span>gcp_creds = rh.provider_secret(provider=&quot;gcp&quot;, path=&quot;local_path/to/gcp-service-account.json&quot;)\ngcp_creds.save()\n\nkube_config = rh.provider_secret(provider=&quot;kubernetes&quot;, path=&quot;~/.kube/config&quot;)\nkube_config.save()\n</pre></div>\n</div>\n<p>Runhouse Enterprise users may have other secrets configurations, and Runhouse supports additional\nconfigurations to work with your organization\u2019s cloud settings out-of-the-box, such as setting up\nRunhouse to launch within a specific VPC.</p>\n</section>\n<section id=\"launching-clusters\">\n<h2>Launching Clusters<a class=\"headerlink\" href=\"#launching-clusters\" title=\"Permalink to this heading\">\u00b6</a></h2>\n<section id=\"den-launcher\">\n<h3>Den Launcher<a class=\"headerlink\" href=\"#den-launcher\" title=\"Permalink to this heading\">\u00b6</a></h3>\n<p>The Den launcher allows you to launch clusters in your own cloud via the Runhouse control plane.\nWe recommend this approach for a couple of reasons:</p>\n<ul class=\"simple\">\n<li><p><strong>Resource Management</strong>: Clusters launched through Runhouse are automatically persisted in the\nDen UI, making it easier to track and manage your entire collection of resources.</p></li>\n<li><p><strong>Distributed Workflows / Production Pipelines</strong>: Launch clusters as part of distributed workflows\nor pipelines without needing to configure cloud credentials in your environment.</p></li>\n</ul>\n<p>To enable the Den launcher, you can set <code class=\"code docutils literal notranslate\"><span class=\"pre\">launcher=&quot;den&quot;</span></code> in the <a class=\"reference internal\" href=\"../api/python/cluster/#cluster-factory-methods\"><span class=\"std std-ref\">cluster factory</span></a>, or update\nyour local <a class=\"reference internal\" href=\"../tutorials/api-resources/#setting-config-options\"><span class=\"std std-ref\">runhouse config</span></a> with <code class=\"code docutils literal notranslate\"><span class=\"pre\">launcher:</span> <span class=\"pre\">den</span></code> to apply the setting globally\nacross all subsequent clusters created.</p>\n</section>\n<section id=\"local-launcher\">\n<h3>Local Launcher<a class=\"headerlink\" href=\"#local-launcher\" title=\"Permalink to this heading\">\u00b6</a></h3>\n<p>It is also possible to leverage SkyPilot to launch clusters elastic compute from your local\nmachine and use Runhouse as a library only. If you are already logged in locally via CLI to your\ncloud provider of choice, this should work out-of-the-box with no further configuration.</p>\n<p>To launch locally without an account, review <a class=\"reference external\" href=\"https://docs.skypilot.co/en/latest/getting-started/installation.html#cloud-account-setup\">Skypilot\u2019s cloud setup documentation</a>\nto understand how to set up and check your local credentials. Run the CLI command <code class=\"docutils literal notranslate\"><span class=\"pre\">sky</span> <span class=\"pre\">check</span></code>\nafter installing Runhouse with Skypilot enabled to confirm you have sufficient access to the cloud.</p>\n</section>\n<section id=\"launching-api\">\n<h3>Launching API<a class=\"headerlink\" href=\"#launching-api\" title=\"Permalink to this heading\">\u00b6</a></h3>\n<p>You are now ready to launch clusters with Runhouse. Simply specify the resources you want to\nlaunch. In this example, we will bring up a 2 CPU 1 node cluster.</p>\n<div class=\"highlight-ipython3 notranslate\"><div class=\"highlight\"><pre><span></span>cluster = rh.ondemand_cluster(\n    name=&quot;rh-cluster&quot;,\n    num_cpus=&quot;2&quot;,\n    provider=&quot;gcp&quot;,\n    launcher=&quot;den&quot; # Set to `local` if you are launching from your local machine\n).up_if_not()\n</pre></div>\n</div>\n<p>A default autostop of 60 min is automatically enabled on your Runhouse-launched clusters. You can\nconfigure this in you or your organization\u2019s configurations (<code class=\"docutils literal notranslate\"><span class=\"pre\">~/.rh/config.yaml</span></code>), or by\nspecifying <code class=\"docutils literal notranslate\"><span class=\"pre\">autostop_mins=desired_autostop</span></code> in the cluster constructor.</p>\n<p>To tear this cluster down:</p>\n<div class=\"highlight-ipython3 notranslate\"><div class=\"highlight\"><pre><span></span>cluster.teardown()\n</pre></div>\n</div>\n<p>Now you\u2019re ready to start working with the Runhouse APIs. Jump over to the <a class=\"reference external\" href=\"https://www.run.house/docs/tutorials/quick-start-den\">API Quick Start\nguide</a> to start deploying and executing\ncode on your cluster.</p>\n</section>\n</section>\n</section>\n\n    <script type=\"text/x-thebe-config\">\n    {\n        requestKernel: true,\n        binderOptions: {\n            repo: \"binder-examples/jupyter-stacks-datascience\",\n            ref: \"master\",\n        },\n        codeMirrorConfig: {\n            theme: \"abcdef\",\n            mode: \"python\"\n        },\n        kernelOptions: {\n            name: \"python3\",\n            path: \"./.\"\n        },\n        predefinedOutput: true\n    }\n    </script>\n    <script>kernelName = 'python3'</script>", "metatags": "<meta name=\"generator\" content=\"Docutils 0.19: https://docutils.sourceforge.io/\" />\n", "rellinks": [["genindex", "General Index", "I", "index"], ["py-modindex", "Python Module Index", "", "modules"], ["tutorials/quick-start-cloud", "Quick Start", "N", "next"], ["index", "\ud83c\udfc3\u200d\u2640\ufe0f Runhouse Docs \ud83c\udfe0", "P", "previous"]], "sourcename": "installation-setup.rst.txt", "toc": "<ul>\n<li><a class=\"reference internal\" href=\"#\">Installation and Compute Setup</a><ul>\n<li><a class=\"reference internal\" href=\"#installing-runhouse\">Installing Runhouse</a></li>\n<li><a class=\"reference internal\" href=\"#account-creation-login\">Account Creation &amp; Login</a></li>\n<li><a class=\"reference internal\" href=\"#access-to-compute\">Access to Compute</a></li>\n<li><a class=\"reference internal\" href=\"#launching-clusters\">Launching Clusters</a><ul>\n<li><a class=\"reference internal\" href=\"#den-launcher\">Den Launcher</a></li>\n<li><a class=\"reference internal\" href=\"#local-launcher\">Local Launcher</a></li>\n<li><a class=\"reference internal\" href=\"#launching-api\">Launching API</a></li>\n</ul>\n</li>\n</ul>\n</li>\n</ul>\n", "display_toc": true, "page_source_suffix": ".rst", "globaltoc": "<p class=\"caption\" role=\"heading\"><span class=\"caption-text\">Getting Started</span></p>\n<ul>\n<li class=\"toctree-l1\"><a class=\"reference internal\" href=\"installation-setup/\">Installation and Compute Setup</a></li>\n<li class=\"toctree-l1\"><a class=\"reference internal\" href=\"tutorials/quick-start-cloud/\">Quick Start</a></li>\n<li class=\"toctree-l1\"><a class=\"reference internal\" href=\"development-guide/\">Development Guide</a></li>\n<li class=\"toctree-l1\"><a class=\"reference internal\" href=\"runhouse-in-your-stack/\">Working with Common Libraries and Tools</a></li>\n</ul>\n<p class=\"caption\" role=\"heading\"><span class=\"caption-text\">API Basics</span></p>\n<ul>\n<li class=\"toctree-l1\"><a class=\"reference internal\" href=\"tutorials/api-clusters/\">Clusters</a></li>\n<li class=\"toctree-l1\"><a class=\"reference internal\" href=\"tutorials/api-modules/\">Functions and Modules</a></li>\n<li class=\"toctree-l1\"><a class=\"reference internal\" href=\"tutorials/api-process/\">Processes</a></li>\n<li class=\"toctree-l1\"><a class=\"reference internal\" href=\"tutorials/api-images/\">Images</a></li>\n<li class=\"toctree-l1\"><a class=\"reference internal\" href=\"tutorials/api-folders/\">Folders</a></li>\n<li class=\"toctree-l1\"><a class=\"reference internal\" href=\"tutorials/api-secrets/\">Secrets</a></li>\n<li class=\"toctree-l1\"><a class=\"reference internal\" href=\"tutorials/api-resources/\">Resource Management</a></li>\n</ul>\n<p class=\"caption\" role=\"heading\"><span class=\"caption-text\">API Reference</span></p>\n<ul>\n<li class=\"toctree-l1\"><a class=\"reference internal\" href=\"api/python/\">Python API</a><ul>\n<li class=\"toctree-l2\"><a class=\"reference internal\" href=\"api/python/resource/\">Resource</a></li>\n<li class=\"toctree-l2\"><a class=\"reference internal\" href=\"api/python/function/\">Function</a></li>\n<li class=\"toctree-l2\"><a class=\"reference internal\" href=\"api/python/cluster/\">Cluster</a></li>\n<li class=\"toctree-l2\"><a class=\"reference internal\" href=\"api/python/image/\">Image</a></li>\n<li class=\"toctree-l2\"><a class=\"reference internal\" href=\"api/python/package/\">Package</a></li>\n<li class=\"toctree-l2\"><a class=\"reference internal\" href=\"api/python/module/\">Module</a></li>\n<li class=\"toctree-l2\"><a class=\"reference internal\" href=\"api/python/folder/\">Folder</a></li>\n<li class=\"toctree-l2\"><a class=\"reference internal\" href=\"api/python/secrets/\">Secrets</a></li>\n<li class=\"toctree-l2\"><a class=\"reference internal\" href=\"api/python/login/\">Login/Logout</a></li>\n</ul>\n</li>\n<li class=\"toctree-l1\"><a class=\"reference internal\" href=\"api/cli/\">Command Line Interface</a></li>\n</ul>\n<p class=\"caption\" role=\"heading\"><span class=\"caption-text\">Other Topics</span></p>\n<ul>\n<li class=\"toctree-l1\"><a class=\"reference internal\" href=\"tutorials/async/\">Asynchronous Programming</a></li>\n<li class=\"toctree-l1\"><a class=\"reference internal\" href=\"installation/\">Installation and Setup</a></li>\n<li class=\"toctree-l1\"><a class=\"reference internal\" href=\"debugging-logging/\">Debugging and Logging</a></li>\n<li class=\"toctree-l1\"><a class=\"reference internal\" href=\"docker-setup/\">Docker: Cluster Setup</a></li>\n<li class=\"toctree-l1\"><a class=\"reference internal\" href=\"docker-workflows/\">Docker: Dev and Prod Workflows with Runhouse</a></li>\n<li class=\"toctree-l1\"><a class=\"reference internal\" href=\"security-and-authentication/\">Security and Authentication</a></li>\n</ul>\n", "current_page_name": "installation-setup", "sidebars": ["about.html", "navigation.html", "relations.html", "searchbox.html", "donate.html"], "customsidebar": null, "alabaster_version": "0.7.16", "alabaster_version_info": [0, 7, 16]}