{"parents": [], "prev": {"link": "../quick-start-cloud/", "title": "Quick Start"}, "next": {"link": "../../how-to-use-runhouse/", "title": "How to Use Runhouse"}, "title": "Den Quick Start", "meta": {}, "body": "<section id=\"den-quick-start\">\n<h1>Den Quick Start<a class=\"headerlink\" href=\"#den-quick-start\" title=\"Permalink to this heading\">\u00b6</a></h1>\n<p><a href=\"https://colab.research.google.com/github/run-house/notebooks/blob/stable/docs/quick-start-den.ipynb\">\n<img height=\"20px\" width=\"117px\" src=\"https://colab.research.google.com/assets/colab-badge.svg\" alt=\"Open In Colab\"/></a></p><p>With <a class=\"reference external\" href=\"https://www.run.house/dashboard\">Runhouse Den</a>, you can\nmanage all of your compute and make it available through ephemeral\nclusters for both research and production workflows. Whether you have a\nML platforms team or just yourself, Runhouse is the easiest way to\nensure your compute is efficiently utilized and oversubscribed without\nslowing down development velocity.</p>\n<ul class=\"simple\">\n<li><p>Centrally manage multiple cloud accounts and Kubernetes clusters in\nthe same place.</p></li>\n<li><p>Both developers and the platforms team can monitor resource usage in\ndetail and access persisted logs in the web UI.</p></li>\n<li><p>Save and reload services and resources (clusters, functions, classes,\netc) - for instance, share an embeddings endpoint to be used by\nmultiple teams with perfect reproducibility.</p></li>\n<li><p>Set limits and quotas for teams and individuals, and queue requests\nfor compute.</p></li>\n</ul>\n<p>A few of the ways Runhouse Den has helped teams include:</p>\n<ul class=\"simple\">\n<li><p>Moving research teams from locally or ad hoc hosted notebooks, towards\nstandardized, reproducible compute and training workflows that are\nready to be executed in production.</p></li>\n<li><p>Improving Platform team observability over day-to-day activities as\nthe ML team grew, and getting much better disambiguation between waste\n(clusters up too long, clusters underutilizing their resources) and\ngenuinely valuable workflows that just happen to be long-lived.</p></li>\n<li><p>Reducing research-to-production time by 80% since resources launched\nand saved to Den can be scheduled nearly as-is by orchestrators.</p></li>\n<li><p>Improving key / credentials management</p></li>\n<li><p>Adopting a second cloud due to better quotas and cloud credits (while\nbeing mostly opaque to the end user)</p></li>\n</ul>\n<p>If you haven\u2019t already, check-out\n<a class=\"reference external\" href=\"https://www.run.house/docs/tutorials/quick-start-cloud\">Quickstart</a>\nor the <a class=\"reference external\" href=\"https://www.run.house/docs/main/en/how-to-use-runhouse\">Runhouse usage\nguide</a> to\nsee how you can get started with the Runhouse client as well.</p>\n<section id=\"installing-runhouse\">\n<h2>Installing Runhouse<a class=\"headerlink\" href=\"#installing-runhouse\" title=\"Permalink to this heading\">\u00b6</a></h2>\n<p>To use Runhouse to launch on-demand clusters, run the following\ninstallation command.</p>\n<div class=\"highlight-ipython3 notranslate\"><div class=\"highlight\"><pre><span></span>!pip install &quot;runhouse&quot;\n</pre></div>\n</div>\n</section>\n<section id=\"account-creation-login\">\n<h2>Account Creation &amp; Login<a class=\"headerlink\" href=\"#account-creation-login\" title=\"Permalink to this heading\">\u00b6</a></h2>\n<p>You can create an account on the <a class=\"reference external\" href=\"https://www.run.house\">run.house</a>\nwebsite or by calling the login command in Python or CLI.</p>\n<p>To login, call <code class=\"docutils literal notranslate\"><span class=\"pre\">runhouse</span> <span class=\"pre\">login</span> <span class=\"pre\">--sync-secrets</span></code> in CLI. This will ask\nyou a series of questions on whether to sync local secrets to Runhouse -\ne.g.\u00a0your AWS / GCP / Azure secrets; once synced, you can launch compute\nvia Runhouse anywhere you are authenticated with Runhouse.</p>\n<p>For more information on Secrets management, refer to the <a class=\"reference external\" href=\"https://www.run.house/docs/tutorials/api-secrets\">Secrets\nTutorial</a>. Secrets\nare always securely stored in <a class=\"reference external\" href=\"https://www.vaultproject.io/\">Vault</a>.\nIf you have any questions about Runhouse\u2019s information security\npolicies, please reach out at <a class=\"reference external\" href=\"mailto:hello&#37;&#52;&#48;run&#46;house\">hello<span>&#64;</span>run<span>&#46;</span>house</a>.</p>\n</section>\n<section id=\"den-launcher\">\n<h2>Den Launcher<a class=\"headerlink\" href=\"#den-launcher\" title=\"Permalink to this heading\">\u00b6</a></h2>\n<p>Instead of launching clusters directly from your local environment, the Den launcher allows you to launch clusters in your own cloud via the Runhouse control plane.\nWe recommend this approach for a couple of reasons:</p>\n<ul class=\"simple\">\n<li><p><strong>Resource Management</strong>: Clusters launched through Runhouse are automatically persisted in the Den UI, making it easier to track and manage your entire collection of resources.</p></li>\n<li><p><strong>Resource Sharing</strong>: Share clusters with your team members, enabling collaborative features like SSH access to shared clusters.</p></li>\n<li><p><strong>Resource Monitoring</strong>: Monitor cluster activity and logs, and configure autostop settings to terminate clusters after periods of inactivity.</p></li>\n<li><p><strong>Distributed Workflows / Production Pipelines</strong>: Launch clusters as part of distributed workflows or pipelines without needing to configure cloud credentials in your environment.</p></li>\n</ul>\n<p>To enable the Den launcher, you can set <code class=\"code docutils literal notranslate\"><span class=\"pre\">launcher=den</span></code> in the <a class=\"reference internal\" href=\"../../api/python/cluster/#cluster-factory-methods\"><span class=\"std std-ref\">cluster factory</span></a>,\nor update your local <a class=\"reference internal\" href=\"../api-resources/#setting-config-options\"><span class=\"std std-ref\">runhouse config</span></a> with <code class=\"code docutils literal notranslate\"><span class=\"pre\">launcher:</span> <span class=\"pre\">den</span></code> to apply the setting\nglobally across all subsequent clusters created.</p>\n</section>\n<section id=\"launching-and-saving-clusters\">\n<h2>Launching and Saving Clusters<a class=\"headerlink\" href=\"#launching-and-saving-clusters\" title=\"Permalink to this heading\">\u00b6</a></h2>\n<p>Let\u2019s start by constructing some Runhouse resources that we\u2019d like to\nsave.</p>\n<div class=\"highlight-ipython3 notranslate\"><div class=\"highlight\"><pre><span></span>import runhouse as rh\ncluster = rh.ondemand_cluster(\n    name=&quot;rh-cluster&quot;,\n    cpus=&quot;4&quot;,\n    provider=&quot;aws&quot;\n).up_if_not()\n</pre></div>\n</div>\n<div class=\"highlight-ipython3 notranslate\"><div class=\"highlight\"><pre><span></span>def get_platform(a = 0):\n    import platform\n    return platform.platform()\n\nremote_get_platform = rh.function(get_platform).to(cluster)\n</pre></div>\n</div>\n<div class=\"code-output highlight-default notranslate\"><div class=\"highlight\"><pre><span></span>INFO | 2024-05-16 03:51:58.483032 | Because this function is defined in a notebook, writing it out to /Users/donny/code/notebooks/docs/get_platform_fn.py to make it importable. Please make sure the function does not rely on any local variables, including imports (which should be moved inside the function body). This restriction does not apply to functions defined in normal Python files.\nINFO | 2024-05-16 03:51:58.493093 | Port 32300 is already in use. Trying next port.\nINFO | 2024-05-16 03:51:58.494347 | Forwarding port 32301 to port 32300 on localhost.\nINFO | 2024-05-16 03:51:59.587613 | Server rh-cluster is up.\nINFO | 2024-05-16 03:51:59.595752 | Copying package from file:///Users/donny/code/notebooks to: rh-cluster\nINFO | 2024-05-16 03:52:01.252665 | Sending module get_platform of type &lt;class &#39;runhouse.resources.functions.function.Function&#39;&gt; to rh-cluster\n</pre></div>\n</div>\n<p>You can save the resources we created above to your Den account with the\n<code class=\"docutils literal notranslate\"><span class=\"pre\">save</span></code> method:</p>\n<div class=\"highlight-ipython3 notranslate\"><div class=\"highlight\"><pre><span></span>cluster.save()\nremote_get_platform.save()\n</pre></div>\n</div>\n</section>\n<section id=\"reloading\">\n<h2>Reloading<a class=\"headerlink\" href=\"#reloading\" title=\"Permalink to this heading\">\u00b6</a></h2>\n<p>Once saved, resources can be reloaded from any environment in which you\nare logged into. For instance, if you are running this in a Colab\nnotebook, you can jump into your terminal, call <code class=\"docutils literal notranslate\"><span class=\"pre\">runhouse</span> <span class=\"pre\">login</span></code>, and\nthen reconstruct and run the function on the cluster with the following\nPython script:</p>\n<div class=\"highlight-ipython3 notranslate\"><div class=\"highlight\"><pre><span></span>import runhouse as rh\n\nif __name__ == &quot;__main__&quot;:\n    reloaded_fn = rh.function(name=&quot;get_platform&quot;)\n    print(reloaded_fn())\n</pre></div>\n</div>\n<p>The <code class=\"docutils literal notranslate\"><span class=\"pre\">name</span></code> used to reload the function is the method name by default.\nYou can customize a function name using the following syntax:</p>\n<div class=\"highlight-ipython3 notranslate\"><div class=\"highlight\"><pre><span></span>remote_get_platform = rh.function(fn=get_platform, name=&quot;my_function&quot;).to(cluster)\n</pre></div>\n</div>\n</section>\n<section id=\"sharing\">\n<h2>Sharing<a class=\"headerlink\" href=\"#sharing\" title=\"Permalink to this heading\">\u00b6</a></h2>\n<p>You can also share your resource with collaborators, and choose which\nlevel of access to give. Once shared, they will be able to see the\nresource in their dashboard as well, and be able to load and use the\nshared resource. They\u2019ll need to load the resource using its full name,\nwhich includes your username (<code class=\"docutils literal notranslate\"><span class=\"pre\">/your_username/get_platform</span></code>).</p>\n<div class=\"highlight-ipython3 notranslate\"><div class=\"highlight\"><pre><span></span>remote_get_platform.share(\n    users=[&quot;teammate1@email.com&quot;],\n    access_level=&quot;write&quot;,\n)\n</pre></div>\n</div>\n</section>\n<section id=\"web-ui\">\n<h2>Web UI<a class=\"headerlink\" href=\"#web-ui\" title=\"Permalink to this heading\">\u00b6</a></h2>\n<p>After saving your resources, you can log in and see them on your <a class=\"reference external\" href=\"https://www.run.house/dashboard\">Den\ndashboard</a>, labeled as\n<code class=\"docutils literal notranslate\"><span class=\"pre\">/&lt;username&gt;/rh-cluster</span></code> and <code class=\"docutils literal notranslate\"><span class=\"pre\">/&lt;username&gt;/get_platform</span></code>.</p>\n<p>Clicking into the resource provides information about your resource. You\ncan view the resource metadata, previous versions, and activity, or add\na description to the resource.</p>\n</section>\n<section id=\"dive-deeper\">\n<h2>Dive Deeper<a class=\"headerlink\" href=\"#dive-deeper\" title=\"Permalink to this heading\">\u00b6</a></h2>\n<p>Check on more in-depth tutorials on:</p>\n<ul class=\"simple\">\n<li><p><a class=\"reference internal\" href=\"../api-resources/#resource-management\"><span class=\"std std-ref\">Resource Management</span></a></p></li>\n<li><p><a class=\"reference internal\" href=\"../api-secrets/#secrets\"><span class=\"std std-ref\">Secrets Management</span></a></p></li>\n</ul>\n</section>\n</section>\n\n    <script type=\"text/x-thebe-config\">\n    {\n        requestKernel: true,\n        binderOptions: {\n            repo: \"binder-examples/jupyter-stacks-datascience\",\n            ref: \"master\",\n        },\n        codeMirrorConfig: {\n            theme: \"abcdef\",\n            mode: \"python\"\n        },\n        kernelOptions: {\n            name: \"python3\",\n            path: \"./tutorials\"\n        },\n        predefinedOutput: true\n    }\n    </script>\n    <script>kernelName = 'python3'</script>", "metatags": "<meta name=\"generator\" content=\"Docutils 0.19: https://docutils.sourceforge.io/\" />\n", "rellinks": [["genindex", "General Index", "I", "index"], ["py-modindex", "Python Module Index", "", "modules"], ["how-to-use-runhouse", "How to Use Runhouse", "N", "next"], ["tutorials/quick-start-cloud", "Quick Start", "P", "previous"]], "sourcename": "tutorials/quick-start-den.rst.txt", "toc": "<ul>\n<li><a class=\"reference internal\" href=\"#\">Den Quick Start</a><ul>\n<li><a class=\"reference internal\" href=\"#installing-runhouse\">Installing Runhouse</a></li>\n<li><a class=\"reference internal\" href=\"#account-creation-login\">Account Creation &amp; Login</a></li>\n<li><a class=\"reference internal\" href=\"#den-launcher\">Den Launcher</a></li>\n<li><a class=\"reference internal\" href=\"#launching-and-saving-clusters\">Launching and Saving Clusters</a></li>\n<li><a class=\"reference internal\" href=\"#reloading\">Reloading</a></li>\n<li><a class=\"reference internal\" href=\"#sharing\">Sharing</a></li>\n<li><a class=\"reference internal\" href=\"#web-ui\">Web UI</a></li>\n<li><a class=\"reference internal\" href=\"#dive-deeper\">Dive Deeper</a></li>\n</ul>\n</li>\n</ul>\n", "display_toc": true, "page_source_suffix": ".rst", "globaltoc": "<p class=\"caption\" role=\"heading\"><span class=\"caption-text\">Getting Started</span></p>\n<ul>\n<li class=\"toctree-l1\"><a class=\"reference internal\" href=\"tutorials/quick-start-cloud/\">Quick Start</a></li>\n<li class=\"toctree-l1\"><a class=\"reference internal\" href=\"tutorials/quick-start-den/\">Den Quick Start</a></li>\n<li class=\"toctree-l1\"><a class=\"reference internal\" href=\"how-to-use-runhouse/\">How to Use Runhouse</a></li>\n<li class=\"toctree-l1\"><a class=\"reference internal\" href=\"runhouse-in-your-stack/\">Working with Common Libraries and Tools</a></li>\n</ul>\n<p class=\"caption\" role=\"heading\"><span class=\"caption-text\">API Basics</span></p>\n<ul>\n<li class=\"toctree-l1\"><a class=\"reference internal\" href=\"tutorials/api-clusters/\">Clusters</a></li>\n<li class=\"toctree-l1\"><a class=\"reference internal\" href=\"tutorials/api-modules/\">Functions and Modules</a></li>\n<li class=\"toctree-l1\"><a class=\"reference internal\" href=\"tutorials/api-folders/\">Folders</a></li>\n<li class=\"toctree-l1\"><a class=\"reference internal\" href=\"tutorials/api-secrets/\">Secrets</a></li>\n<li class=\"toctree-l1\"><a class=\"reference internal\" href=\"tutorials/api-resources/\">Resource Management</a></li>\n</ul>\n<p class=\"caption\" role=\"heading\"><span class=\"caption-text\">API Reference</span></p>\n<ul>\n<li class=\"toctree-l1\"><a class=\"reference internal\" href=\"api/python/\">Python API</a><ul>\n<li class=\"toctree-l2\"><a class=\"reference internal\" href=\"api/python/resource/\">Resource</a></li>\n<li class=\"toctree-l2\"><a class=\"reference internal\" href=\"api/python/function/\">Function</a></li>\n<li class=\"toctree-l2\"><a class=\"reference internal\" href=\"api/python/cluster/\">Cluster</a></li>\n<li class=\"toctree-l2\"><a class=\"reference internal\" href=\"api/python/image/\">Image</a></li>\n<li class=\"toctree-l2\"><a class=\"reference internal\" href=\"api/python/package/\">Package</a></li>\n<li class=\"toctree-l2\"><a class=\"reference internal\" href=\"api/python/module/\">Module</a></li>\n<li class=\"toctree-l2\"><a class=\"reference internal\" href=\"api/python/folder/\">Folder</a></li>\n<li class=\"toctree-l2\"><a class=\"reference internal\" href=\"api/python/secrets/\">Secrets</a></li>\n<li class=\"toctree-l2\"><a class=\"reference internal\" href=\"api/python/login/\">Login/Logout</a></li>\n</ul>\n</li>\n<li class=\"toctree-l1\"><a class=\"reference internal\" href=\"api/cli/\">Command Line Interface</a></li>\n</ul>\n<p class=\"caption\" role=\"heading\"><span class=\"caption-text\">Other Topics</span></p>\n<ul>\n<li class=\"toctree-l1\"><a class=\"reference internal\" href=\"tutorials/async/\">Asynchronous Programming</a></li>\n<li class=\"toctree-l1\"><a class=\"reference internal\" href=\"installation/\">Installation and Setup</a></li>\n<li class=\"toctree-l1\"><a class=\"reference internal\" href=\"debugging-logging/\">Debugging and Logging</a></li>\n<li class=\"toctree-l1\"><a class=\"reference internal\" href=\"docker-setup/\">Docker: Cluster Setup</a></li>\n<li class=\"toctree-l1\"><a class=\"reference internal\" href=\"docker-workflows/\">Docker: Dev and Prod Workflows</a></li>\n<li class=\"toctree-l1\"><a class=\"reference internal\" href=\"troubleshooting/\">Manual Setup and Troubleshooting</a></li>\n<li class=\"toctree-l1\"><a class=\"reference internal\" href=\"security-and-authentication/\">Security and Authentication</a></li>\n</ul>\n", "current_page_name": "tutorials/quick-start-den", "sidebars": ["about.html", "navigation.html", "relations.html", "searchbox.html", "donate.html"], "customsidebar": null, "alabaster_version": "0.7.16", "alabaster_version_info": [0, 7, 16]}