{"parents": [], "prev": {"link": "../api-process/", "title": "Processes"}, "next": {"link": "../api-folders/", "title": "Folders"}, "title": "Images", "meta": {}, "body": "<section id=\"images\">\n<h1>Images<a class=\"headerlink\" href=\"#images\" title=\"Permalink to this heading\">\u00b6</a></h1>\n<p><a href=\"https://colab.research.google.com/github/run-house/notebooks/blob/stable/docs/api-images.ipynb\">\n<img height=\"20px\" width=\"117px\" src=\"https://colab.research.google.com/assets/colab-badge.svg\" alt=\"Open In Colab\"/></a></p><p>Runhouse clusters expose various functions that allow you to set up\nstate, dependencies, and whatnot on all nodes of your cluster. These\ninclude:</p>\n<ul class=\"simple\">\n<li><p><code class=\"docutils literal notranslate\"><span class=\"pre\">cluster.install_packages(...)</span></code></p></li>\n<li><p><code class=\"docutils literal notranslate\"><span class=\"pre\">cluster.rsync(...)</span></code></p></li>\n<li><p><code class=\"docutils literal notranslate\"><span class=\"pre\">cluster.set_env_vars(...)</span></code></p></li>\n<li><p><code class=\"docutils literal notranslate\"><span class=\"pre\">cluster.run_bash(...)</span></code></p></li>\n</ul>\n<p>A Runhouse \u201cImage\u201d is simply an abstraction that allows you to run\nseveral setup steps <em>before</em> we install <code class=\"docutils literal notranslate\"><span class=\"pre\">runhouse</span></code> and bring up the\nRunhouse daemon and initial set up on your cluster\u2019s nodes. You can also\nspecify a Docker <code class=\"docutils literal notranslate\"><span class=\"pre\">image_id</span></code> as the \u201cbase image\u201d of your Runhouse\nimage.</p>\n<p>Here\u2019s a simple example of using the Runhouse Image abstraction in your\ncluster setup:</p>\n<div class=\"highlight-ipython3 notranslate\"><div class=\"highlight\"><pre><span></span>import runhouse as rh\n\nimage = (\n    rh.Image(name=&quot;sample_image&quot;)\n    .from_docker(&quot;python:3.12.8-bookworm&quot;)\n    .install_packages([&quot;numpy&quot;, &quot;pandas&quot;])\n    .sync_secrets([&quot;huggingface&quot;])\n    .set_env_vars({&quot;RH_LOG_LEVEL&quot;: &quot;debug&quot;})\n)\n\ncluster = rh.cluster(name=&quot;ml_ready_cluster&quot;, image=image, instance_type=&quot;CPU:2+&quot;, provider=&quot;aws&quot;).up_if_not()\n</pre></div>\n</div>\n<div class=\"code-output highlight-default notranslate\"><div class=\"highlight\"><pre><span></span>I 12-17 12:04:55 provisioner.py:560] \u001b[32mSuccessfully provisioned cluster: ml_ready_cluster\u001b[0m\nI 12-17 12:04:57 cloud_vm_ray_backend.py:3402] Run commands not specified or empty.\nClusters\n\u001b[2mAWS: Fetching availability zones mapping...\u001b[0mNAME              LAUNCHED        RESOURCES                                                                  STATUS  AUTOSTOP  COMMAND\nml_ready_cluster  a few secs ago  1x AWS(m6i.large, image_id={&#39;us-east-1&#39;: &#39;docker:python:3.12.8-bookwor...  UP      (down)    /Users/rohinbhasin/minico...\n\n\u001b[?25h\n</pre></div>\n</div>\n<p>The growing listing of setup steps available for Runhouse images is\navailable in the <a class=\"reference internal\" href=\"../../api/python/image/#image-class\"><span class=\"std std-ref\">API reference docs</span></a>.</p>\n</section>\n\n    <script type=\"text/x-thebe-config\">\n    {\n        requestKernel: true,\n        binderOptions: {\n            repo: \"binder-examples/jupyter-stacks-datascience\",\n            ref: \"master\",\n        },\n        codeMirrorConfig: {\n            theme: \"abcdef\",\n            mode: \"python\"\n        },\n        kernelOptions: {\n            name: \"python3\",\n            path: \"./tutorials\"\n        },\n        predefinedOutput: true\n    }\n    </script>\n    <script>kernelName = 'python3'</script>", "metatags": "<meta name=\"generator\" content=\"Docutils 0.19: https://docutils.sourceforge.io/\" />\n", "rellinks": [["genindex", "General Index", "I", "index"], ["py-modindex", "Python Module Index", "", "modules"], ["tutorials/api-folders", "Folders", "N", "next"], ["tutorials/api-process", "Processes", "P", "previous"]], "sourcename": "tutorials/api-images.rst.txt", "toc": "<ul>\n<li><a class=\"reference internal\" href=\"#\">Images</a></li>\n</ul>\n", "display_toc": false, "page_source_suffix": ".rst", "globaltoc": "<p class=\"caption\" role=\"heading\"><span class=\"caption-text\">Getting Started</span></p>\n<ul>\n<li class=\"toctree-l1\"><a class=\"reference internal\" href=\"installation-setup/\">Installation and Compute Setup</a></li>\n<li class=\"toctree-l1\"><a class=\"reference internal\" href=\"tutorials/quick-start-cloud/\">Quick Start</a></li>\n<li class=\"toctree-l1\"><a class=\"reference internal\" href=\"development-guide/\">Development Guide</a></li>\n<li class=\"toctree-l1\"><a class=\"reference internal\" href=\"runhouse-in-your-stack/\">Working with Common Libraries and Tools</a></li>\n</ul>\n<p class=\"caption\" role=\"heading\"><span class=\"caption-text\">API Basics</span></p>\n<ul>\n<li class=\"toctree-l1\"><a class=\"reference internal\" href=\"tutorials/api-clusters/\">Clusters</a></li>\n<li class=\"toctree-l1\"><a class=\"reference internal\" href=\"tutorials/api-modules/\">Functions and Modules</a></li>\n<li class=\"toctree-l1\"><a class=\"reference internal\" href=\"tutorials/api-process/\">Processes</a></li>\n<li class=\"toctree-l1\"><a class=\"reference internal\" href=\"tutorials/api-images/\">Images</a></li>\n<li class=\"toctree-l1\"><a class=\"reference internal\" href=\"tutorials/api-folders/\">Folders</a></li>\n<li class=\"toctree-l1\"><a class=\"reference internal\" href=\"tutorials/api-secrets/\">Secrets</a></li>\n<li class=\"toctree-l1\"><a class=\"reference internal\" href=\"tutorials/api-resources/\">Resource Management</a></li>\n</ul>\n<p class=\"caption\" role=\"heading\"><span class=\"caption-text\">API Reference</span></p>\n<ul>\n<li class=\"toctree-l1\"><a class=\"reference internal\" href=\"api/python/\">Python API</a><ul>\n<li class=\"toctree-l2\"><a class=\"reference internal\" href=\"api/python/resource/\">Resource</a></li>\n<li class=\"toctree-l2\"><a class=\"reference internal\" href=\"api/python/function/\">Function</a></li>\n<li class=\"toctree-l2\"><a class=\"reference internal\" href=\"api/python/cluster/\">Cluster</a></li>\n<li class=\"toctree-l2\"><a class=\"reference internal\" href=\"api/python/image/\">Image</a></li>\n<li class=\"toctree-l2\"><a class=\"reference internal\" href=\"api/python/package/\">Package</a></li>\n<li class=\"toctree-l2\"><a class=\"reference internal\" href=\"api/python/module/\">Module</a></li>\n<li class=\"toctree-l2\"><a class=\"reference internal\" href=\"api/python/folder/\">Folder</a></li>\n<li class=\"toctree-l2\"><a class=\"reference internal\" href=\"api/python/secrets/\">Secrets</a></li>\n<li class=\"toctree-l2\"><a class=\"reference internal\" href=\"api/python/login/\">Login/Logout</a></li>\n</ul>\n</li>\n<li class=\"toctree-l1\"><a class=\"reference internal\" href=\"api/cli/\">Command Line Interface</a></li>\n</ul>\n<p class=\"caption\" role=\"heading\"><span class=\"caption-text\">Other Topics</span></p>\n<ul>\n<li class=\"toctree-l1\"><a class=\"reference internal\" href=\"tutorials/async/\">Asynchronous Programming</a></li>\n<li class=\"toctree-l1\"><a class=\"reference internal\" href=\"installation/\">Installation and Setup</a></li>\n<li class=\"toctree-l1\"><a class=\"reference internal\" href=\"debugging-logging/\">Debugging and Logging</a></li>\n<li class=\"toctree-l1\"><a class=\"reference internal\" href=\"docker-setup/\">Docker: Cluster Setup</a></li>\n<li class=\"toctree-l1\"><a class=\"reference internal\" href=\"docker-workflows/\">Docker: Dev and Prod Workflows with Runhouse</a></li>\n<li class=\"toctree-l1\"><a class=\"reference internal\" href=\"security-and-authentication/\">Security and Authentication</a></li>\n</ul>\n", "current_page_name": "tutorials/api-images", "sidebars": ["about.html", "navigation.html", "relations.html", "searchbox.html", "donate.html"], "customsidebar": null, "alabaster_version": "0.7.16", "alabaster_version_info": [0, 7, 16]}