{"parents": [{"link": "../../../../", "title": "Module code"}], "title": "runhouse.resources.images.image", "body": "<h1>Source code for runhouse.resources.images.image</h1><div class=\"highlight\"><pre>\n<span></span><span class=\"kn\">from</span> <span class=\"nn\">enum</span> <span class=\"kn\">import</span> <span class=\"n\">Enum</span>\n<span class=\"kn\">from</span> <span class=\"nn\">typing</span> <span class=\"kn\">import</span> <span class=\"n\">Any</span><span class=\"p\">,</span> <span class=\"n\">Dict</span><span class=\"p\">,</span> <span class=\"n\">List</span><span class=\"p\">,</span> <span class=\"n\">Optional</span><span class=\"p\">,</span> <span class=\"n\">Union</span>\n\n<span class=\"c1\"># Internal class to represent the image construction process</span>\n<div class=\"viewcode-block\" id=\"ImageSetupStepType\"><a class=\"viewcode-back\" href=\"../../../../../api/python/image/#runhouse.ImageSetupStepType\">[docs]</a><span class=\"k\">class</span> <span class=\"nc\">ImageSetupStepType</span><span class=\"p\">(</span><span class=\"n\">Enum</span><span class=\"p\">):</span>\n<span class=\"w\">    </span><span class=\"sd\">&quot;&quot;&quot;Enum for valid Image setup step types&quot;&quot;&quot;</span>\n\n    <span class=\"n\">PACKAGES</span> <span class=\"o\">=</span> <span class=\"s2\">&quot;packages&quot;</span>\n    <span class=\"n\">CMD_RUN</span> <span class=\"o\">=</span> <span class=\"s2\">&quot;cmd_run&quot;</span>\n    <span class=\"n\">SETUP_CONDA_ENV</span> <span class=\"o\">=</span> <span class=\"s2\">&quot;setup_conda_env&quot;</span>\n    <span class=\"n\">RSYNC</span> <span class=\"o\">=</span> <span class=\"s2\">&quot;rsync&quot;</span>\n    <span class=\"n\">SYNC_SECRETS</span> <span class=\"o\">=</span> <span class=\"s2\">&quot;sync_secrets&quot;</span>\n    <span class=\"n\">SET_ENV_VARS</span> <span class=\"o\">=</span> <span class=\"s2\">&quot;set_env_vars&quot;</span></div>\n\n\n<div class=\"viewcode-block\" id=\"ImageSetupStep\"><a class=\"viewcode-back\" href=\"../../../../../api/python/image/#runhouse.ImageSetupStep\">[docs]</a><span class=\"k\">class</span> <span class=\"nc\">ImageSetupStep</span><span class=\"p\">:</span>\n<div class=\"viewcode-block\" id=\"ImageSetupStep.__init__\"><a class=\"viewcode-back\" href=\"../../../../../api/python/image/#runhouse.ImageSetupStep.__init__\">[docs]</a>    <span class=\"k\">def</span> <span class=\"fm\">__init__</span><span class=\"p\">(</span>\n        <span class=\"bp\">self</span><span class=\"p\">,</span>\n        <span class=\"n\">step_type</span><span class=\"p\">:</span> <span class=\"n\">ImageSetupStepType</span><span class=\"p\">,</span>\n        <span class=\"o\">**</span><span class=\"n\">kwargs</span><span class=\"p\">:</span> <span class=\"n\">Dict</span><span class=\"p\">[</span><span class=\"nb\">str</span><span class=\"p\">,</span> <span class=\"n\">Any</span><span class=\"p\">],</span>\n    <span class=\"p\">):</span>\n        <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">step_type</span> <span class=\"o\">=</span> <span class=\"n\">step_type</span>\n        <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">kwargs</span> <span class=\"o\">=</span> <span class=\"n\">kwargs</span></div></div>\n\n\n<div class=\"viewcode-block\" id=\"Image\"><a class=\"viewcode-back\" href=\"../../../../../api/python/image/#runhouse.Image\">[docs]</a><span class=\"k\">class</span> <span class=\"nc\">Image</span><span class=\"p\">:</span>\n<div class=\"viewcode-block\" id=\"Image.__init__\"><a class=\"viewcode-back\" href=\"../../../../../api/python/image/#runhouse.Image.__init__\">[docs]</a>    <span class=\"k\">def</span> <span class=\"fm\">__init__</span><span class=\"p\">(</span><span class=\"bp\">self</span><span class=\"p\">,</span> <span class=\"n\">name</span><span class=\"p\">:</span> <span class=\"nb\">str</span><span class=\"p\">,</span> <span class=\"n\">image_id</span><span class=\"p\">:</span> <span class=\"nb\">str</span> <span class=\"o\">=</span> <span class=\"kc\">None</span><span class=\"p\">):</span>\n<span class=\"w\">        </span><span class=\"sd\">&quot;&quot;&quot;</span>\n<span class=\"sd\">        Runhouse Image object, specifying cluster setup properties and steps.</span>\n\n<span class=\"sd\">        Args:</span>\n<span class=\"sd\">            name (str): Name to assign the Runhouse image.</span>\n<span class=\"sd\">            image_id (str): Machine image to use, if any. (Default: ``None``)</span>\n\n<span class=\"sd\">        Example:</span>\n<span class=\"sd\">            &gt;&gt;&gt; my_image = (</span>\n<span class=\"sd\">            &gt;&gt;&gt;     rh.Image(name=&quot;base_image&quot;)</span>\n<span class=\"sd\">            &gt;&gt;&gt;     .setup_conda_env(</span>\n<span class=\"sd\">            &gt;&gt;&gt;         conda_env_name=&quot;base_env&quot;,</span>\n<span class=\"sd\">            &gt;&gt;&gt;         conda_yaml={&quot;dependencies&quot;: [&quot;python=3.11&quot;], &quot;name&quot;: &quot;base_env&quot;},</span>\n<span class=\"sd\">            &gt;&gt;&gt;     )</span>\n<span class=\"sd\">            &gt;&gt;&gt;     .install_packages([&quot;numpy&quot;, &quot;pandas&quot;])</span>\n<span class=\"sd\">            &gt;&gt;&gt;     .set_env_vars({&quot;OMP_NUM_THREADS&quot;: 1})</span>\n<span class=\"sd\">            &gt;&gt;&gt; )</span>\n<span class=\"sd\">        &quot;&quot;&quot;</span>\n\n        <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">name</span> <span class=\"o\">=</span> <span class=\"n\">name</span>\n        <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">image_id</span> <span class=\"o\">=</span> <span class=\"n\">image_id</span>\n\n        <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">setup_steps</span> <span class=\"o\">=</span> <span class=\"p\">[]</span>\n        <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">conda_env_name</span> <span class=\"o\">=</span> <span class=\"kc\">None</span>\n        <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">docker_secret</span> <span class=\"o\">=</span> <span class=\"kc\">None</span></div>\n\n    <span class=\"k\">def</span> <span class=\"nf\">from_docker</span><span class=\"p\">(</span><span class=\"bp\">self</span><span class=\"p\">,</span> <span class=\"n\">image_id</span><span class=\"p\">,</span> <span class=\"n\">docker_secret</span><span class=\"p\">:</span> <span class=\"n\">Union</span><span class=\"p\">[</span><span class=\"s2\">&quot;Secret&quot;</span><span class=\"p\">,</span> <span class=\"nb\">str</span><span class=\"p\">]</span> <span class=\"o\">=</span> <span class=\"kc\">None</span><span class=\"p\">):</span>\n        <span class=\"k\">if</span> <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">image_id</span><span class=\"p\">:</span>\n            <span class=\"k\">raise</span> <span class=\"ne\">ValueError</span><span class=\"p\">(</span>\n                <span class=\"s2\">&quot;Setting both a machine image and docker image is not yet supported.&quot;</span>\n            <span class=\"p\">)</span>\n        <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">image_id</span> <span class=\"o\">=</span> <span class=\"sa\">f</span><span class=\"s2\">&quot;docker:</span><span class=\"si\">{</span><span class=\"n\">image_id</span><span class=\"si\">}</span><span class=\"s2\">&quot;</span>\n        <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">docker_secret</span> <span class=\"o\">=</span> <span class=\"n\">docker_secret</span>\n        <span class=\"k\">return</span> <span class=\"bp\">self</span>\n\n    <span class=\"k\">def</span> <span class=\"nf\">config</span><span class=\"p\">(</span><span class=\"bp\">self</span><span class=\"p\">)</span> <span class=\"o\">-&gt;</span> <span class=\"n\">Dict</span><span class=\"p\">[</span><span class=\"nb\">str</span><span class=\"p\">,</span> <span class=\"n\">Any</span><span class=\"p\">]:</span>\n        <span class=\"n\">config</span> <span class=\"o\">=</span> <span class=\"p\">{</span><span class=\"s2\">&quot;name&quot;</span><span class=\"p\">:</span> <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">name</span><span class=\"p\">}</span>\n        <span class=\"k\">if</span> <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">image_id</span><span class=\"p\">:</span>\n            <span class=\"n\">config</span><span class=\"p\">[</span><span class=\"s2\">&quot;image_id&quot;</span><span class=\"p\">]</span> <span class=\"o\">=</span> <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">image_id</span>\n        <span class=\"k\">if</span> <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">docker_secret</span><span class=\"p\">:</span>\n            <span class=\"n\">config</span><span class=\"p\">[</span><span class=\"s2\">&quot;docker_secret&quot;</span><span class=\"p\">]</span> <span class=\"o\">=</span> <span class=\"p\">(</span>\n                <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">docker_secret</span>\n                <span class=\"k\">if</span> <span class=\"nb\">isinstance</span><span class=\"p\">(</span><span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">docker_secret</span><span class=\"p\">,</span> <span class=\"nb\">str</span><span class=\"p\">)</span>\n                <span class=\"k\">else</span> <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">docker_secret</span><span class=\"o\">.</span><span class=\"n\">config</span><span class=\"p\">()</span>\n            <span class=\"p\">)</span>\n        <span class=\"n\">config</span><span class=\"p\">[</span><span class=\"s2\">&quot;setup_steps&quot;</span><span class=\"p\">]</span> <span class=\"o\">=</span> <span class=\"p\">[</span>\n            <span class=\"p\">{</span>\n                <span class=\"s2\">&quot;step_type&quot;</span><span class=\"p\">:</span> <span class=\"n\">step</span><span class=\"o\">.</span><span class=\"n\">step_type</span><span class=\"o\">.</span><span class=\"n\">value</span><span class=\"p\">,</span>\n                <span class=\"s2\">&quot;kwargs&quot;</span><span class=\"p\">:</span> <span class=\"n\">step</span><span class=\"o\">.</span><span class=\"n\">kwargs</span><span class=\"p\">,</span>\n            <span class=\"p\">}</span>\n            <span class=\"k\">for</span> <span class=\"n\">step</span> <span class=\"ow\">in</span> <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">setup_steps</span>\n        <span class=\"p\">]</span>\n\n        <span class=\"k\">return</span> <span class=\"n\">config</span>\n\n    <span class=\"nd\">@classmethod</span>\n    <span class=\"k\">def</span> <span class=\"nf\">from_config</span><span class=\"p\">(</span><span class=\"bp\">cls</span><span class=\"p\">,</span> <span class=\"n\">config</span><span class=\"p\">:</span> <span class=\"n\">Dict</span><span class=\"p\">[</span><span class=\"nb\">str</span><span class=\"p\">,</span> <span class=\"n\">Any</span><span class=\"p\">]):</span>\n        <span class=\"n\">img</span> <span class=\"o\">=</span> <span class=\"n\">Image</span><span class=\"p\">(</span><span class=\"n\">name</span><span class=\"o\">=</span><span class=\"n\">config</span><span class=\"p\">[</span><span class=\"s2\">&quot;name&quot;</span><span class=\"p\">],</span> <span class=\"n\">image_id</span><span class=\"o\">=</span><span class=\"n\">config</span><span class=\"o\">.</span><span class=\"n\">get</span><span class=\"p\">(</span><span class=\"s2\">&quot;image_id&quot;</span><span class=\"p\">))</span>\n        <span class=\"n\">img</span><span class=\"o\">.</span><span class=\"n\">setup_steps</span> <span class=\"o\">=</span> <span class=\"p\">[</span>\n            <span class=\"n\">ImageSetupStep</span><span class=\"p\">(</span>\n                <span class=\"n\">step_type</span><span class=\"o\">=</span><span class=\"n\">ImageSetupStepType</span><span class=\"p\">(</span><span class=\"n\">step</span><span class=\"p\">[</span><span class=\"s2\">&quot;step_type&quot;</span><span class=\"p\">]),</span>\n                <span class=\"o\">**</span><span class=\"n\">step</span><span class=\"p\">[</span><span class=\"s2\">&quot;kwargs&quot;</span><span class=\"p\">],</span>\n            <span class=\"p\">)</span>\n            <span class=\"k\">for</span> <span class=\"n\">step</span> <span class=\"ow\">in</span> <span class=\"n\">config</span><span class=\"p\">[</span><span class=\"s2\">&quot;setup_steps&quot;</span><span class=\"p\">]</span>\n        <span class=\"p\">]</span>\n\n        <span class=\"n\">docker_secret</span> <span class=\"o\">=</span> <span class=\"n\">config</span><span class=\"o\">.</span><span class=\"n\">get</span><span class=\"p\">(</span><span class=\"s2\">&quot;docker_secret&quot;</span><span class=\"p\">)</span>\n        <span class=\"k\">if</span> <span class=\"n\">docker_secret</span><span class=\"p\">:</span>\n            <span class=\"k\">if</span> <span class=\"nb\">isinstance</span><span class=\"p\">(</span><span class=\"n\">docker_secret</span><span class=\"p\">,</span> <span class=\"n\">Dict</span><span class=\"p\">):</span>\n                <span class=\"kn\">from</span> <span class=\"nn\">runhouse.resources.secrets.secret</span> <span class=\"kn\">import</span> <span class=\"n\">Secret</span>\n\n                <span class=\"n\">docker_secret</span> <span class=\"o\">=</span> <span class=\"n\">Secret</span><span class=\"o\">.</span><span class=\"n\">from_config</span><span class=\"p\">(</span><span class=\"n\">docker_secret</span><span class=\"p\">)</span>\n            <span class=\"n\">img</span><span class=\"o\">.</span><span class=\"n\">docker_secret</span> <span class=\"o\">=</span> <span class=\"n\">docker_secret</span>\n\n        <span class=\"k\">return</span> <span class=\"n\">img</span>\n\n    <span class=\"c1\">########################################################</span>\n    <span class=\"c1\"># Steps to build the image</span>\n    <span class=\"c1\">########################################################</span>\n\n    <span class=\"k\">def</span> <span class=\"nf\">install_packages</span><span class=\"p\">(</span><span class=\"bp\">self</span><span class=\"p\">,</span> <span class=\"n\">reqs</span><span class=\"p\">:</span> <span class=\"n\">List</span><span class=\"p\">[</span><span class=\"nb\">str</span><span class=\"p\">],</span> <span class=\"n\">conda_env_name</span><span class=\"p\">:</span> <span class=\"n\">Optional</span><span class=\"p\">[</span><span class=\"nb\">str</span><span class=\"p\">]</span> <span class=\"o\">=</span> <span class=\"kc\">None</span><span class=\"p\">):</span>\n        <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">setup_steps</span><span class=\"o\">.</span><span class=\"n\">append</span><span class=\"p\">(</span>\n            <span class=\"n\">ImageSetupStep</span><span class=\"p\">(</span>\n                <span class=\"n\">step_type</span><span class=\"o\">=</span><span class=\"n\">ImageSetupStepType</span><span class=\"o\">.</span><span class=\"n\">PACKAGES</span><span class=\"p\">,</span>\n                <span class=\"n\">reqs</span><span class=\"o\">=</span><span class=\"n\">reqs</span><span class=\"p\">,</span>\n                <span class=\"n\">conda_env_name</span><span class=\"o\">=</span><span class=\"n\">conda_env_name</span> <span class=\"ow\">or</span> <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">conda_env_name</span><span class=\"p\">,</span>\n            <span class=\"p\">)</span>\n        <span class=\"p\">)</span>\n        <span class=\"k\">return</span> <span class=\"bp\">self</span>\n\n    <span class=\"k\">def</span> <span class=\"nf\">run_bash</span><span class=\"p\">(</span><span class=\"bp\">self</span><span class=\"p\">,</span> <span class=\"n\">command</span><span class=\"p\">:</span> <span class=\"nb\">str</span><span class=\"p\">,</span> <span class=\"n\">conda_env_name</span><span class=\"p\">:</span> <span class=\"n\">Optional</span><span class=\"p\">[</span><span class=\"nb\">str</span><span class=\"p\">]</span> <span class=\"o\">=</span> <span class=\"kc\">None</span><span class=\"p\">):</span>\n        <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">setup_steps</span><span class=\"o\">.</span><span class=\"n\">append</span><span class=\"p\">(</span>\n            <span class=\"n\">ImageSetupStep</span><span class=\"p\">(</span>\n                <span class=\"n\">step_type</span><span class=\"o\">=</span><span class=\"n\">ImageSetupStepType</span><span class=\"o\">.</span><span class=\"n\">CMD_RUN</span><span class=\"p\">,</span>\n                <span class=\"n\">command</span><span class=\"o\">=</span><span class=\"n\">command</span><span class=\"p\">,</span>\n                <span class=\"n\">conda_env_name</span><span class=\"o\">=</span><span class=\"n\">conda_env_name</span> <span class=\"ow\">or</span> <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">conda_env_name</span><span class=\"p\">,</span>\n            <span class=\"p\">)</span>\n        <span class=\"p\">)</span>\n        <span class=\"k\">return</span> <span class=\"bp\">self</span>\n\n    <span class=\"k\">def</span> <span class=\"nf\">setup_conda_env</span><span class=\"p\">(</span><span class=\"bp\">self</span><span class=\"p\">,</span> <span class=\"n\">conda_env_name</span><span class=\"p\">:</span> <span class=\"nb\">str</span><span class=\"p\">,</span> <span class=\"n\">conda_yaml</span><span class=\"p\">:</span> <span class=\"n\">Union</span><span class=\"p\">[</span><span class=\"nb\">str</span><span class=\"p\">,</span> <span class=\"n\">Dict</span><span class=\"p\">]):</span>\n        <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">setup_steps</span><span class=\"o\">.</span><span class=\"n\">append</span><span class=\"p\">(</span>\n            <span class=\"n\">ImageSetupStep</span><span class=\"p\">(</span>\n                <span class=\"n\">step_type</span><span class=\"o\">=</span><span class=\"n\">ImageSetupStepType</span><span class=\"o\">.</span><span class=\"n\">SETUP_CONDA_ENV</span><span class=\"p\">,</span>\n                <span class=\"n\">conda_env_name</span><span class=\"o\">=</span><span class=\"n\">conda_env_name</span><span class=\"p\">,</span>\n                <span class=\"n\">conda_yaml</span><span class=\"o\">=</span><span class=\"n\">conda_yaml</span><span class=\"p\">,</span>\n            <span class=\"p\">)</span>\n        <span class=\"p\">)</span>\n        <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">conda_env_name</span> <span class=\"o\">=</span> <span class=\"n\">conda_env_name</span>\n        <span class=\"k\">return</span> <span class=\"bp\">self</span>\n\n    <span class=\"k\">def</span> <span class=\"nf\">rsync</span><span class=\"p\">(</span>\n        <span class=\"bp\">self</span><span class=\"p\">,</span> <span class=\"n\">source</span><span class=\"p\">:</span> <span class=\"nb\">str</span><span class=\"p\">,</span> <span class=\"n\">dest</span><span class=\"p\">:</span> <span class=\"nb\">str</span><span class=\"p\">,</span> <span class=\"n\">contents</span><span class=\"p\">:</span> <span class=\"nb\">bool</span> <span class=\"o\">=</span> <span class=\"kc\">False</span><span class=\"p\">,</span> <span class=\"n\">filter_options</span><span class=\"p\">:</span> <span class=\"nb\">str</span> <span class=\"o\">=</span> <span class=\"kc\">None</span>\n    <span class=\"p\">):</span>\n        <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">setup_steps</span><span class=\"o\">.</span><span class=\"n\">append</span><span class=\"p\">(</span>\n            <span class=\"n\">ImageSetupStep</span><span class=\"p\">(</span>\n                <span class=\"n\">step_type</span><span class=\"o\">=</span><span class=\"n\">ImageSetupStepType</span><span class=\"o\">.</span><span class=\"n\">RSYNC</span><span class=\"p\">,</span>\n                <span class=\"n\">source</span><span class=\"o\">=</span><span class=\"n\">source</span><span class=\"p\">,</span>\n                <span class=\"n\">dest</span><span class=\"o\">=</span><span class=\"n\">dest</span><span class=\"p\">,</span>\n                <span class=\"n\">contents</span><span class=\"o\">=</span><span class=\"n\">contents</span><span class=\"p\">,</span>\n                <span class=\"n\">filter_options</span><span class=\"o\">=</span><span class=\"n\">filter_options</span><span class=\"p\">,</span>\n            <span class=\"p\">)</span>\n        <span class=\"p\">)</span>\n\n    <span class=\"k\">def</span> <span class=\"nf\">sync_secrets</span><span class=\"p\">(</span><span class=\"bp\">self</span><span class=\"p\">,</span> <span class=\"n\">providers</span><span class=\"p\">:</span> <span class=\"n\">List</span><span class=\"p\">[</span><span class=\"n\">Union</span><span class=\"p\">[</span><span class=\"nb\">str</span><span class=\"p\">,</span> <span class=\"s2\">&quot;Secret&quot;</span><span class=\"p\">]]):</span>\n        <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">setup_steps</span><span class=\"o\">.</span><span class=\"n\">append</span><span class=\"p\">(</span>\n            <span class=\"n\">ImageSetupStep</span><span class=\"p\">(</span>\n                <span class=\"n\">step_type</span><span class=\"o\">=</span><span class=\"n\">ImageSetupStepType</span><span class=\"o\">.</span><span class=\"n\">SYNC_SECRETS</span><span class=\"p\">,</span>\n                <span class=\"n\">providers</span><span class=\"o\">=</span><span class=\"n\">providers</span><span class=\"p\">,</span>\n            <span class=\"p\">)</span>\n        <span class=\"p\">)</span>\n        <span class=\"k\">return</span> <span class=\"bp\">self</span>\n\n    <span class=\"k\">def</span> <span class=\"nf\">set_env_vars</span><span class=\"p\">(</span><span class=\"bp\">self</span><span class=\"p\">,</span> <span class=\"n\">env_vars</span><span class=\"p\">:</span> <span class=\"n\">Union</span><span class=\"p\">[</span><span class=\"nb\">str</span><span class=\"p\">,</span> <span class=\"n\">Dict</span><span class=\"p\">]):</span>\n        <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">setup_steps</span><span class=\"o\">.</span><span class=\"n\">append</span><span class=\"p\">(</span>\n            <span class=\"n\">ImageSetupStep</span><span class=\"p\">(</span>\n                <span class=\"n\">step_type</span><span class=\"o\">=</span><span class=\"n\">ImageSetupStepType</span><span class=\"o\">.</span><span class=\"n\">SET_ENV_VARS</span><span class=\"p\">,</span>\n                <span class=\"n\">env_vars</span><span class=\"o\">=</span><span class=\"n\">env_vars</span><span class=\"p\">,</span>\n            <span class=\"p\">)</span>\n        <span class=\"p\">)</span>\n        <span class=\"k\">return</span> <span class=\"bp\">self</span></div>\n</pre></div>", "current_page_name": "_modules/runhouse/resources/images/image", "sidebars": ["about.html", "navigation.html", "relations.html", "searchbox.html", "donate.html"], "customsidebar": null, "alabaster_version": "0.7.16", "alabaster_version_info": [0, 7, 16]}