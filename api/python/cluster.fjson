{"parents": [{"link": "../", "title": "Python API"}], "prev": {"link": "../function/", "title": "Function"}, "next": {"link": "../env/", "title": "Env"}, "title": "Cluster", "meta": {}, "body": "<section id=\"cluster\">\n<h1>Cluster<a class=\"headerlink\" href=\"#cluster\" title=\"Permalink to this heading\">\u00b6</a></h1>\n<p>A Cluster is a Runhouse primitive used for abstracting a particular hardware configuration.\nThis can be either an <a class=\"reference internal\" href=\"#ondemandcluster-class\"><span class=\"std std-ref\">on-demand cluster</span></a> (requires valid cloud credentials or a\nlocal Kube config if launching on Kubernetes), or a\n<a class=\"reference internal\" href=\"#cluster-class\"><span class=\"std std-ref\">BYO (bring-your-own) cluster</span></a> (requires IP address and ssh creds).</p>\n<p>A cluster is assigned a name, through which it can be accessed and reused later on.</p>\n<section id=\"cluster-factory-methods\">\n<h2>Cluster Factory Methods<a class=\"headerlink\" href=\"#cluster-factory-methods\" title=\"Permalink to this heading\">\u00b6</a></h2>\n<dl class=\"py function\">\n<dt class=\"sig sig-object py\" id=\"runhouse.cluster\">\n<span class=\"sig-prename descclassname\"><span class=\"pre\">runhouse.</span></span><span class=\"sig-name descname\"><span class=\"pre\">cluster</span></span><span class=\"sig-paren\">(</span><em class=\"sig-param\"><span class=\"n\"><span class=\"pre\">name</span></span><span class=\"p\"><span class=\"pre\">:</span></span><span class=\"w\"> </span><span class=\"n\"><span class=\"pre\">str</span></span></em>, <em class=\"sig-param\"><span class=\"n\"><span class=\"pre\">host</span></span><span class=\"p\"><span class=\"pre\">:</span></span><span class=\"w\"> </span><span class=\"n\"><span class=\"pre\">str</span><span class=\"w\"> </span><span class=\"p\"><span class=\"pre\">|</span></span><span class=\"w\"> </span><span class=\"pre\">List</span><span class=\"p\"><span class=\"pre\">[</span></span><span class=\"pre\">str</span><span class=\"p\"><span class=\"pre\">]</span></span></span><span class=\"w\"> </span><span class=\"o\"><span class=\"pre\">=</span></span><span class=\"w\"> </span><span class=\"default_value\"><span class=\"pre\">None</span></span></em>, <em class=\"sig-param\"><span class=\"n\"><span class=\"pre\">ssh_creds</span></span><span class=\"p\"><span class=\"pre\">:</span></span><span class=\"w\"> </span><span class=\"n\"><span class=\"pre\">Dict</span><span class=\"w\"> </span><span class=\"p\"><span class=\"pre\">|</span></span><span class=\"w\"> </span><span class=\"pre\">str</span></span><span class=\"w\"> </span><span class=\"o\"><span class=\"pre\">=</span></span><span class=\"w\"> </span><span class=\"default_value\"><span class=\"pre\">None</span></span></em>, <em class=\"sig-param\"><span class=\"n\"><span class=\"pre\">server_port</span></span><span class=\"p\"><span class=\"pre\">:</span></span><span class=\"w\"> </span><span class=\"n\"><span class=\"pre\">int</span></span><span class=\"w\"> </span><span class=\"o\"><span class=\"pre\">=</span></span><span class=\"w\"> </span><span class=\"default_value\"><span class=\"pre\">None</span></span></em>, <em class=\"sig-param\"><span class=\"n\"><span class=\"pre\">server_host</span></span><span class=\"p\"><span class=\"pre\">:</span></span><span class=\"w\"> </span><span class=\"n\"><span class=\"pre\">str</span></span><span class=\"w\"> </span><span class=\"o\"><span class=\"pre\">=</span></span><span class=\"w\"> </span><span class=\"default_value\"><span class=\"pre\">None</span></span></em>, <em class=\"sig-param\"><span class=\"n\"><span class=\"pre\">server_connection_type</span></span><span class=\"p\"><span class=\"pre\">:</span></span><span class=\"w\"> </span><span class=\"n\"><span class=\"pre\">ServerConnectionType</span><span class=\"w\"> </span><span class=\"p\"><span class=\"pre\">|</span></span><span class=\"w\"> </span><span class=\"pre\">str</span></span><span class=\"w\"> </span><span class=\"o\"><span class=\"pre\">=</span></span><span class=\"w\"> </span><span class=\"default_value\"><span class=\"pre\">None</span></span></em>, <em class=\"sig-param\"><span class=\"n\"><span class=\"pre\">launcher_type</span></span><span class=\"p\"><span class=\"pre\">:</span></span><span class=\"w\"> </span><span class=\"n\"><span class=\"pre\">LauncherType</span><span class=\"w\"> </span><span class=\"p\"><span class=\"pre\">|</span></span><span class=\"w\"> </span><span class=\"pre\">str</span></span><span class=\"w\"> </span><span class=\"o\"><span class=\"pre\">=</span></span><span class=\"w\"> </span><span class=\"default_value\"><span class=\"pre\">None</span></span></em>, <em class=\"sig-param\"><span class=\"n\"><span class=\"pre\">ssl_keyfile</span></span><span class=\"p\"><span class=\"pre\">:</span></span><span class=\"w\"> </span><span class=\"n\"><span class=\"pre\">str</span></span><span class=\"w\"> </span><span class=\"o\"><span class=\"pre\">=</span></span><span class=\"w\"> </span><span class=\"default_value\"><span class=\"pre\">None</span></span></em>, <em class=\"sig-param\"><span class=\"n\"><span class=\"pre\">ssl_certfile</span></span><span class=\"p\"><span class=\"pre\">:</span></span><span class=\"w\"> </span><span class=\"n\"><span class=\"pre\">str</span></span><span class=\"w\"> </span><span class=\"o\"><span class=\"pre\">=</span></span><span class=\"w\"> </span><span class=\"default_value\"><span class=\"pre\">None</span></span></em>, <em class=\"sig-param\"><span class=\"n\"><span class=\"pre\">domain</span></span><span class=\"p\"><span class=\"pre\">:</span></span><span class=\"w\"> </span><span class=\"n\"><span class=\"pre\">str</span></span><span class=\"w\"> </span><span class=\"o\"><span class=\"pre\">=</span></span><span class=\"w\"> </span><span class=\"default_value\"><span class=\"pre\">None</span></span></em>, <em class=\"sig-param\"><span class=\"n\"><span class=\"pre\">den_auth</span></span><span class=\"p\"><span class=\"pre\">:</span></span><span class=\"w\"> </span><span class=\"n\"><span class=\"pre\">bool</span></span><span class=\"w\"> </span><span class=\"o\"><span class=\"pre\">=</span></span><span class=\"w\"> </span><span class=\"default_value\"><span class=\"pre\">None</span></span></em>, <em class=\"sig-param\"><span class=\"n\"><span class=\"pre\">default_env</span></span><span class=\"p\"><span class=\"pre\">:</span></span><span class=\"w\"> </span><span class=\"n\"><a class=\"reference internal\" href=\"../env/#runhouse.Env\" title=\"runhouse.Env\"><span class=\"pre\">Env</span></a><span class=\"w\"> </span><span class=\"p\"><span class=\"pre\">|</span></span><span class=\"w\"> </span><span class=\"pre\">str</span></span><span class=\"w\"> </span><span class=\"o\"><span class=\"pre\">=</span></span><span class=\"w\"> </span><span class=\"default_value\"><span class=\"pre\">None</span></span></em>, <em class=\"sig-param\"><span class=\"n\"><span class=\"pre\">load_from_den</span></span><span class=\"p\"><span class=\"pre\">:</span></span><span class=\"w\"> </span><span class=\"n\"><span class=\"pre\">bool</span></span><span class=\"w\"> </span><span class=\"o\"><span class=\"pre\">=</span></span><span class=\"w\"> </span><span class=\"default_value\"><span class=\"pre\">True</span></span></em>, <em class=\"sig-param\"><span class=\"n\"><span class=\"pre\">dryrun</span></span><span class=\"p\"><span class=\"pre\">:</span></span><span class=\"w\"> </span><span class=\"n\"><span class=\"pre\">bool</span></span><span class=\"w\"> </span><span class=\"o\"><span class=\"pre\">=</span></span><span class=\"w\"> </span><span class=\"default_value\"><span class=\"pre\">False</span></span></em>, <em class=\"sig-param\"><span class=\"o\"><span class=\"pre\">**</span></span><span class=\"n\"><span class=\"pre\">kwargs</span></span></em><span class=\"sig-paren\">)</span> <span class=\"sig-return\"><span class=\"sig-return-icon\">&#x2192;</span> <span class=\"sig-return-typehint\"><a class=\"reference internal\" href=\"#runhouse.Cluster\" title=\"runhouse.resources.hardware.cluster.Cluster\"><span class=\"pre\">Cluster</span></a><span class=\"w\"> </span><span class=\"p\"><span class=\"pre\">|</span></span><span class=\"w\"> </span><a class=\"reference internal\" href=\"#runhouse.OnDemandCluster\" title=\"runhouse.resources.hardware.on_demand_cluster.OnDemandCluster\"><span class=\"pre\">OnDemandCluster</span></a></span></span><a class=\"reference internal\" href=\"../../../_modules/runhouse/resources/hardware/cluster_factory/#cluster\"><span class=\"viewcode-link\"><span class=\"pre\">[source]</span></span></a><a class=\"headerlink\" href=\"#runhouse.cluster\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd><p>Builds an instance of <a class=\"reference internal\" href=\"#runhouse.Cluster\" title=\"runhouse.Cluster\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">Cluster</span></code></a>.</p>\n<dl class=\"field-list simple\">\n<dt class=\"field-odd\">Parameters<span class=\"colon\">:</span></dt>\n<dd class=\"field-odd\"><ul class=\"simple\">\n<li><p><strong>name</strong> (<em>str</em>) \u2013 Name for the cluster, to re-use later on.</p></li>\n<li><p><strong>host</strong> (<em>str</em><em> or </em><em>List</em><em>[</em><em>str</em><em>]</em><em>, </em><em>optional</em>) \u2013 Hostname (e.g. domain or name in .ssh/config), IP address, or list of IP\naddresses for the cluster (the first of which is the head node). (Default: <code class=\"docutils literal notranslate\"><span class=\"pre\">None</span></code>).</p></li>\n<li><p><strong>ssh_creds</strong> (<em>dict</em><em> or </em><em>str</em><em>, </em><em>optional</em>) \u2013 SSH credentials, passed as dictionary or the name of an <cite>SSHSecret</cite> object.\nExample: <code class=\"docutils literal notranslate\"><span class=\"pre\">ssh_creds={'ssh_user':</span> <span class=\"pre\">'...',</span> <span class=\"pre\">'ssh_private_key':'&lt;path_to_key&gt;'}</span></code> (Default: <code class=\"docutils literal notranslate\"><span class=\"pre\">None</span></code>).</p></li>\n<li><p><strong>server_port</strong> (<em>bool</em><em>, </em><em>optional</em>) \u2013 Port to use for the server. If not provided will use 80 for a\n<code class=\"docutils literal notranslate\"><span class=\"pre\">server_connection_type</span></code> of <code class=\"docutils literal notranslate\"><span class=\"pre\">none</span></code>, 443 for <code class=\"docutils literal notranslate\"><span class=\"pre\">tls</span></code> and <code class=\"docutils literal notranslate\"><span class=\"pre\">32300</span></code> for all other SSH connection types.</p></li>\n<li><p><strong>server_host</strong> (<em>bool</em><em>, </em><em>optional</em>) \u2013 Host from which the server listens for traffic (i.e. the \u2013host argument\n<cite>runhouse server start</cite> run on the cluster). Defaults to \u201c0.0.0.0\u201d unless connecting to the server with an SSH\nconnection, in which case <code class=\"docutils literal notranslate\"><span class=\"pre\">localhost</span></code> is used. (Default: <code class=\"docutils literal notranslate\"><span class=\"pre\">None</span></code>).</p></li>\n<li><p><strong>server_connection_type</strong> (<em>ServerConnectionType</em><em> or </em><em>str</em><em>, </em><em>optional</em>) \u2013 Type of connection to use for the Runhouse\nAPI server. <code class=\"docutils literal notranslate\"><span class=\"pre\">ssh</span></code> will use start with server via an SSH tunnel. <code class=\"docutils literal notranslate\"><span class=\"pre\">tls</span></code> will start the server\nwith HTTPS on port 443 using TLS certs without an SSH tunnel. <code class=\"docutils literal notranslate\"><span class=\"pre\">none</span></code> will start the server with HTTP\nwithout an SSH tunnel. (Default: <code class=\"docutils literal notranslate\"><span class=\"pre\">None</span></code>).</p></li>\n<li><p><strong>launcher_type</strong> (<em>LauncherType</em><em> or </em><em>str</em><em>, </em><em>optional</em>) \u2013 Method for launching the cluster. If set to <cite>local</cite>, will launch\nlocally via Sky. If set to <cite>den</cite>, launching will be handled by Runhouse. Currently only relevant for\nondemand clusters and kubernetes clusters. (Default: <code class=\"docutils literal notranslate\"><span class=\"pre\">local</span></code>).</p></li>\n<li><p><strong>ssl_keyfile</strong> (<em>str</em><em>, </em><em>optional</em>) \u2013 Path to SSL key file to use for launching the API server with HTTPS.\n(Default: <code class=\"docutils literal notranslate\"><span class=\"pre\">None</span></code>).</p></li>\n<li><p><strong>ssl_certfile</strong> (<em>str</em><em>, </em><em>optional</em>) \u2013 Path to SSL certificate file to use for launching the API server with HTTPS.\n(Default: <code class=\"docutils literal notranslate\"><span class=\"pre\">None</span></code>).</p></li>\n<li><p><strong>domain</strong> (<em>str</em><em>, </em><em>optional</em>) \u2013 Domain name for the cluster. Relevant if enabling HTTPs on the cluster. (Default: <code class=\"docutils literal notranslate\"><span class=\"pre\">None</span></code>).</p></li>\n<li><p><strong>den_auth</strong> (<em>bool</em><em>, </em><em>optional</em>) \u2013 Whether to use Den authorization on the server. If <code class=\"docutils literal notranslate\"><span class=\"pre\">True</span></code>, will validate incoming\nrequests with a Runhouse token provided in the auth headers of the request with the format:\n<code class=\"docutils literal notranslate\"><span class=\"pre\">{&quot;Authorization&quot;:</span> <span class=\"pre\">&quot;Bearer</span> <span class=\"pre\">&lt;token&gt;&quot;}</span></code>. (Default: <code class=\"docutils literal notranslate\"><span class=\"pre\">None</span></code>).</p></li>\n<li><p><strong>default_env</strong> (<a class=\"reference internal\" href=\"../env/#runhouse.Env\" title=\"runhouse.Env\"><em>Env</em></a><em> or </em><em>str</em><em>, </em><em>optional</em>) \u2013 Environment that the Runhouse server is started on in the cluster. Used to\nspecify an isolated environment (e.g. conda env) or any setup and requirements prior to starting the Runhouse\nserver. (Default: <code class=\"docutils literal notranslate\"><span class=\"pre\">None</span></code>)</p></li>\n<li><p><strong>load_from_den</strong> (<em>bool</em>) \u2013 Whether to try loading the Cluster resource from Den. (Default: <code class=\"docutils literal notranslate\"><span class=\"pre\">True</span></code>)</p></li>\n<li><p><strong>dryrun</strong> (<em>bool</em>) \u2013 Whether to create the Cluster if it doesn\u2019t exist, or load a Cluster object as a dryrun.\n(Default: <code class=\"docutils literal notranslate\"><span class=\"pre\">False</span></code>)</p></li>\n</ul>\n</dd>\n<dt class=\"field-even\">Returns<span class=\"colon\">:</span></dt>\n<dd class=\"field-even\"><p>The resulting cluster.</p>\n</dd>\n<dt class=\"field-odd\">Return type<span class=\"colon\">:</span></dt>\n<dd class=\"field-odd\"><p>Union[<a class=\"reference internal\" href=\"#runhouse.Cluster\" title=\"runhouse.Cluster\">Cluster</a>, <a class=\"reference internal\" href=\"#runhouse.OnDemandCluster\" title=\"runhouse.OnDemandCluster\">OnDemandCluster</a>]</p>\n</dd>\n</dl>\n<p class=\"rubric\">Example</p>\n<div class=\"doctest highlight-default notranslate\"><div class=\"highlight\"><pre><span></span><span class=\"gp\">&gt;&gt;&gt; </span><span class=\"c1\"># using private key</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">gpu</span> <span class=\"o\">=</span> <span class=\"n\">rh</span><span class=\"o\">.</span><span class=\"n\">cluster</span><span class=\"p\">(</span><span class=\"n\">host</span><span class=\"o\">=</span><span class=\"s1\">&#39;&lt;hostname&gt;&#39;</span><span class=\"p\">,</span>\n<span class=\"gp\">&gt;&gt;&gt; </span>                 <span class=\"n\">ssh_creds</span><span class=\"o\">=</span><span class=\"p\">{</span><span class=\"s1\">&#39;ssh_user&#39;</span><span class=\"p\">:</span> <span class=\"s1\">&#39;...&#39;</span><span class=\"p\">,</span> <span class=\"s1\">&#39;ssh_private_key&#39;</span><span class=\"p\">:</span><span class=\"s1\">&#39;&lt;path_to_key&gt;&#39;</span><span class=\"p\">},</span>\n<span class=\"gp\">&gt;&gt;&gt; </span>                 <span class=\"n\">name</span><span class=\"o\">=</span><span class=\"s1\">&#39;rh-a10x&#39;</span><span class=\"p\">)</span><span class=\"o\">.</span><span class=\"n\">save</span><span class=\"p\">()</span>\n</pre></div>\n</div>\n<div class=\"doctest highlight-default notranslate\"><div class=\"highlight\"><pre><span></span><span class=\"gp\">&gt;&gt;&gt; </span><span class=\"c1\"># using password</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">gpu</span> <span class=\"o\">=</span> <span class=\"n\">rh</span><span class=\"o\">.</span><span class=\"n\">cluster</span><span class=\"p\">(</span><span class=\"n\">host</span><span class=\"o\">=</span><span class=\"s1\">&#39;&lt;hostname&gt;&#39;</span><span class=\"p\">,</span>\n<span class=\"gp\">&gt;&gt;&gt; </span>                 <span class=\"n\">ssh_creds</span><span class=\"o\">=</span><span class=\"p\">{</span><span class=\"s1\">&#39;ssh_user&#39;</span><span class=\"p\">:</span> <span class=\"s1\">&#39;...&#39;</span><span class=\"p\">,</span> <span class=\"s1\">&#39;password&#39;</span><span class=\"p\">:</span><span class=\"s1\">&#39;*****&#39;</span><span class=\"p\">},</span>\n<span class=\"gp\">&gt;&gt;&gt; </span>                 <span class=\"n\">name</span><span class=\"o\">=</span><span class=\"s1\">&#39;rh-a10x&#39;</span><span class=\"p\">)</span><span class=\"o\">.</span><span class=\"n\">save</span><span class=\"p\">()</span>\n</pre></div>\n</div>\n<div class=\"doctest highlight-default notranslate\"><div class=\"highlight\"><pre><span></span><span class=\"gp\">&gt;&gt;&gt; </span><span class=\"c1\"># using the name of an SSHSecret object</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">gpu</span> <span class=\"o\">=</span> <span class=\"n\">rh</span><span class=\"o\">.</span><span class=\"n\">cluster</span><span class=\"p\">(</span><span class=\"n\">host</span><span class=\"o\">=</span><span class=\"s1\">&#39;&lt;hostname&gt;&#39;</span><span class=\"p\">,</span>\n<span class=\"gp\">&gt;&gt;&gt; </span>                 <span class=\"n\">ssh_creds</span><span class=\"o\">=</span><span class=\"s2\">&quot;my_ssh_secret&quot;</span><span class=\"p\">,</span>\n<span class=\"gp\">&gt;&gt;&gt; </span>                 <span class=\"n\">name</span><span class=\"o\">=</span><span class=\"s1\">&#39;rh-a10x&#39;</span><span class=\"p\">)</span><span class=\"o\">.</span><span class=\"n\">save</span><span class=\"p\">()</span>\n</pre></div>\n</div>\n<div class=\"doctest highlight-default notranslate\"><div class=\"highlight\"><pre><span></span><span class=\"gp\">&gt;&gt;&gt; </span><span class=\"c1\"># Load cluster from above</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">reloaded_cluster</span> <span class=\"o\">=</span> <span class=\"n\">rh</span><span class=\"o\">.</span><span class=\"n\">cluster</span><span class=\"p\">(</span><span class=\"n\">name</span><span class=\"o\">=</span><span class=\"s2\">&quot;rh-a10x&quot;</span><span class=\"p\">)</span>\n</pre></div>\n</div>\n</dd></dl>\n\n<dl class=\"py function\">\n<dt class=\"sig sig-object py\" id=\"runhouse.ondemand_cluster\">\n<span class=\"sig-prename descclassname\"><span class=\"pre\">runhouse.</span></span><span class=\"sig-name descname\"><span class=\"pre\">ondemand_cluster</span></span><span class=\"sig-paren\">(</span><em class=\"sig-param\"><span class=\"n\"><span class=\"pre\">name</span></span><span class=\"p\"><span class=\"pre\">:</span></span><span class=\"w\"> </span><span class=\"n\"><span class=\"pre\">str</span></span></em>, <em class=\"sig-param\"><span class=\"n\"><span class=\"pre\">instance_type</span></span><span class=\"p\"><span class=\"pre\">:</span></span><span class=\"w\"> </span><span class=\"n\"><span class=\"pre\">str</span><span class=\"w\"> </span><span class=\"p\"><span class=\"pre\">|</span></span><span class=\"w\"> </span><span class=\"pre\">None</span></span><span class=\"w\"> </span><span class=\"o\"><span class=\"pre\">=</span></span><span class=\"w\"> </span><span class=\"default_value\"><span class=\"pre\">None</span></span></em>, <em class=\"sig-param\"><span class=\"n\"><span class=\"pre\">num_nodes</span></span><span class=\"p\"><span class=\"pre\">:</span></span><span class=\"w\"> </span><span class=\"n\"><span class=\"pre\">int</span><span class=\"w\"> </span><span class=\"p\"><span class=\"pre\">|</span></span><span class=\"w\"> </span><span class=\"pre\">None</span></span><span class=\"w\"> </span><span class=\"o\"><span class=\"pre\">=</span></span><span class=\"w\"> </span><span class=\"default_value\"><span class=\"pre\">None</span></span></em>, <em class=\"sig-param\"><span class=\"n\"><span class=\"pre\">provider</span></span><span class=\"p\"><span class=\"pre\">:</span></span><span class=\"w\"> </span><span class=\"n\"><span class=\"pre\">str</span><span class=\"w\"> </span><span class=\"p\"><span class=\"pre\">|</span></span><span class=\"w\"> </span><span class=\"pre\">None</span></span><span class=\"w\"> </span><span class=\"o\"><span class=\"pre\">=</span></span><span class=\"w\"> </span><span class=\"default_value\"><span class=\"pre\">None</span></span></em>, <em class=\"sig-param\"><span class=\"n\"><span class=\"pre\">autostop_mins</span></span><span class=\"p\"><span class=\"pre\">:</span></span><span class=\"w\"> </span><span class=\"n\"><span class=\"pre\">int</span><span class=\"w\"> </span><span class=\"p\"><span class=\"pre\">|</span></span><span class=\"w\"> </span><span class=\"pre\">None</span></span><span class=\"w\"> </span><span class=\"o\"><span class=\"pre\">=</span></span><span class=\"w\"> </span><span class=\"default_value\"><span class=\"pre\">None</span></span></em>, <em class=\"sig-param\"><span class=\"n\"><span class=\"pre\">use_spot</span></span><span class=\"p\"><span class=\"pre\">:</span></span><span class=\"w\"> </span><span class=\"n\"><span class=\"pre\">bool</span></span><span class=\"w\"> </span><span class=\"o\"><span class=\"pre\">=</span></span><span class=\"w\"> </span><span class=\"default_value\"><span class=\"pre\">False</span></span></em>, <em class=\"sig-param\"><span class=\"n\"><span class=\"pre\">image_id</span></span><span class=\"p\"><span class=\"pre\">:</span></span><span class=\"w\"> </span><span class=\"n\"><span class=\"pre\">str</span><span class=\"w\"> </span><span class=\"p\"><span class=\"pre\">|</span></span><span class=\"w\"> </span><span class=\"pre\">None</span></span><span class=\"w\"> </span><span class=\"o\"><span class=\"pre\">=</span></span><span class=\"w\"> </span><span class=\"default_value\"><span class=\"pre\">None</span></span></em>, <em class=\"sig-param\"><span class=\"n\"><span class=\"pre\">region</span></span><span class=\"p\"><span class=\"pre\">:</span></span><span class=\"w\"> </span><span class=\"n\"><span class=\"pre\">str</span><span class=\"w\"> </span><span class=\"p\"><span class=\"pre\">|</span></span><span class=\"w\"> </span><span class=\"pre\">None</span></span><span class=\"w\"> </span><span class=\"o\"><span class=\"pre\">=</span></span><span class=\"w\"> </span><span class=\"default_value\"><span class=\"pre\">None</span></span></em>, <em class=\"sig-param\"><span class=\"n\"><span class=\"pre\">memory</span></span><span class=\"p\"><span class=\"pre\">:</span></span><span class=\"w\"> </span><span class=\"n\"><span class=\"pre\">int</span><span class=\"w\"> </span><span class=\"p\"><span class=\"pre\">|</span></span><span class=\"w\"> </span><span class=\"pre\">str</span><span class=\"w\"> </span><span class=\"p\"><span class=\"pre\">|</span></span><span class=\"w\"> </span><span class=\"pre\">None</span></span><span class=\"w\"> </span><span class=\"o\"><span class=\"pre\">=</span></span><span class=\"w\"> </span><span class=\"default_value\"><span class=\"pre\">None</span></span></em>, <em class=\"sig-param\"><span class=\"n\"><span class=\"pre\">disk_size</span></span><span class=\"p\"><span class=\"pre\">:</span></span><span class=\"w\"> </span><span class=\"n\"><span class=\"pre\">int</span><span class=\"w\"> </span><span class=\"p\"><span class=\"pre\">|</span></span><span class=\"w\"> </span><span class=\"pre\">str</span><span class=\"w\"> </span><span class=\"p\"><span class=\"pre\">|</span></span><span class=\"w\"> </span><span class=\"pre\">None</span></span><span class=\"w\"> </span><span class=\"o\"><span class=\"pre\">=</span></span><span class=\"w\"> </span><span class=\"default_value\"><span class=\"pre\">None</span></span></em>, <em class=\"sig-param\"><span class=\"n\"><span class=\"pre\">open_ports</span></span><span class=\"p\"><span class=\"pre\">:</span></span><span class=\"w\"> </span><span class=\"n\"><span class=\"pre\">int</span><span class=\"w\"> </span><span class=\"p\"><span class=\"pre\">|</span></span><span class=\"w\"> </span><span class=\"pre\">str</span><span class=\"w\"> </span><span class=\"p\"><span class=\"pre\">|</span></span><span class=\"w\"> </span><span class=\"pre\">List</span><span class=\"p\"><span class=\"pre\">[</span></span><span class=\"pre\">int</span><span class=\"p\"><span class=\"pre\">]</span></span><span class=\"w\"> </span><span class=\"p\"><span class=\"pre\">|</span></span><span class=\"w\"> </span><span class=\"pre\">None</span></span><span class=\"w\"> </span><span class=\"o\"><span class=\"pre\">=</span></span><span class=\"w\"> </span><span class=\"default_value\"><span class=\"pre\">None</span></span></em>, <em class=\"sig-param\"><span class=\"n\"><span class=\"pre\">sky_kwargs</span></span><span class=\"p\"><span class=\"pre\">:</span></span><span class=\"w\"> </span><span class=\"n\"><span class=\"pre\">Dict</span></span><span class=\"w\"> </span><span class=\"o\"><span class=\"pre\">=</span></span><span class=\"w\"> </span><span class=\"default_value\"><span class=\"pre\">None</span></span></em>, <em class=\"sig-param\"><span class=\"n\"><span class=\"pre\">server_port</span></span><span class=\"p\"><span class=\"pre\">:</span></span><span class=\"w\"> </span><span class=\"n\"><span class=\"pre\">int</span></span><span class=\"w\"> </span><span class=\"o\"><span class=\"pre\">=</span></span><span class=\"w\"> </span><span class=\"default_value\"><span class=\"pre\">None</span></span></em>, <em class=\"sig-param\"><span class=\"n\"><span class=\"pre\">server_host</span></span><span class=\"p\"><span class=\"pre\">:</span></span><span class=\"w\"> </span><span class=\"n\"><span class=\"pre\">int</span></span><span class=\"w\"> </span><span class=\"o\"><span class=\"pre\">=</span></span><span class=\"w\"> </span><span class=\"default_value\"><span class=\"pre\">None</span></span></em>, <em class=\"sig-param\"><span class=\"n\"><span class=\"pre\">server_connection_type</span></span><span class=\"p\"><span class=\"pre\">:</span></span><span class=\"w\"> </span><span class=\"n\"><span class=\"pre\">ServerConnectionType</span><span class=\"w\"> </span><span class=\"p\"><span class=\"pre\">|</span></span><span class=\"w\"> </span><span class=\"pre\">str</span></span><span class=\"w\"> </span><span class=\"o\"><span class=\"pre\">=</span></span><span class=\"w\"> </span><span class=\"default_value\"><span class=\"pre\">None</span></span></em>, <em class=\"sig-param\"><span class=\"n\"><span class=\"pre\">launcher_type</span></span><span class=\"p\"><span class=\"pre\">:</span></span><span class=\"w\"> </span><span class=\"n\"><span class=\"pre\">LauncherType</span><span class=\"w\"> </span><span class=\"p\"><span class=\"pre\">|</span></span><span class=\"w\"> </span><span class=\"pre\">str</span></span><span class=\"w\"> </span><span class=\"o\"><span class=\"pre\">=</span></span><span class=\"w\"> </span><span class=\"default_value\"><span class=\"pre\">None</span></span></em>, <em class=\"sig-param\"><span class=\"n\"><span class=\"pre\">ssl_keyfile</span></span><span class=\"p\"><span class=\"pre\">:</span></span><span class=\"w\"> </span><span class=\"n\"><span class=\"pre\">str</span></span><span class=\"w\"> </span><span class=\"o\"><span class=\"pre\">=</span></span><span class=\"w\"> </span><span class=\"default_value\"><span class=\"pre\">None</span></span></em>, <em class=\"sig-param\"><span class=\"n\"><span class=\"pre\">ssl_certfile</span></span><span class=\"p\"><span class=\"pre\">:</span></span><span class=\"w\"> </span><span class=\"n\"><span class=\"pre\">str</span></span><span class=\"w\"> </span><span class=\"o\"><span class=\"pre\">=</span></span><span class=\"w\"> </span><span class=\"default_value\"><span class=\"pre\">None</span></span></em>, <em class=\"sig-param\"><span class=\"n\"><span class=\"pre\">domain</span></span><span class=\"p\"><span class=\"pre\">:</span></span><span class=\"w\"> </span><span class=\"n\"><span class=\"pre\">str</span></span><span class=\"w\"> </span><span class=\"o\"><span class=\"pre\">=</span></span><span class=\"w\"> </span><span class=\"default_value\"><span class=\"pre\">None</span></span></em>, <em class=\"sig-param\"><span class=\"n\"><span class=\"pre\">den_auth</span></span><span class=\"p\"><span class=\"pre\">:</span></span><span class=\"w\"> </span><span class=\"n\"><span class=\"pre\">bool</span></span><span class=\"w\"> </span><span class=\"o\"><span class=\"pre\">=</span></span><span class=\"w\"> </span><span class=\"default_value\"><span class=\"pre\">None</span></span></em>, <em class=\"sig-param\"><span class=\"n\"><span class=\"pre\">default_env</span></span><span class=\"p\"><span class=\"pre\">:</span></span><span class=\"w\"> </span><span class=\"n\"><a class=\"reference internal\" href=\"../env/#runhouse.Env\" title=\"runhouse.Env\"><span class=\"pre\">Env</span></a><span class=\"w\"> </span><span class=\"p\"><span class=\"pre\">|</span></span><span class=\"w\"> </span><span class=\"pre\">str</span></span><span class=\"w\"> </span><span class=\"o\"><span class=\"pre\">=</span></span><span class=\"w\"> </span><span class=\"default_value\"><span class=\"pre\">None</span></span></em>, <em class=\"sig-param\"><span class=\"n\"><span class=\"pre\">load_from_den</span></span><span class=\"p\"><span class=\"pre\">:</span></span><span class=\"w\"> </span><span class=\"n\"><span class=\"pre\">bool</span></span><span class=\"w\"> </span><span class=\"o\"><span class=\"pre\">=</span></span><span class=\"w\"> </span><span class=\"default_value\"><span class=\"pre\">True</span></span></em>, <em class=\"sig-param\"><span class=\"n\"><span class=\"pre\">dryrun</span></span><span class=\"p\"><span class=\"pre\">:</span></span><span class=\"w\"> </span><span class=\"n\"><span class=\"pre\">bool</span></span><span class=\"w\"> </span><span class=\"o\"><span class=\"pre\">=</span></span><span class=\"w\"> </span><span class=\"default_value\"><span class=\"pre\">False</span></span></em>, <em class=\"sig-param\"><span class=\"o\"><span class=\"pre\">**</span></span><span class=\"n\"><span class=\"pre\">kwargs</span></span></em><span class=\"sig-paren\">)</span> <span class=\"sig-return\"><span class=\"sig-return-icon\">&#x2192;</span> <span class=\"sig-return-typehint\"><a class=\"reference internal\" href=\"#runhouse.OnDemandCluster\" title=\"runhouse.resources.hardware.on_demand_cluster.OnDemandCluster\"><span class=\"pre\">OnDemandCluster</span></a></span></span><a class=\"reference internal\" href=\"../../../_modules/runhouse/resources/hardware/cluster_factory/#ondemand_cluster\"><span class=\"viewcode-link\"><span class=\"pre\">[source]</span></span></a><a class=\"headerlink\" href=\"#runhouse.ondemand_cluster\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd><p>Builds an instance of <a class=\"reference internal\" href=\"#runhouse.OnDemandCluster\" title=\"runhouse.OnDemandCluster\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">OnDemandCluster</span></code></a>. Note that image_id, region, memory, disk_size, and open_ports\nare all passed through to SkyPilot\u2019s <a class=\"reference external\" href=\"https://skypilot.readthedocs.io/en/latest/reference/api.html#resources\">Resource constructor</a>.</p>\n<dl class=\"field-list simple\">\n<dt class=\"field-odd\">Parameters<span class=\"colon\">:</span></dt>\n<dd class=\"field-odd\"><ul class=\"simple\">\n<li><p><strong>name</strong> (<em>str</em>) \u2013 Name for the cluster, to re-use later on.</p></li>\n<li><p><strong>instance_type</strong> (<em>int</em><em>, </em><em>optional</em>) \u2013 Type of cloud instance to use for the cluster. This could\nbe a Runhouse built-in type, or your choice of instance type.</p></li>\n<li><p><strong>num_nodes</strong> (<em>int</em><em>, </em><em>optional</em>) \u2013 Number of nodes to use for the cluster.</p></li>\n<li><p><strong>provider</strong> (<em>str</em><em>, </em><em>optional</em>) \u2013 Cloud provider to use for the cluster.</p></li>\n<li><p><strong>autostop_mins</strong> (<em>int</em><em>, </em><em>optional</em>) \u2013 Number of minutes to keep the cluster up after inactivity,\nor <code class=\"docutils literal notranslate\"><span class=\"pre\">-1</span></code> to keep cluster up indefinitely. (Default: <code class=\"docutils literal notranslate\"><span class=\"pre\">60</span></code>).</p></li>\n<li><p><strong>use_spot</strong> (<em>bool</em><em>, </em><em>optional</em>) \u2013 Whether or not to use spot instance.</p></li>\n<li><p><strong>image_id</strong> (<em>str</em><em>, </em><em>optional</em>) \u2013 Custom image ID for the cluster. If using a docker image, please use the following\nstring format: \u201cdocker:&lt;registry&gt;/&lt;image&gt;:&lt;tag&gt;\u201d. See <a class=\"reference external\" href=\"https://www.run.house/docs/docker\">user guide</a>\nfor more information on Docker cluster setup.</p></li>\n<li><p><strong>region</strong> (<em>str</em><em>, </em><em>optional</em>) \u2013 The region to use for the cluster.</p></li>\n<li><p><strong>memory</strong> (<em>int</em><em> or </em><em>str</em><em>, </em><em>optional</em>) \u2013 Amount of memory to use for the cluster, e.g. \u201c16\u201d or \u201c16+\u201d.</p></li>\n<li><p><strong>disk_size</strong> (<em>int</em><em> or </em><em>str</em><em>, </em><em>optional</em>) \u2013 Amount of disk space to use for the cluster, e.g. \u201c100\u201d or \u201c100+\u201d.</p></li>\n<li><p><strong>open_ports</strong> (<em>int</em><em> or </em><em>str</em><em> or </em><em>List</em><em>[</em><em>int</em><em>]</em><em>, </em><em>optional</em>) \u2013 Ports to open in the cluster\u2019s security group. Note\nthat you are responsible for ensuring that the applications listening on these ports are secure.</p></li>\n<li><p><strong>sky_kwargs</strong> (<em>dict</em><em>, </em><em>optional</em>) \u2013 Additional keyword arguments to pass to the SkyPilot <cite>Resource</cite> or\n<cite>launch</cite> APIs. Should be a dict of the form\n<cite>{\u201cresources\u201d: {&lt;resources_kwargs&gt;}, \u201claunch\u201d: {&lt;launch_kwargs&gt;}}</cite>, where resources_kwargs and\nlaunch_kwargs will be passed to the SkyPilot Resources API\n(See <a class=\"reference external\" href=\"https://skypilot.readthedocs.io/en/latest/reference/api.html#resources\">SkyPilot docs</a>)\nand <cite>launch</cite> API (See\n<a class=\"reference external\" href=\"https://skypilot.readthedocs.io/en/latest/reference/api.html#sky-launch\">SkyPilot docs</a>), respectively.\nAny arguments which duplicate those passed to the <cite>ondemand_cluster</cite> factory method will raise an error.</p></li>\n<li><p><strong>server_port</strong> (<em>bool</em><em>, </em><em>optional</em>) \u2013 Port to use for the server. If not provided will use 80 for a\n<code class=\"docutils literal notranslate\"><span class=\"pre\">server_connection_type</span></code> of <code class=\"docutils literal notranslate\"><span class=\"pre\">none</span></code>, 443 for <code class=\"docutils literal notranslate\"><span class=\"pre\">tls</span></code> and <code class=\"docutils literal notranslate\"><span class=\"pre\">32300</span></code> for all other SSH connection types.</p></li>\n<li><p><strong>server_host</strong> (<em>bool</em><em>, </em><em>optional</em>) \u2013 Host from which the server listens for traffic (i.e. the \u2013host argument\n<cite>runhouse server start</cite> run on the cluster). Defaults to \u201c0.0.0.0\u201d unless connecting to the server with an SSH\nconnection, in which case <code class=\"docutils literal notranslate\"><span class=\"pre\">localhost</span></code> is used.</p></li>\n<li><p><strong>server_connection_type</strong> (<em>ServerConnectionType</em><em> or </em><em>str</em><em>, </em><em>optional</em>) \u2013 Type of connection to use for the Runhouse\nAPI server. <code class=\"docutils literal notranslate\"><span class=\"pre\">ssh</span></code> will use start with server via an SSH tunnel. <code class=\"docutils literal notranslate\"><span class=\"pre\">tls</span></code> will start the server\nwith HTTPS on port 443 using TLS certs without an SSH tunnel. <code class=\"docutils literal notranslate\"><span class=\"pre\">none</span></code> will start the server with HTTP\nwithout an SSH tunnel.</p></li>\n<li><p><strong>launcher_type</strong> (<em>LauncherType</em><em> or </em><em>str</em><em>, </em><em>optional</em>) \u2013 Method for launching the cluster. If set to <cite>local</cite>, will launch\nlocally via Sky. If set to <cite>den</cite>, launching will be handled by Runhouse. (Default: <code class=\"docutils literal notranslate\"><span class=\"pre\">local</span></code>).</p></li>\n<li><p><strong>ssl_keyfile</strong> (<em>str</em><em>, </em><em>optional</em>) \u2013 Path to SSL key file to use for launching the API server with HTTPS.</p></li>\n<li><p><strong>ssl_certfile</strong> (<em>str</em><em>, </em><em>optional</em>) \u2013 Path to SSL certificate file to use for launching the API server with HTTPS.</p></li>\n<li><p><strong>domain</strong> (<em>str</em><em>, </em><em>optional</em>) \u2013 Domain name for the cluster. Relevant if enabling HTTPs on the cluster.</p></li>\n<li><p><strong>den_auth</strong> (<em>bool</em><em>, </em><em>optional</em>) \u2013 Whether to use Den authorization on the server. If <code class=\"docutils literal notranslate\"><span class=\"pre\">True</span></code>, will validate incoming\nrequests with a Runhouse token provided in the auth headers of the request with the format:\n<code class=\"docutils literal notranslate\"><span class=\"pre\">{&quot;Authorization&quot;:</span> <span class=\"pre\">&quot;Bearer</span> <span class=\"pre\">&lt;token&gt;&quot;}</span></code>. (Default: <code class=\"docutils literal notranslate\"><span class=\"pre\">None</span></code>).</p></li>\n<li><p><strong>default_env</strong> (<a class=\"reference internal\" href=\"../env/#runhouse.Env\" title=\"runhouse.Env\"><em>Env</em></a><em> or </em><em>str</em><em>, </em><em>optional</em>) \u2013 Environment that the Runhouse server is started on in the cluster. Used to\nspecify an isolated environment (e.g. conda env) or any setup and requirements prior to starting the Runhouse\nserver. (Default: <code class=\"docutils literal notranslate\"><span class=\"pre\">None</span></code>)</p></li>\n<li><p><strong>load_from_den</strong> (<em>bool</em>) \u2013 Whether to try loading the Cluster resource from Den. (Default: <code class=\"docutils literal notranslate\"><span class=\"pre\">True</span></code>)</p></li>\n<li><p><strong>dryrun</strong> (<em>bool</em>) \u2013 Whether to create the Cluster if it doesn\u2019t exist, or load a Cluster object as a dryrun.\n(Default: <code class=\"docutils literal notranslate\"><span class=\"pre\">False</span></code>)</p></li>\n</ul>\n</dd>\n<dt class=\"field-even\">Returns<span class=\"colon\">:</span></dt>\n<dd class=\"field-even\"><p>The resulting cluster.</p>\n</dd>\n<dt class=\"field-odd\">Return type<span class=\"colon\">:</span></dt>\n<dd class=\"field-odd\"><p><a class=\"reference internal\" href=\"#runhouse.OnDemandCluster\" title=\"runhouse.OnDemandCluster\">OnDemandCluster</a></p>\n</dd>\n</dl>\n<p class=\"rubric\">Example</p>\n<div class=\"doctest highlight-default notranslate\"><div class=\"highlight\"><pre><span></span><span class=\"gp\">&gt;&gt;&gt; </span><span class=\"kn\">import</span> <span class=\"nn\">runhouse</span> <span class=\"k\">as</span> <span class=\"nn\">rh</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"c1\"># On-Demand SkyPilot Cluster (OnDemandCluster)</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">gpu</span> <span class=\"o\">=</span> <span class=\"n\">rh</span><span class=\"o\">.</span><span class=\"n\">ondemand_cluster</span><span class=\"p\">(</span><span class=\"n\">name</span><span class=\"o\">=</span><span class=\"s1\">&#39;rh-4-a100s&#39;</span><span class=\"p\">,</span>\n<span class=\"gp\">&gt;&gt;&gt; </span>                 <span class=\"n\">instance_type</span><span class=\"o\">=</span><span class=\"s1\">&#39;A100:4&#39;</span><span class=\"p\">,</span>\n<span class=\"gp\">&gt;&gt;&gt; </span>                 <span class=\"n\">provider</span><span class=\"o\">=</span><span class=\"s1\">&#39;gcp&#39;</span><span class=\"p\">,</span>\n<span class=\"gp\">&gt;&gt;&gt; </span>                 <span class=\"n\">autostop_mins</span><span class=\"o\">=-</span><span class=\"mi\">1</span><span class=\"p\">,</span>\n<span class=\"gp\">&gt;&gt;&gt; </span>                 <span class=\"n\">use_spot</span><span class=\"o\">=</span><span class=\"kc\">True</span><span class=\"p\">,</span>\n<span class=\"gp\">&gt;&gt;&gt; </span>                 <span class=\"n\">image_id</span><span class=\"o\">=</span><span class=\"s1\">&#39;my_ami_string&#39;</span><span class=\"p\">,</span>\n<span class=\"gp\">&gt;&gt;&gt; </span>                 <span class=\"n\">region</span><span class=\"o\">=</span><span class=\"s1\">&#39;us-east-1&#39;</span><span class=\"p\">,</span>\n<span class=\"gp\">&gt;&gt;&gt; </span>                 <span class=\"p\">)</span><span class=\"o\">.</span><span class=\"n\">save</span><span class=\"p\">()</span>\n</pre></div>\n</div>\n<div class=\"doctest highlight-default notranslate\"><div class=\"highlight\"><pre><span></span><span class=\"gp\">&gt;&gt;&gt; </span><span class=\"c1\"># Load cluster from above</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">reloaded_cluster</span> <span class=\"o\">=</span> <span class=\"n\">rh</span><span class=\"o\">.</span><span class=\"n\">ondemand_cluster</span><span class=\"p\">(</span><span class=\"n\">name</span><span class=\"o\">=</span><span class=\"s2\">&quot;rh-4-a100s&quot;</span><span class=\"p\">)</span>\n</pre></div>\n</div>\n</dd></dl>\n\n</section>\n<section id=\"cluster-class\">\n<h2>Cluster Class<a class=\"headerlink\" href=\"#cluster-class\" title=\"Permalink to this heading\">\u00b6</a></h2>\n<dl class=\"py class\">\n<dt class=\"sig sig-object py\" id=\"runhouse.Cluster\">\n<em class=\"property\"><span class=\"pre\">class</span><span class=\"w\"> </span></em><span class=\"sig-prename descclassname\"><span class=\"pre\">runhouse.</span></span><span class=\"sig-name descname\"><span class=\"pre\">Cluster</span></span><span class=\"sig-paren\">(</span><em class=\"sig-param\"><span class=\"n\"><span class=\"pre\">name</span></span><span class=\"p\"><span class=\"pre\">:</span></span><span class=\"w\"> </span><span class=\"n\"><span class=\"pre\">str</span><span class=\"w\"> </span><span class=\"p\"><span class=\"pre\">|</span></span><span class=\"w\"> </span><span class=\"pre\">None</span></span><span class=\"w\"> </span><span class=\"o\"><span class=\"pre\">=</span></span><span class=\"w\"> </span><span class=\"default_value\"><span class=\"pre\">None</span></span></em>, <em class=\"sig-param\"><span class=\"n\"><span class=\"pre\">ips</span></span><span class=\"p\"><span class=\"pre\">:</span></span><span class=\"w\"> </span><span class=\"n\"><span class=\"pre\">List</span><span class=\"p\"><span class=\"pre\">[</span></span><span class=\"pre\">str</span><span class=\"p\"><span class=\"pre\">]</span></span></span><span class=\"w\"> </span><span class=\"o\"><span class=\"pre\">=</span></span><span class=\"w\"> </span><span class=\"default_value\"><span class=\"pre\">None</span></span></em>, <em class=\"sig-param\"><span class=\"n\"><span class=\"pre\">creds</span></span><span class=\"p\"><span class=\"pre\">:</span></span><span class=\"w\"> </span><span class=\"n\"><a class=\"reference internal\" href=\"../secrets/#runhouse.Secret\" title=\"runhouse.Secret\"><span class=\"pre\">Secret</span></a></span><span class=\"w\"> </span><span class=\"o\"><span class=\"pre\">=</span></span><span class=\"w\"> </span><span class=\"default_value\"><span class=\"pre\">None</span></span></em>, <em class=\"sig-param\"><span class=\"n\"><span class=\"pre\">default_env</span></span><span class=\"p\"><span class=\"pre\">:</span></span><span class=\"w\"> </span><span class=\"n\"><a class=\"reference internal\" href=\"../env/#runhouse.Env\" title=\"runhouse.Env\"><span class=\"pre\">Env</span></a></span><span class=\"w\"> </span><span class=\"o\"><span class=\"pre\">=</span></span><span class=\"w\"> </span><span class=\"default_value\"><span class=\"pre\">None</span></span></em>, <em class=\"sig-param\"><span class=\"n\"><span class=\"pre\">server_host</span></span><span class=\"p\"><span class=\"pre\">:</span></span><span class=\"w\"> </span><span class=\"n\"><span class=\"pre\">str</span></span><span class=\"w\"> </span><span class=\"o\"><span class=\"pre\">=</span></span><span class=\"w\"> </span><span class=\"default_value\"><span class=\"pre\">None</span></span></em>, <em class=\"sig-param\"><span class=\"n\"><span class=\"pre\">server_port</span></span><span class=\"p\"><span class=\"pre\">:</span></span><span class=\"w\"> </span><span class=\"n\"><span class=\"pre\">int</span></span><span class=\"w\"> </span><span class=\"o\"><span class=\"pre\">=</span></span><span class=\"w\"> </span><span class=\"default_value\"><span class=\"pre\">None</span></span></em>, <em class=\"sig-param\"><span class=\"n\"><span class=\"pre\">ssh_port</span></span><span class=\"p\"><span class=\"pre\">:</span></span><span class=\"w\"> </span><span class=\"n\"><span class=\"pre\">int</span></span><span class=\"w\"> </span><span class=\"o\"><span class=\"pre\">=</span></span><span class=\"w\"> </span><span class=\"default_value\"><span class=\"pre\">None</span></span></em>, <em class=\"sig-param\"><span class=\"n\"><span class=\"pre\">client_port</span></span><span class=\"p\"><span class=\"pre\">:</span></span><span class=\"w\"> </span><span class=\"n\"><span class=\"pre\">int</span></span><span class=\"w\"> </span><span class=\"o\"><span class=\"pre\">=</span></span><span class=\"w\"> </span><span class=\"default_value\"><span class=\"pre\">None</span></span></em>, <em class=\"sig-param\"><span class=\"n\"><span class=\"pre\">server_connection_type</span></span><span class=\"p\"><span class=\"pre\">:</span></span><span class=\"w\"> </span><span class=\"n\"><span class=\"pre\">str</span></span><span class=\"w\"> </span><span class=\"o\"><span class=\"pre\">=</span></span><span class=\"w\"> </span><span class=\"default_value\"><span class=\"pre\">None</span></span></em>, <em class=\"sig-param\"><span class=\"n\"><span class=\"pre\">ssl_keyfile</span></span><span class=\"p\"><span class=\"pre\">:</span></span><span class=\"w\"> </span><span class=\"n\"><span class=\"pre\">str</span></span><span class=\"w\"> </span><span class=\"o\"><span class=\"pre\">=</span></span><span class=\"w\"> </span><span class=\"default_value\"><span class=\"pre\">None</span></span></em>, <em class=\"sig-param\"><span class=\"n\"><span class=\"pre\">ssl_certfile</span></span><span class=\"p\"><span class=\"pre\">:</span></span><span class=\"w\"> </span><span class=\"n\"><span class=\"pre\">str</span></span><span class=\"w\"> </span><span class=\"o\"><span class=\"pre\">=</span></span><span class=\"w\"> </span><span class=\"default_value\"><span class=\"pre\">None</span></span></em>, <em class=\"sig-param\"><span class=\"n\"><span class=\"pre\">domain</span></span><span class=\"p\"><span class=\"pre\">:</span></span><span class=\"w\"> </span><span class=\"n\"><span class=\"pre\">str</span></span><span class=\"w\"> </span><span class=\"o\"><span class=\"pre\">=</span></span><span class=\"w\"> </span><span class=\"default_value\"><span class=\"pre\">None</span></span></em>, <em class=\"sig-param\"><span class=\"n\"><span class=\"pre\">ssh_properties</span></span><span class=\"p\"><span class=\"pre\">:</span></span><span class=\"w\"> </span><span class=\"n\"><span class=\"pre\">Dict</span></span><span class=\"w\"> </span><span class=\"o\"><span class=\"pre\">=</span></span><span class=\"w\"> </span><span class=\"default_value\"><span class=\"pre\">None</span></span></em>, <em class=\"sig-param\"><span class=\"n\"><span class=\"pre\">den_auth</span></span><span class=\"p\"><span class=\"pre\">:</span></span><span class=\"w\"> </span><span class=\"n\"><span class=\"pre\">bool</span></span><span class=\"w\"> </span><span class=\"o\"><span class=\"pre\">=</span></span><span class=\"w\"> </span><span class=\"default_value\"><span class=\"pre\">False</span></span></em>, <em class=\"sig-param\"><span class=\"n\"><span class=\"pre\">dryrun</span></span><span class=\"p\"><span class=\"pre\">:</span></span><span class=\"w\"> </span><span class=\"n\"><span class=\"pre\">bool</span></span><span class=\"w\"> </span><span class=\"o\"><span class=\"pre\">=</span></span><span class=\"w\"> </span><span class=\"default_value\"><span class=\"pre\">False</span></span></em>, <em class=\"sig-param\"><span class=\"n\"><span class=\"pre\">skip_creds</span></span><span class=\"p\"><span class=\"pre\">:</span></span><span class=\"w\"> </span><span class=\"n\"><span class=\"pre\">bool</span></span><span class=\"w\"> </span><span class=\"o\"><span class=\"pre\">=</span></span><span class=\"w\"> </span><span class=\"default_value\"><span class=\"pre\">False</span></span></em>, <em class=\"sig-param\"><span class=\"o\"><span class=\"pre\">**</span></span><span class=\"n\"><span class=\"pre\">kwargs</span></span></em><span class=\"sig-paren\">)</span><a class=\"reference internal\" href=\"../../../_modules/runhouse/resources/hardware/cluster/#Cluster\"><span class=\"viewcode-link\"><span class=\"pre\">[source]</span></span></a><a class=\"headerlink\" href=\"#runhouse.Cluster\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd><blockquote>\n<div><dl class=\"py method\">\n<dt class=\"sig sig-object py\" id=\"runhouse.Cluster.__init__\">\n<span class=\"sig-name descname\"><span class=\"pre\">__init__</span></span><span class=\"sig-paren\">(</span><em class=\"sig-param\"><span class=\"n\"><span class=\"pre\">name</span></span><span class=\"p\"><span class=\"pre\">:</span></span><span class=\"w\"> </span><span class=\"n\"><span class=\"pre\">str</span><span class=\"w\"> </span><span class=\"p\"><span class=\"pre\">|</span></span><span class=\"w\"> </span><span class=\"pre\">None</span></span><span class=\"w\"> </span><span class=\"o\"><span class=\"pre\">=</span></span><span class=\"w\"> </span><span class=\"default_value\"><span class=\"pre\">None</span></span></em>, <em class=\"sig-param\"><span class=\"n\"><span class=\"pre\">ips</span></span><span class=\"p\"><span class=\"pre\">:</span></span><span class=\"w\"> </span><span class=\"n\"><span class=\"pre\">List</span><span class=\"p\"><span class=\"pre\">[</span></span><span class=\"pre\">str</span><span class=\"p\"><span class=\"pre\">]</span></span></span><span class=\"w\"> </span><span class=\"o\"><span class=\"pre\">=</span></span><span class=\"w\"> </span><span class=\"default_value\"><span class=\"pre\">None</span></span></em>, <em class=\"sig-param\"><span class=\"n\"><span class=\"pre\">creds</span></span><span class=\"p\"><span class=\"pre\">:</span></span><span class=\"w\"> </span><span class=\"n\"><a class=\"reference internal\" href=\"../secrets/#runhouse.Secret\" title=\"runhouse.Secret\"><span class=\"pre\">Secret</span></a></span><span class=\"w\"> </span><span class=\"o\"><span class=\"pre\">=</span></span><span class=\"w\"> </span><span class=\"default_value\"><span class=\"pre\">None</span></span></em>, <em class=\"sig-param\"><span class=\"n\"><span class=\"pre\">default_env</span></span><span class=\"p\"><span class=\"pre\">:</span></span><span class=\"w\"> </span><span class=\"n\"><a class=\"reference internal\" href=\"../env/#runhouse.Env\" title=\"runhouse.Env\"><span class=\"pre\">Env</span></a></span><span class=\"w\"> </span><span class=\"o\"><span class=\"pre\">=</span></span><span class=\"w\"> </span><span class=\"default_value\"><span class=\"pre\">None</span></span></em>, <em class=\"sig-param\"><span class=\"n\"><span class=\"pre\">server_host</span></span><span class=\"p\"><span class=\"pre\">:</span></span><span class=\"w\"> </span><span class=\"n\"><span class=\"pre\">str</span></span><span class=\"w\"> </span><span class=\"o\"><span class=\"pre\">=</span></span><span class=\"w\"> </span><span class=\"default_value\"><span class=\"pre\">None</span></span></em>, <em class=\"sig-param\"><span class=\"n\"><span class=\"pre\">server_port</span></span><span class=\"p\"><span class=\"pre\">:</span></span><span class=\"w\"> </span><span class=\"n\"><span class=\"pre\">int</span></span><span class=\"w\"> </span><span class=\"o\"><span class=\"pre\">=</span></span><span class=\"w\"> </span><span class=\"default_value\"><span class=\"pre\">None</span></span></em>, <em class=\"sig-param\"><span class=\"n\"><span class=\"pre\">ssh_port</span></span><span class=\"p\"><span class=\"pre\">:</span></span><span class=\"w\"> </span><span class=\"n\"><span class=\"pre\">int</span></span><span class=\"w\"> </span><span class=\"o\"><span class=\"pre\">=</span></span><span class=\"w\"> </span><span class=\"default_value\"><span class=\"pre\">None</span></span></em>, <em class=\"sig-param\"><span class=\"n\"><span class=\"pre\">client_port</span></span><span class=\"p\"><span class=\"pre\">:</span></span><span class=\"w\"> </span><span class=\"n\"><span class=\"pre\">int</span></span><span class=\"w\"> </span><span class=\"o\"><span class=\"pre\">=</span></span><span class=\"w\"> </span><span class=\"default_value\"><span class=\"pre\">None</span></span></em>, <em class=\"sig-param\"><span class=\"n\"><span class=\"pre\">server_connection_type</span></span><span class=\"p\"><span class=\"pre\">:</span></span><span class=\"w\"> </span><span class=\"n\"><span class=\"pre\">str</span></span><span class=\"w\"> </span><span class=\"o\"><span class=\"pre\">=</span></span><span class=\"w\"> </span><span class=\"default_value\"><span class=\"pre\">None</span></span></em>, <em class=\"sig-param\"><span class=\"n\"><span class=\"pre\">ssl_keyfile</span></span><span class=\"p\"><span class=\"pre\">:</span></span><span class=\"w\"> </span><span class=\"n\"><span class=\"pre\">str</span></span><span class=\"w\"> </span><span class=\"o\"><span class=\"pre\">=</span></span><span class=\"w\"> </span><span class=\"default_value\"><span class=\"pre\">None</span></span></em>, <em class=\"sig-param\"><span class=\"n\"><span class=\"pre\">ssl_certfile</span></span><span class=\"p\"><span class=\"pre\">:</span></span><span class=\"w\"> </span><span class=\"n\"><span class=\"pre\">str</span></span><span class=\"w\"> </span><span class=\"o\"><span class=\"pre\">=</span></span><span class=\"w\"> </span><span class=\"default_value\"><span class=\"pre\">None</span></span></em>, <em class=\"sig-param\"><span class=\"n\"><span class=\"pre\">domain</span></span><span class=\"p\"><span class=\"pre\">:</span></span><span class=\"w\"> </span><span class=\"n\"><span class=\"pre\">str</span></span><span class=\"w\"> </span><span class=\"o\"><span class=\"pre\">=</span></span><span class=\"w\"> </span><span class=\"default_value\"><span class=\"pre\">None</span></span></em>, <em class=\"sig-param\"><span class=\"n\"><span class=\"pre\">ssh_properties</span></span><span class=\"p\"><span class=\"pre\">:</span></span><span class=\"w\"> </span><span class=\"n\"><span class=\"pre\">Dict</span></span><span class=\"w\"> </span><span class=\"o\"><span class=\"pre\">=</span></span><span class=\"w\"> </span><span class=\"default_value\"><span class=\"pre\">None</span></span></em>, <em class=\"sig-param\"><span class=\"n\"><span class=\"pre\">den_auth</span></span><span class=\"p\"><span class=\"pre\">:</span></span><span class=\"w\"> </span><span class=\"n\"><span class=\"pre\">bool</span></span><span class=\"w\"> </span><span class=\"o\"><span class=\"pre\">=</span></span><span class=\"w\"> </span><span class=\"default_value\"><span class=\"pre\">False</span></span></em>, <em class=\"sig-param\"><span class=\"n\"><span class=\"pre\">dryrun</span></span><span class=\"p\"><span class=\"pre\">:</span></span><span class=\"w\"> </span><span class=\"n\"><span class=\"pre\">bool</span></span><span class=\"w\"> </span><span class=\"o\"><span class=\"pre\">=</span></span><span class=\"w\"> </span><span class=\"default_value\"><span class=\"pre\">False</span></span></em>, <em class=\"sig-param\"><span class=\"n\"><span class=\"pre\">skip_creds</span></span><span class=\"p\"><span class=\"pre\">:</span></span><span class=\"w\"> </span><span class=\"n\"><span class=\"pre\">bool</span></span><span class=\"w\"> </span><span class=\"o\"><span class=\"pre\">=</span></span><span class=\"w\"> </span><span class=\"default_value\"><span class=\"pre\">False</span></span></em>, <em class=\"sig-param\"><span class=\"o\"><span class=\"pre\">**</span></span><span class=\"n\"><span class=\"pre\">kwargs</span></span></em><span class=\"sig-paren\">)</span><a class=\"reference internal\" href=\"../../../_modules/runhouse/resources/hardware/cluster/#Cluster.__init__\"><span class=\"viewcode-link\"><span class=\"pre\">[source]</span></span></a><a class=\"headerlink\" href=\"#runhouse.Cluster.__init__\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd><p>The Runhouse cluster, or system. This is where you can run Functions or access/transfer data\nbetween. You can BYO (bring-your-own) cluster by providing cluster IP and ssh_creds, or\nthis can be an on-demand cluster that is spun up/down through\n<a class=\"reference external\" href=\"https://github.com/skypilot-org/skypilot\">SkyPilot</a>, using your cloud credentials.</p>\n<div class=\"admonition note\">\n<p class=\"admonition-title\">Note</p>\n<p>To build a cluster, please use the factory method <a class=\"reference internal\" href=\"#runhouse.cluster\" title=\"runhouse.cluster\"><code class=\"xref py py-func docutils literal notranslate\"><span class=\"pre\">cluster()</span></code></a>.</p>\n</div>\n</dd></dl>\n\n</div></blockquote>\n<dl class=\"py method\">\n<dt class=\"sig sig-object py\" id=\"runhouse.Cluster.call\">\n<span class=\"sig-name descname\"><span class=\"pre\">call</span></span><span class=\"sig-paren\">(</span><em class=\"sig-param\"><span class=\"n\"><span class=\"pre\">module_name</span></span><span class=\"p\"><span class=\"pre\">:</span></span><span class=\"w\"> </span><span class=\"n\"><span class=\"pre\">str</span></span></em>, <em class=\"sig-param\"><span class=\"n\"><span class=\"pre\">method_name</span></span><span class=\"p\"><span class=\"pre\">:</span></span><span class=\"w\"> </span><span class=\"n\"><span class=\"pre\">str</span></span></em>, <em class=\"sig-param\"><span class=\"o\"><span class=\"pre\">*</span></span><span class=\"n\"><span class=\"pre\">args</span></span></em>, <em class=\"sig-param\"><span class=\"n\"><span class=\"pre\">stream_logs</span></span><span class=\"p\"><span class=\"pre\">:</span></span><span class=\"w\"> </span><span class=\"n\"><span class=\"pre\">bool</span></span><span class=\"w\"> </span><span class=\"o\"><span class=\"pre\">=</span></span><span class=\"w\"> </span><span class=\"default_value\"><span class=\"pre\">True</span></span></em>, <em class=\"sig-param\"><span class=\"n\"><span class=\"pre\">run_name</span></span><span class=\"p\"><span class=\"pre\">:</span></span><span class=\"w\"> </span><span class=\"n\"><span class=\"pre\">str</span><span class=\"w\"> </span><span class=\"p\"><span class=\"pre\">|</span></span><span class=\"w\"> </span><span class=\"pre\">None</span></span><span class=\"w\"> </span><span class=\"o\"><span class=\"pre\">=</span></span><span class=\"w\"> </span><span class=\"default_value\"><span class=\"pre\">None</span></span></em>, <em class=\"sig-param\"><span class=\"n\"><span class=\"pre\">remote</span></span><span class=\"p\"><span class=\"pre\">:</span></span><span class=\"w\"> </span><span class=\"n\"><span class=\"pre\">bool</span></span><span class=\"w\"> </span><span class=\"o\"><span class=\"pre\">=</span></span><span class=\"w\"> </span><span class=\"default_value\"><span class=\"pre\">False</span></span></em>, <em class=\"sig-param\"><span class=\"n\"><span class=\"pre\">run_async</span></span><span class=\"p\"><span class=\"pre\">:</span></span><span class=\"w\"> </span><span class=\"n\"><span class=\"pre\">bool</span></span><span class=\"w\"> </span><span class=\"o\"><span class=\"pre\">=</span></span><span class=\"w\"> </span><span class=\"default_value\"><span class=\"pre\">False</span></span></em>, <em class=\"sig-param\"><span class=\"n\"><span class=\"pre\">save</span></span><span class=\"p\"><span class=\"pre\">:</span></span><span class=\"w\"> </span><span class=\"n\"><span class=\"pre\">bool</span></span><span class=\"w\"> </span><span class=\"o\"><span class=\"pre\">=</span></span><span class=\"w\"> </span><span class=\"default_value\"><span class=\"pre\">False</span></span></em>, <em class=\"sig-param\"><span class=\"o\"><span class=\"pre\">**</span></span><span class=\"n\"><span class=\"pre\">kwargs</span></span></em><span class=\"sig-paren\">)</span><a class=\"reference internal\" href=\"../../../_modules/runhouse/resources/hardware/cluster/#Cluster.call\"><span class=\"viewcode-link\"><span class=\"pre\">[source]</span></span></a><a class=\"headerlink\" href=\"#runhouse.Cluster.call\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd><p>Call a method on a module that is in the cluster\u2019s object store.</p>\n<dl class=\"field-list simple\">\n<dt class=\"field-odd\">Parameters<span class=\"colon\">:</span></dt>\n<dd class=\"field-odd\"><ul class=\"simple\">\n<li><p><strong>module_name</strong> (<em>str</em>) \u2013 Name of the module saved on system.</p></li>\n<li><p><strong>method_name</strong> (<em>str</em>) \u2013 Name of the method.</p></li>\n<li><p><strong>stream_logs</strong> (<em>bool</em><em>, </em><em>optional</em>) \u2013 Whether to stream logs from the method call. (Default: <code class=\"docutils literal notranslate\"><span class=\"pre\">True</span></code>)</p></li>\n<li><p><strong>run_name</strong> (<em>str</em><em>, </em><em>optional</em>) \u2013 Name for the run. (Default: <code class=\"docutils literal notranslate\"><span class=\"pre\">None</span></code>)</p></li>\n<li><p><strong>remote</strong> (<em>bool</em><em>, </em><em>optional</em>) \u2013 Return a remote object from the function, rather than the result proper.\n(Default: <code class=\"docutils literal notranslate\"><span class=\"pre\">False</span></code>)</p></li>\n<li><p><strong>run_async</strong> (<em>bool</em><em>, </em><em>optional</em>) \u2013 Run the method asynchronously and return an awaitable. (Default: <code class=\"docutils literal notranslate\"><span class=\"pre\">False</span></code>)</p></li>\n<li><p><strong>save</strong> (<em>bool</em><em>, </em><em>optional</em>) \u2013 Whether or not to save the call. (Default: <code class=\"docutils literal notranslate\"><span class=\"pre\">False</span></code>)</p></li>\n<li><p><strong>*args</strong> \u2013 Positional arguments to pass to the method.</p></li>\n<li><p><strong>**kwargs</strong> \u2013 Keyword arguments to pass to the method.</p></li>\n</ul>\n</dd>\n</dl>\n<p class=\"rubric\">Example</p>\n<div class=\"doctest highlight-default notranslate\"><div class=\"highlight\"><pre><span></span><span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">cluster</span><span class=\"o\">.</span><span class=\"n\">call</span><span class=\"p\">(</span><span class=\"s2\">&quot;my_module&quot;</span><span class=\"p\">,</span> <span class=\"s2\">&quot;my_method&quot;</span><span class=\"p\">,</span> <span class=\"n\">arg1</span><span class=\"p\">,</span> <span class=\"n\">arg2</span><span class=\"p\">,</span> <span class=\"n\">kwarg1</span><span class=\"o\">=</span><span class=\"n\">kwarg1</span><span class=\"p\">)</span>\n</pre></div>\n</div>\n</dd></dl>\n\n<dl class=\"py method\">\n<dt class=\"sig sig-object py\" id=\"runhouse.Cluster.clear\">\n<span class=\"sig-name descname\"><span class=\"pre\">clear</span></span><span class=\"sig-paren\">(</span><span class=\"sig-paren\">)</span><a class=\"reference internal\" href=\"../../../_modules/runhouse/resources/hardware/cluster/#Cluster.clear\"><span class=\"viewcode-link\"><span class=\"pre\">[source]</span></span></a><a class=\"headerlink\" href=\"#runhouse.Cluster.clear\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd><p>Clear the cluster\u2019s object store.</p>\n</dd></dl>\n\n<dl class=\"py method\">\n<dt class=\"sig sig-object py\" id=\"runhouse.Cluster.delete\">\n<span class=\"sig-name descname\"><span class=\"pre\">delete</span></span><span class=\"sig-paren\">(</span><em class=\"sig-param\"><span class=\"n\"><span class=\"pre\">keys</span></span><span class=\"p\"><span class=\"pre\">:</span></span><span class=\"w\"> </span><span class=\"n\"><span class=\"pre\">None</span><span class=\"w\"> </span><span class=\"p\"><span class=\"pre\">|</span></span><span class=\"w\"> </span><span class=\"pre\">str</span><span class=\"w\"> </span><span class=\"p\"><span class=\"pre\">|</span></span><span class=\"w\"> </span><span class=\"pre\">List</span><span class=\"p\"><span class=\"pre\">[</span></span><span class=\"pre\">str</span><span class=\"p\"><span class=\"pre\">]</span></span></span></em><span class=\"sig-paren\">)</span><a class=\"reference internal\" href=\"../../../_modules/runhouse/resources/hardware/cluster/#Cluster.delete\"><span class=\"viewcode-link\"><span class=\"pre\">[source]</span></span></a><a class=\"headerlink\" href=\"#runhouse.Cluster.delete\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd><p>Delete the given items from the cluster\u2019s object store. To delete all items, use <cite>cluster.clear()</cite></p>\n<dl class=\"field-list simple\">\n<dt class=\"field-odd\">Parameters<span class=\"colon\">:</span></dt>\n<dd class=\"field-odd\"><p><strong>keys</strong> (<em>str</em><em> or </em><em>List</em><em>[</em><em>str</em><em>]</em>) \u2013 key or list of keys to delete from the object store.</p>\n</dd>\n</dl>\n</dd></dl>\n\n<dl class=\"py method\">\n<dt class=\"sig sig-object py\" id=\"runhouse.Cluster.delete_configs\">\n<span class=\"sig-name descname\"><span class=\"pre\">delete_configs</span></span><span class=\"sig-paren\">(</span><em class=\"sig-param\"><span class=\"n\"><span class=\"pre\">delete_creds</span></span><span class=\"p\"><span class=\"pre\">:</span></span><span class=\"w\"> </span><span class=\"n\"><span class=\"pre\">bool</span></span><span class=\"w\"> </span><span class=\"o\"><span class=\"pre\">=</span></span><span class=\"w\"> </span><span class=\"default_value\"><span class=\"pre\">False</span></span></em><span class=\"sig-paren\">)</span><a class=\"reference internal\" href=\"../../../_modules/runhouse/resources/hardware/cluster/#Cluster.delete_configs\"><span class=\"viewcode-link\"><span class=\"pre\">[source]</span></span></a><a class=\"headerlink\" href=\"#runhouse.Cluster.delete_configs\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd><p>Delete configs for the cluster</p>\n</dd></dl>\n\n<dl class=\"py method\">\n<dt class=\"sig sig-object py\" id=\"runhouse.Cluster.disconnect\">\n<span class=\"sig-name descname\"><span class=\"pre\">disconnect</span></span><span class=\"sig-paren\">(</span><span class=\"sig-paren\">)</span><a class=\"reference internal\" href=\"../../../_modules/runhouse/resources/hardware/cluster/#Cluster.disconnect\"><span class=\"viewcode-link\"><span class=\"pre\">[source]</span></span></a><a class=\"headerlink\" href=\"#runhouse.Cluster.disconnect\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd><p>Disconnect the RPC tunnel.</p>\n<p class=\"rubric\">Example</p>\n<div class=\"doctest highlight-default notranslate\"><div class=\"highlight\"><pre><span></span><span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">cluster</span><span class=\"o\">.</span><span class=\"n\">disconnect</span><span class=\"p\">()</span>\n</pre></div>\n</div>\n</dd></dl>\n\n<dl class=\"py method\">\n<dt class=\"sig sig-object py\" id=\"runhouse.Cluster.download_cert\">\n<span class=\"sig-name descname\"><span class=\"pre\">download_cert</span></span><span class=\"sig-paren\">(</span><span class=\"sig-paren\">)</span><a class=\"reference internal\" href=\"../../../_modules/runhouse/resources/hardware/cluster/#Cluster.download_cert\"><span class=\"viewcode-link\"><span class=\"pre\">[source]</span></span></a><a class=\"headerlink\" href=\"#runhouse.Cluster.download_cert\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd><p>Download certificate from the cluster (Note: user must have access to the cluster)</p>\n</dd></dl>\n\n<dl class=\"py method\">\n<dt class=\"sig sig-object py\" id=\"runhouse.Cluster.enable_den_auth\">\n<span class=\"sig-name descname\"><span class=\"pre\">enable_den_auth</span></span><span class=\"sig-paren\">(</span><em class=\"sig-param\"><span class=\"n\"><span class=\"pre\">flush</span></span><span class=\"p\"><span class=\"pre\">:</span></span><span class=\"w\"> </span><span class=\"n\"><span class=\"pre\">bool</span></span><span class=\"w\"> </span><span class=\"o\"><span class=\"pre\">=</span></span><span class=\"w\"> </span><span class=\"default_value\"><span class=\"pre\">True</span></span></em><span class=\"sig-paren\">)</span><a class=\"reference internal\" href=\"../../../_modules/runhouse/resources/hardware/cluster/#Cluster.enable_den_auth\"><span class=\"viewcode-link\"><span class=\"pre\">[source]</span></span></a><a class=\"headerlink\" href=\"#runhouse.Cluster.enable_den_auth\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd><p>Enable Den auth on the cluster.</p>\n<dl class=\"field-list simple\">\n<dt class=\"field-odd\">Parameters<span class=\"colon\">:</span></dt>\n<dd class=\"field-odd\"><p><strong>flush</strong> (<em>bool</em><em>, </em><em>optional</em>) \u2013 Whether to flush the auth cache. (Default: <code class=\"docutils literal notranslate\"><span class=\"pre\">True</span></code>)</p>\n</dd>\n</dl>\n</dd></dl>\n\n<dl class=\"py method\">\n<dt class=\"sig sig-object py\" id=\"runhouse.Cluster.endpoint\">\n<span class=\"sig-name descname\"><span class=\"pre\">endpoint</span></span><span class=\"sig-paren\">(</span><em class=\"sig-param\"><span class=\"n\"><span class=\"pre\">external</span></span><span class=\"p\"><span class=\"pre\">:</span></span><span class=\"w\"> </span><span class=\"n\"><span class=\"pre\">bool</span></span><span class=\"w\"> </span><span class=\"o\"><span class=\"pre\">=</span></span><span class=\"w\"> </span><span class=\"default_value\"><span class=\"pre\">False</span></span></em><span class=\"sig-paren\">)</span><a class=\"reference internal\" href=\"../../../_modules/runhouse/resources/hardware/cluster/#Cluster.endpoint\"><span class=\"viewcode-link\"><span class=\"pre\">[source]</span></span></a><a class=\"headerlink\" href=\"#runhouse.Cluster.endpoint\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd><p>Endpoint for the cluster\u2019s Daemon server.</p>\n<dl class=\"field-list simple\">\n<dt class=\"field-odd\">Parameters<span class=\"colon\">:</span></dt>\n<dd class=\"field-odd\"><p><strong>external</strong> (<em>bool</em><em>, </em><em>optional</em>) \u2013 If <code class=\"docutils literal notranslate\"><span class=\"pre\">True</span></code>, will only return the external url, and will return <code class=\"docutils literal notranslate\"><span class=\"pre\">None</span></code>\notherwise (e.g. if a tunnel is required). If set to <code class=\"docutils literal notranslate\"><span class=\"pre\">False</span></code>, will either return the external url\nif it exists, or will set up the connection (based on connection_type) and return the internal url\n(including the local connected port rather than the sever port). If cluster is not up, returns\n<cite>None`</cite>. (Default: <code class=\"docutils literal notranslate\"><span class=\"pre\">False</span></code>)</p>\n</dd>\n</dl>\n</dd></dl>\n\n<dl class=\"py method\">\n<dt class=\"sig sig-object py\" id=\"runhouse.Cluster.from_config\">\n<em class=\"property\"><span class=\"pre\">classmethod</span><span class=\"w\"> </span></em><span class=\"sig-name descname\"><span class=\"pre\">from_config</span></span><span class=\"sig-paren\">(</span><em class=\"sig-param\"><span class=\"n\"><span class=\"pre\">config</span></span><span class=\"p\"><span class=\"pre\">:</span></span><span class=\"w\"> </span><span class=\"n\"><span class=\"pre\">Dict</span></span></em>, <em class=\"sig-param\"><span class=\"n\"><span class=\"pre\">dryrun</span></span><span class=\"p\"><span class=\"pre\">:</span></span><span class=\"w\"> </span><span class=\"n\"><span class=\"pre\">bool</span></span><span class=\"w\"> </span><span class=\"o\"><span class=\"pre\">=</span></span><span class=\"w\"> </span><span class=\"default_value\"><span class=\"pre\">False</span></span></em>, <em class=\"sig-param\"><span class=\"n\"><span class=\"pre\">_resolve_children</span></span><span class=\"p\"><span class=\"pre\">:</span></span><span class=\"w\"> </span><span class=\"n\"><span class=\"pre\">bool</span></span><span class=\"w\"> </span><span class=\"o\"><span class=\"pre\">=</span></span><span class=\"w\"> </span><span class=\"default_value\"><span class=\"pre\">True</span></span></em><span class=\"sig-paren\">)</span><a class=\"reference internal\" href=\"../../../_modules/runhouse/resources/hardware/cluster/#Cluster.from_config\"><span class=\"viewcode-link\"><span class=\"pre\">[source]</span></span></a><a class=\"headerlink\" href=\"#runhouse.Cluster.from_config\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd><p>Load or construct resource from config.</p>\n<dl class=\"field-list simple\">\n<dt class=\"field-odd\">Parameters<span class=\"colon\">:</span></dt>\n<dd class=\"field-odd\"><ul class=\"simple\">\n<li><p><strong>config</strong> (<em>Dict</em>) \u2013 Resource config.</p></li>\n<li><p><strong>dryrun</strong> (<em>bool</em><em>, </em><em>optional</em>) \u2013 Whether to construct resource or load as dryrun (Default: <code class=\"docutils literal notranslate\"><span class=\"pre\">False</span></code>)</p></li>\n</ul>\n</dd>\n</dl>\n</dd></dl>\n\n<dl class=\"py method\">\n<dt class=\"sig sig-object py\" id=\"runhouse.Cluster.from_name\">\n<em class=\"property\"><span class=\"pre\">classmethod</span><span class=\"w\"> </span></em><span class=\"sig-name descname\"><span class=\"pre\">from_name</span></span><span class=\"sig-paren\">(</span><em class=\"sig-param\"><span class=\"n\"><span class=\"pre\">name</span></span><span class=\"p\"><span class=\"pre\">:</span></span><span class=\"w\"> </span><span class=\"n\"><span class=\"pre\">str</span></span></em>, <em class=\"sig-param\"><span class=\"n\"><span class=\"pre\">load_from_den</span></span><span class=\"p\"><span class=\"pre\">:</span></span><span class=\"w\"> </span><span class=\"n\"><span class=\"pre\">bool</span></span><span class=\"w\"> </span><span class=\"o\"><span class=\"pre\">=</span></span><span class=\"w\"> </span><span class=\"default_value\"><span class=\"pre\">True</span></span></em>, <em class=\"sig-param\"><span class=\"n\"><span class=\"pre\">dryrun</span></span><span class=\"p\"><span class=\"pre\">:</span></span><span class=\"w\"> </span><span class=\"n\"><span class=\"pre\">bool</span></span><span class=\"w\"> </span><span class=\"o\"><span class=\"pre\">=</span></span><span class=\"w\"> </span><span class=\"default_value\"><span class=\"pre\">False</span></span></em>, <em class=\"sig-param\"><span class=\"n\"><span class=\"pre\">_alt_options</span></span><span class=\"p\"><span class=\"pre\">:</span></span><span class=\"w\"> </span><span class=\"n\"><span class=\"pre\">Dict</span><span class=\"w\"> </span><span class=\"p\"><span class=\"pre\">|</span></span><span class=\"w\"> </span><span class=\"pre\">None</span></span><span class=\"w\"> </span><span class=\"o\"><span class=\"pre\">=</span></span><span class=\"w\"> </span><span class=\"default_value\"><span class=\"pre\">None</span></span></em>, <em class=\"sig-param\"><span class=\"n\"><span class=\"pre\">_resolve_children</span></span><span class=\"p\"><span class=\"pre\">:</span></span><span class=\"w\"> </span><span class=\"n\"><span class=\"pre\">bool</span></span><span class=\"w\"> </span><span class=\"o\"><span class=\"pre\">=</span></span><span class=\"w\"> </span><span class=\"default_value\"><span class=\"pre\">True</span></span></em><span class=\"sig-paren\">)</span><a class=\"reference internal\" href=\"../../../_modules/runhouse/resources/hardware/cluster/#Cluster.from_name\"><span class=\"viewcode-link\"><span class=\"pre\">[source]</span></span></a><a class=\"headerlink\" href=\"#runhouse.Cluster.from_name\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd><p>Load existing Resource via its name.</p>\n<dl class=\"field-list simple\">\n<dt class=\"field-odd\">Parameters<span class=\"colon\">:</span></dt>\n<dd class=\"field-odd\"><ul class=\"simple\">\n<li><p><strong>name</strong> (<em>str</em>) \u2013 Name of the resource to load from name.</p></li>\n<li><p><strong>load_from_den</strong> (<em>bool</em><em>, </em><em>optional</em>) \u2013 Whether to try loading the module from Den. (Default: <code class=\"docutils literal notranslate\"><span class=\"pre\">True</span></code>)</p></li>\n<li><p><strong>dryrun</strong> (<em>bool</em><em>, </em><em>optional</em>) \u2013 Whether to construct the object or load as dryrun. (Default: <code class=\"docutils literal notranslate\"><span class=\"pre\">False</span></code>)</p></li>\n</ul>\n</dd>\n</dl>\n</dd></dl>\n\n<dl class=\"py method\">\n<dt class=\"sig sig-object py\" id=\"runhouse.Cluster.get\">\n<span class=\"sig-name descname\"><span class=\"pre\">get</span></span><span class=\"sig-paren\">(</span><em class=\"sig-param\"><span class=\"n\"><span class=\"pre\">key</span></span><span class=\"p\"><span class=\"pre\">:</span></span><span class=\"w\"> </span><span class=\"n\"><span class=\"pre\">str</span></span></em>, <em class=\"sig-param\"><span class=\"n\"><span class=\"pre\">default</span></span><span class=\"p\"><span class=\"pre\">:</span></span><span class=\"w\"> </span><span class=\"n\"><span class=\"pre\">Any</span><span class=\"w\"> </span><span class=\"p\"><span class=\"pre\">|</span></span><span class=\"w\"> </span><span class=\"pre\">None</span></span><span class=\"w\"> </span><span class=\"o\"><span class=\"pre\">=</span></span><span class=\"w\"> </span><span class=\"default_value\"><span class=\"pre\">None</span></span></em>, <em class=\"sig-param\"><span class=\"n\"><span class=\"pre\">remote</span></span><span class=\"o\"><span class=\"pre\">=</span></span><span class=\"default_value\"><span class=\"pre\">False</span></span></em><span class=\"sig-paren\">)</span><a class=\"reference internal\" href=\"../../../_modules/runhouse/resources/hardware/cluster/#Cluster.get\"><span class=\"viewcode-link\"><span class=\"pre\">[source]</span></span></a><a class=\"headerlink\" href=\"#runhouse.Cluster.get\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd><p>Get the result for a given key from the cluster\u2019s object store.</p>\n<dl class=\"field-list simple\">\n<dt class=\"field-odd\">Parameters<span class=\"colon\">:</span></dt>\n<dd class=\"field-odd\"><ul class=\"simple\">\n<li><p><strong>key</strong> (<em>str</em>) \u2013 Key to get from the cluster\u2019s object store.</p></li>\n<li><p><strong>default</strong> (<em>Any</em><em>, </em><em>optional</em>) \u2013 What to return if the key is not found. To raise an error, pass in\n<code class=\"docutils literal notranslate\"><span class=\"pre\">KeyError</span></code>. (Default: None)</p></li>\n<li><p><strong>remote</strong> (<em>bool</em><em>, </em><em>optional</em>) \u2013 Whether to get the remote object, rather than the object in full.\n(Default: <code class=\"docutils literal notranslate\"><span class=\"pre\">False</span></code>)</p></li>\n</ul>\n</dd>\n</dl>\n</dd></dl>\n\n<dl class=\"py method\">\n<dt class=\"sig sig-object py\" id=\"runhouse.Cluster.install_packages\">\n<span class=\"sig-name descname\"><span class=\"pre\">install_packages</span></span><span class=\"sig-paren\">(</span><em class=\"sig-param\"><span class=\"n\"><span class=\"pre\">reqs</span></span><span class=\"p\"><span class=\"pre\">:</span></span><span class=\"w\"> </span><span class=\"n\"><span class=\"pre\">List</span><span class=\"p\"><span class=\"pre\">[</span></span><a class=\"reference internal\" href=\"../package/#runhouse.Package\" title=\"runhouse.Package\"><span class=\"pre\">Package</span></a><span class=\"w\"> </span><span class=\"p\"><span class=\"pre\">|</span></span><span class=\"w\"> </span><span class=\"pre\">str</span><span class=\"p\"><span class=\"pre\">]</span></span></span></em>, <em class=\"sig-param\"><span class=\"n\"><span class=\"pre\">node</span></span><span class=\"p\"><span class=\"pre\">:</span></span><span class=\"w\"> </span><span class=\"n\"><span class=\"pre\">str</span><span class=\"w\"> </span><span class=\"p\"><span class=\"pre\">|</span></span><span class=\"w\"> </span><span class=\"pre\">None</span></span><span class=\"w\"> </span><span class=\"o\"><span class=\"pre\">=</span></span><span class=\"w\"> </span><span class=\"default_value\"><span class=\"pre\">None</span></span></em>, <em class=\"sig-param\"><span class=\"n\"><span class=\"pre\">conda_env_name</span></span><span class=\"p\"><span class=\"pre\">:</span></span><span class=\"w\"> </span><span class=\"n\"><span class=\"pre\">str</span><span class=\"w\"> </span><span class=\"p\"><span class=\"pre\">|</span></span><span class=\"w\"> </span><span class=\"pre\">None</span></span><span class=\"w\"> </span><span class=\"o\"><span class=\"pre\">=</span></span><span class=\"w\"> </span><span class=\"default_value\"><span class=\"pre\">None</span></span></em><span class=\"sig-paren\">)</span><a class=\"reference internal\" href=\"../../../_modules/runhouse/resources/hardware/cluster/#Cluster.install_packages\"><span class=\"viewcode-link\"><span class=\"pre\">[source]</span></span></a><a class=\"headerlink\" href=\"#runhouse.Cluster.install_packages\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd><p>Install the given packages on the cluster.</p>\n<dl class=\"field-list simple\">\n<dt class=\"field-odd\">Parameters<span class=\"colon\">:</span></dt>\n<dd class=\"field-odd\"><ul class=\"simple\">\n<li><p><strong>reqs</strong> (<em>List</em><em>[</em><a class=\"reference internal\" href=\"../package/#runhouse.Package\" title=\"runhouse.Package\"><em>Package</em></a><em> or </em><em>str</em><em>]</em>) \u2013 List of packages to install on cluster and env.</p></li>\n<li><p><strong>env</strong> (<a class=\"reference internal\" href=\"../env/#runhouse.Env\" title=\"runhouse.Env\"><em>Env</em></a><em> or </em><em>str</em>) \u2013 Environment to install package on. If left empty, defaults to base environment.\n(Default: <code class=\"docutils literal notranslate\"><span class=\"pre\">None</span></code>)</p></li>\n</ul>\n</dd>\n</dl>\n<p class=\"rubric\">Example</p>\n<div class=\"doctest highlight-default notranslate\"><div class=\"highlight\"><pre><span></span><span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">cluster</span><span class=\"o\">.</span><span class=\"n\">install_packages</span><span class=\"p\">(</span><span class=\"n\">reqs</span><span class=\"o\">=</span><span class=\"p\">[</span><span class=\"s2\">&quot;accelerate&quot;</span><span class=\"p\">,</span> <span class=\"s2\">&quot;diffusers&quot;</span><span class=\"p\">])</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">cluster</span><span class=\"o\">.</span><span class=\"n\">install_packages</span><span class=\"p\">(</span><span class=\"n\">reqs</span><span class=\"o\">=</span><span class=\"p\">[</span><span class=\"s2\">&quot;accelerate&quot;</span><span class=\"p\">,</span> <span class=\"s2\">&quot;diffusers&quot;</span><span class=\"p\">],</span> <span class=\"n\">env</span><span class=\"o\">=</span><span class=\"s2\">&quot;my_conda_env&quot;</span><span class=\"p\">)</span>\n</pre></div>\n</div>\n</dd></dl>\n\n<dl class=\"py method\">\n<dt class=\"sig sig-object py\" id=\"runhouse.Cluster.is_connected\">\n<span class=\"sig-name descname\"><span class=\"pre\">is_connected</span></span><span class=\"sig-paren\">(</span><span class=\"sig-paren\">)</span><a class=\"reference internal\" href=\"../../../_modules/runhouse/resources/hardware/cluster/#Cluster.is_connected\"><span class=\"viewcode-link\"><span class=\"pre\">[source]</span></span></a><a class=\"headerlink\" href=\"#runhouse.Cluster.is_connected\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd><p>Whether the RPC tunnel is up.</p>\n<p class=\"rubric\">Example</p>\n<div class=\"doctest highlight-default notranslate\"><div class=\"highlight\"><pre><span></span><span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">connected</span> <span class=\"o\">=</span> <span class=\"n\">cluster</span><span class=\"o\">.</span><span class=\"n\">is_connected</span><span class=\"p\">()</span>\n</pre></div>\n</div>\n</dd></dl>\n\n<dl class=\"py method\">\n<dt class=\"sig sig-object py\" id=\"runhouse.Cluster.is_up\">\n<span class=\"sig-name descname\"><span class=\"pre\">is_up</span></span><span class=\"sig-paren\">(</span><span class=\"sig-paren\">)</span> <span class=\"sig-return\"><span class=\"sig-return-icon\">&#x2192;</span> <span class=\"sig-return-typehint\"><span class=\"pre\">bool</span></span></span><a class=\"reference internal\" href=\"../../../_modules/runhouse/resources/hardware/cluster/#Cluster.is_up\"><span class=\"viewcode-link\"><span class=\"pre\">[source]</span></span></a><a class=\"headerlink\" href=\"#runhouse.Cluster.is_up\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd><p>Check if the cluster is up.</p>\n<p class=\"rubric\">Example</p>\n<div class=\"doctest highlight-default notranslate\"><div class=\"highlight\"><pre><span></span><span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">rh</span><span class=\"o\">.</span><span class=\"n\">cluster</span><span class=\"p\">(</span><span class=\"s2\">&quot;rh-cpu&quot;</span><span class=\"p\">)</span><span class=\"o\">.</span><span class=\"n\">is_up</span><span class=\"p\">()</span>\n</pre></div>\n</div>\n</dd></dl>\n\n<dl class=\"py method\">\n<dt class=\"sig sig-object py\" id=\"runhouse.Cluster.keys\">\n<span class=\"sig-name descname\"><span class=\"pre\">keys</span></span><span class=\"sig-paren\">(</span><em class=\"sig-param\"><span class=\"n\"><span class=\"pre\">env</span></span><span class=\"p\"><span class=\"pre\">:</span></span><span class=\"w\"> </span><span class=\"n\"><span class=\"pre\">str</span><span class=\"w\"> </span><span class=\"p\"><span class=\"pre\">|</span></span><span class=\"w\"> </span><span class=\"pre\">None</span></span><span class=\"w\"> </span><span class=\"o\"><span class=\"pre\">=</span></span><span class=\"w\"> </span><span class=\"default_value\"><span class=\"pre\">None</span></span></em><span class=\"sig-paren\">)</span><a class=\"reference internal\" href=\"../../../_modules/runhouse/resources/hardware/cluster/#Cluster.keys\"><span class=\"viewcode-link\"><span class=\"pre\">[source]</span></span></a><a class=\"headerlink\" href=\"#runhouse.Cluster.keys\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd><p>List all keys in the cluster\u2019s object store.</p>\n<dl class=\"field-list simple\">\n<dt class=\"field-odd\">Parameters<span class=\"colon\">:</span></dt>\n<dd class=\"field-odd\"><p><strong>env</strong> (<em>str</em><em>, </em><em>optional</em>) \u2013 Env in which to list out the keys for.</p>\n</dd>\n</dl>\n</dd></dl>\n\n<dl class=\"py method\">\n<dt class=\"sig sig-object py\" id=\"runhouse.Cluster.list\">\n<em class=\"property\"><span class=\"pre\">classmethod</span><span class=\"w\"> </span></em><span class=\"sig-name descname\"><span class=\"pre\">list</span></span><span class=\"sig-paren\">(</span><em class=\"sig-param\"><span class=\"n\"><span class=\"pre\">show_all</span></span><span class=\"p\"><span class=\"pre\">:</span></span><span class=\"w\"> </span><span class=\"n\"><span class=\"pre\">bool</span></span><span class=\"w\"> </span><span class=\"o\"><span class=\"pre\">=</span></span><span class=\"w\"> </span><span class=\"default_value\"><span class=\"pre\">False</span></span></em>, <em class=\"sig-param\"><span class=\"n\"><span class=\"pre\">since</span></span><span class=\"p\"><span class=\"pre\">:</span></span><span class=\"w\"> </span><span class=\"n\"><span class=\"pre\">str</span><span class=\"w\"> </span><span class=\"p\"><span class=\"pre\">|</span></span><span class=\"w\"> </span><span class=\"pre\">None</span></span><span class=\"w\"> </span><span class=\"o\"><span class=\"pre\">=</span></span><span class=\"w\"> </span><span class=\"default_value\"><span class=\"pre\">None</span></span></em>, <em class=\"sig-param\"><span class=\"n\"><span class=\"pre\">status</span></span><span class=\"p\"><span class=\"pre\">:</span></span><span class=\"w\"> </span><span class=\"n\"><span class=\"pre\">str</span><span class=\"w\"> </span><span class=\"p\"><span class=\"pre\">|</span></span><span class=\"w\"> </span><span class=\"pre\">ClusterStatus</span><span class=\"w\"> </span><span class=\"p\"><span class=\"pre\">|</span></span><span class=\"w\"> </span><span class=\"pre\">None</span></span><span class=\"w\"> </span><span class=\"o\"><span class=\"pre\">=</span></span><span class=\"w\"> </span><span class=\"default_value\"><span class=\"pre\">None</span></span></em><span class=\"sig-paren\">)</span> <span class=\"sig-return\"><span class=\"sig-return-icon\">&#x2192;</span> <span class=\"sig-return-typehint\"><span class=\"pre\">Dict</span><span class=\"p\"><span class=\"pre\">[</span></span><span class=\"pre\">str</span><span class=\"p\"><span class=\"pre\">,</span></span><span class=\"w\"> </span><span class=\"pre\">List</span><span class=\"p\"><span class=\"pre\">[</span></span><span class=\"pre\">Dict</span><span class=\"p\"><span class=\"pre\">]</span></span><span class=\"p\"><span class=\"pre\">]</span></span></span></span><a class=\"reference internal\" href=\"../../../_modules/runhouse/resources/hardware/cluster/#Cluster.list\"><span class=\"viewcode-link\"><span class=\"pre\">[source]</span></span></a><a class=\"headerlink\" href=\"#runhouse.Cluster.list\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd><p>Returns user\u2019s runhouse clusters saved in Den and locally via Sky. If filters are provided, only clusters that are matching the\nfilters are returned. If no filters are provided, clusters that were active in the last 24 hours are returned.</p>\n<dl class=\"field-list simple\">\n<dt class=\"field-odd\">Parameters<span class=\"colon\">:</span></dt>\n<dd class=\"field-odd\"><ul class=\"simple\">\n<li><p><strong>show_all</strong> (<em>bool</em><em>, </em><em>optional</em>) \u2013 Whether to list all clusters saved in Den. Maximum of 50 will be listed.\n(Default: False).</p></li>\n<li><p><strong>since</strong> (<em>str</em><em>, </em><em>optional</em>) \u2013 Clusters that were active in the specified time period will be returned.\nValue can be in seconds, minutes, hours or days.</p></li>\n<li><p><strong>status</strong> (<em>str</em><em> or </em><em>ClusterStatus</em><em>, </em><em>optional</em>) \u2013 Clusters with the provided status will be returned.\nOptions include: <code class=\"docutils literal notranslate\"><span class=\"pre\">UP</span></code>, <code class=\"docutils literal notranslate\"><span class=\"pre\">STOPPED</span></code>, <code class=\"docutils literal notranslate\"><span class=\"pre\">INIT</span></code>, <code class=\"docutils literal notranslate\"><span class=\"pre\">UNKNOWN</span></code>.</p></li>\n</ul>\n</dd>\n</dl>\n<p class=\"rubric\">Examples</p>\n<div class=\"doctest highlight-default notranslate\"><div class=\"highlight\"><pre><span></span><span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">Cluster</span><span class=\"o\">.</span><span class=\"n\">list</span><span class=\"p\">(</span><span class=\"n\">since</span><span class=\"o\">=</span><span class=\"s2\">&quot;75s&quot;</span><span class=\"p\">)</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">Cluster</span><span class=\"o\">.</span><span class=\"n\">list</span><span class=\"p\">(</span><span class=\"n\">since</span><span class=\"o\">=</span><span class=\"s2\">&quot;3m&quot;</span><span class=\"p\">)</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">Cluster</span><span class=\"o\">.</span><span class=\"n\">list</span><span class=\"p\">(</span><span class=\"n\">since</span><span class=\"o\">=</span><span class=\"s2\">&quot;2h&quot;</span><span class=\"p\">,</span> <span class=\"n\">status</span><span class=\"o\">=</span><span class=\"s2\">&quot;UP&quot;</span><span class=\"p\">)</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">Cluster</span><span class=\"o\">.</span><span class=\"n\">list</span><span class=\"p\">(</span><span class=\"n\">since</span><span class=\"o\">=</span><span class=\"s2\">&quot;7d&quot;</span><span class=\"p\">)</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">Cluster</span><span class=\"o\">.</span><span class=\"n\">list</span><span class=\"p\">(</span><span class=\"n\">show_all</span><span class=\"o\">=</span><span class=\"kc\">True</span><span class=\"p\">)</span>\n</pre></div>\n</div>\n</dd></dl>\n\n<dl class=\"py method\">\n<dt class=\"sig sig-object py\" id=\"runhouse.Cluster.list_processes\">\n<span class=\"sig-name descname\"><span class=\"pre\">list_processes</span></span><span class=\"sig-paren\">(</span><span class=\"sig-paren\">)</span><a class=\"reference internal\" href=\"../../../_modules/runhouse/resources/hardware/cluster/#Cluster.list_processes\"><span class=\"viewcode-link\"><span class=\"pre\">[source]</span></span></a><a class=\"headerlink\" href=\"#runhouse.Cluster.list_processes\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd><p>List all workers on the cluster.</p>\n</dd></dl>\n\n<dl class=\"py method\">\n<dt class=\"sig sig-object py\" id=\"runhouse.Cluster.notebook\">\n<span class=\"sig-name descname\"><span class=\"pre\">notebook</span></span><span class=\"sig-paren\">(</span><em class=\"sig-param\"><span class=\"n\"><span class=\"pre\">persist</span></span><span class=\"p\"><span class=\"pre\">:</span></span><span class=\"w\"> </span><span class=\"n\"><span class=\"pre\">bool</span></span><span class=\"w\"> </span><span class=\"o\"><span class=\"pre\">=</span></span><span class=\"w\"> </span><span class=\"default_value\"><span class=\"pre\">False</span></span></em>, <em class=\"sig-param\"><span class=\"n\"><span class=\"pre\">sync_package_on_close</span></span><span class=\"p\"><span class=\"pre\">:</span></span><span class=\"w\"> </span><span class=\"n\"><span class=\"pre\">str</span><span class=\"w\"> </span><span class=\"p\"><span class=\"pre\">|</span></span><span class=\"w\"> </span><span class=\"pre\">None</span></span><span class=\"w\"> </span><span class=\"o\"><span class=\"pre\">=</span></span><span class=\"w\"> </span><span class=\"default_value\"><span class=\"pre\">None</span></span></em>, <em class=\"sig-param\"><span class=\"n\"><span class=\"pre\">port_forward</span></span><span class=\"p\"><span class=\"pre\">:</span></span><span class=\"w\"> </span><span class=\"n\"><span class=\"pre\">int</span></span><span class=\"w\"> </span><span class=\"o\"><span class=\"pre\">=</span></span><span class=\"w\"> </span><span class=\"default_value\"><span class=\"pre\">8888</span></span></em><span class=\"sig-paren\">)</span><a class=\"reference internal\" href=\"../../../_modules/runhouse/resources/hardware/cluster/#Cluster.notebook\"><span class=\"viewcode-link\"><span class=\"pre\">[source]</span></span></a><a class=\"headerlink\" href=\"#runhouse.Cluster.notebook\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd><p>Tunnel into and launch notebook from the cluster.</p>\n<p class=\"rubric\">Example</p>\n<div class=\"doctest highlight-default notranslate\"><div class=\"highlight\"><pre><span></span><span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">rh</span><span class=\"o\">.</span><span class=\"n\">cluster</span><span class=\"p\">(</span><span class=\"s2\">&quot;test-cluster&quot;</span><span class=\"p\">)</span><span class=\"o\">.</span><span class=\"n\">notebook</span><span class=\"p\">()</span>\n</pre></div>\n</div>\n</dd></dl>\n\n<dl class=\"py method\">\n<dt class=\"sig sig-object py\" id=\"runhouse.Cluster.on_this_cluster\">\n<span class=\"sig-name descname\"><span class=\"pre\">on_this_cluster</span></span><span class=\"sig-paren\">(</span><span class=\"sig-paren\">)</span><a class=\"reference internal\" href=\"../../../_modules/runhouse/resources/hardware/cluster/#Cluster.on_this_cluster\"><span class=\"viewcode-link\"><span class=\"pre\">[source]</span></span></a><a class=\"headerlink\" href=\"#runhouse.Cluster.on_this_cluster\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd><p>Whether this function is being called on the same cluster.</p>\n</dd></dl>\n\n<dl class=\"py method\">\n<dt class=\"sig sig-object py\" id=\"runhouse.Cluster.pause_autostop\">\n<span class=\"sig-name descname\"><span class=\"pre\">pause_autostop</span></span><span class=\"sig-paren\">(</span><span class=\"sig-paren\">)</span><a class=\"reference internal\" href=\"../../../_modules/runhouse/resources/hardware/cluster/#Cluster.pause_autostop\"><span class=\"viewcode-link\"><span class=\"pre\">[source]</span></span></a><a class=\"headerlink\" href=\"#runhouse.Cluster.pause_autostop\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd><p>Context manager to temporarily pause autostop. Only for OnDemand clusters. There is no autostop\nfor static clusters.</p>\n</dd></dl>\n\n<dl class=\"py method\">\n<dt class=\"sig sig-object py\" id=\"runhouse.Cluster.put\">\n<span class=\"sig-name descname\"><span class=\"pre\">put</span></span><span class=\"sig-paren\">(</span><em class=\"sig-param\"><span class=\"n\"><span class=\"pre\">key</span></span><span class=\"p\"><span class=\"pre\">:</span></span><span class=\"w\"> </span><span class=\"n\"><span class=\"pre\">str</span></span></em>, <em class=\"sig-param\"><span class=\"n\"><span class=\"pre\">obj</span></span><span class=\"p\"><span class=\"pre\">:</span></span><span class=\"w\"> </span><span class=\"n\"><span class=\"pre\">Any</span></span></em>, <em class=\"sig-param\"><span class=\"n\"><span class=\"pre\">env</span></span><span class=\"p\"><span class=\"pre\">:</span></span><span class=\"w\"> </span><span class=\"n\"><span class=\"pre\">str</span><span class=\"w\"> </span><span class=\"p\"><span class=\"pre\">|</span></span><span class=\"w\"> </span><span class=\"pre\">None</span></span><span class=\"w\"> </span><span class=\"o\"><span class=\"pre\">=</span></span><span class=\"w\"> </span><span class=\"default_value\"><span class=\"pre\">None</span></span></em><span class=\"sig-paren\">)</span><a class=\"reference internal\" href=\"../../../_modules/runhouse/resources/hardware/cluster/#Cluster.put\"><span class=\"viewcode-link\"><span class=\"pre\">[source]</span></span></a><a class=\"headerlink\" href=\"#runhouse.Cluster.put\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd><p>Put the given object on the cluster\u2019s object store at the given key.</p>\n<dl class=\"field-list simple\">\n<dt class=\"field-odd\">Parameters<span class=\"colon\">:</span></dt>\n<dd class=\"field-odd\"><ul class=\"simple\">\n<li><p><strong>key</strong> (<em>str</em>) \u2013 Key to assign the object in the object store.</p></li>\n<li><p><strong>obj</strong> (<em>Any</em>) \u2013 Object to put in the object store</p></li>\n<li><p><strong>env</strong> (<em>str</em><em>, </em><em>optional</em>) \u2013 Env of the object store to put the object in. (Default: <code class=\"docutils literal notranslate\"><span class=\"pre\">None</span></code>)</p></li>\n</ul>\n</dd>\n</dl>\n</dd></dl>\n\n<dl class=\"py method\">\n<dt class=\"sig sig-object py\" id=\"runhouse.Cluster.put_resource\">\n<span class=\"sig-name descname\"><span class=\"pre\">put_resource</span></span><span class=\"sig-paren\">(</span><em class=\"sig-param\"><span class=\"n\"><span class=\"pre\">resource</span></span><span class=\"p\"><span class=\"pre\">:</span></span><span class=\"w\"> </span><span class=\"n\"><a class=\"reference internal\" href=\"../resource/#runhouse.resources.resource.Resource\" title=\"runhouse.resources.resource.Resource\"><span class=\"pre\">Resource</span></a></span></em>, <em class=\"sig-param\"><span class=\"n\"><span class=\"pre\">state</span></span><span class=\"p\"><span class=\"pre\">:</span></span><span class=\"w\"> </span><span class=\"n\"><span class=\"pre\">Dict</span></span><span class=\"w\"> </span><span class=\"o\"><span class=\"pre\">=</span></span><span class=\"w\"> </span><span class=\"default_value\"><span class=\"pre\">None</span></span></em>, <em class=\"sig-param\"><span class=\"n\"><span class=\"pre\">dryrun</span></span><span class=\"p\"><span class=\"pre\">:</span></span><span class=\"w\"> </span><span class=\"n\"><span class=\"pre\">bool</span></span><span class=\"w\"> </span><span class=\"o\"><span class=\"pre\">=</span></span><span class=\"w\"> </span><span class=\"default_value\"><span class=\"pre\">False</span></span></em>, <em class=\"sig-param\"><span class=\"n\"><span class=\"pre\">env</span></span><span class=\"p\"><span class=\"pre\">:</span></span><span class=\"w\"> </span><span class=\"n\"><span class=\"pre\">str</span><span class=\"w\"> </span><span class=\"p\"><span class=\"pre\">|</span></span><span class=\"w\"> </span><a class=\"reference internal\" href=\"../env/#runhouse.Env\" title=\"runhouse.Env\"><span class=\"pre\">Env</span></a></span><span class=\"w\"> </span><span class=\"o\"><span class=\"pre\">=</span></span><span class=\"w\"> </span><span class=\"default_value\"><span class=\"pre\">None</span></span></em><span class=\"sig-paren\">)</span><a class=\"reference internal\" href=\"../../../_modules/runhouse/resources/hardware/cluster/#Cluster.put_resource\"><span class=\"viewcode-link\"><span class=\"pre\">[source]</span></span></a><a class=\"headerlink\" href=\"#runhouse.Cluster.put_resource\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd><p>Put the given resource on the cluster\u2019s object store. Returns the key (important if name is not set).</p>\n<dl class=\"field-list simple\">\n<dt class=\"field-odd\">Parameters<span class=\"colon\">:</span></dt>\n<dd class=\"field-odd\"><ul class=\"simple\">\n<li><p><strong>resource</strong> (<a class=\"reference internal\" href=\"../resource/#runhouse.resources.resource.Resource\" title=\"runhouse.resources.resource.Resource\"><em>Resource</em></a>) \u2013 Key to assign the object in the object store.</p></li>\n<li><p><strong>state</strong> (<em>Dict</em><em>, </em><em>optional</em>) \u2013 Dict of resource attributes to override. (Default: <code class=\"docutils literal notranslate\"><span class=\"pre\">False</span></code>)</p></li>\n<li><p><strong>dryrun</strong> (<em>bool</em><em>, </em><em>optional</em>) \u2013 Whether to put the resource in dryrun mode or not. (Default: <code class=\"docutils literal notranslate\"><span class=\"pre\">False</span></code>)</p></li>\n<li><p><strong>env</strong> (<em>str</em><em>, </em><em>optional</em>) \u2013 Env of the object store to put the object in. (Default: <code class=\"docutils literal notranslate\"><span class=\"pre\">None</span></code>)</p></li>\n</ul>\n</dd>\n</dl>\n</dd></dl>\n\n<dl class=\"py method\">\n<dt class=\"sig sig-object py\" id=\"runhouse.Cluster.remove_conda_env\">\n<span class=\"sig-name descname\"><span class=\"pre\">remove_conda_env</span></span><span class=\"sig-paren\">(</span><em class=\"sig-param\"><span class=\"n\"><span class=\"pre\">env</span></span><span class=\"p\"><span class=\"pre\">:</span></span><span class=\"w\"> </span><span class=\"n\"><span class=\"pre\">str</span><span class=\"w\"> </span><span class=\"p\"><span class=\"pre\">|</span></span><span class=\"w\"> </span><a class=\"reference internal\" href=\"../env/#runhouse.CondaEnv\" title=\"runhouse.CondaEnv\"><span class=\"pre\">CondaEnv</span></a></span></em><span class=\"sig-paren\">)</span><a class=\"reference internal\" href=\"../../../_modules/runhouse/resources/hardware/cluster/#Cluster.remove_conda_env\"><span class=\"viewcode-link\"><span class=\"pre\">[source]</span></span></a><a class=\"headerlink\" href=\"#runhouse.Cluster.remove_conda_env\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd><p>Remove conda env from the cluster.</p>\n<dl class=\"field-list simple\">\n<dt class=\"field-odd\">Parameters<span class=\"colon\">:</span></dt>\n<dd class=\"field-odd\"><p><strong>env</strong> (<em>str</em><em> or </em><a class=\"reference internal\" href=\"../env/#runhouse.Env\" title=\"runhouse.Env\"><em>Env</em></a>) \u2013 Name of conda env to remove from the cluster, or Env resource\nrepresenting the environment.</p>\n</dd>\n</dl>\n<p class=\"rubric\">Example</p>\n<div class=\"doctest highlight-default notranslate\"><div class=\"highlight\"><pre><span></span><span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">rh</span><span class=\"o\">.</span><span class=\"n\">ondemand_cluster</span><span class=\"p\">(</span><span class=\"s2\">&quot;rh-cpu&quot;</span><span class=\"p\">)</span><span class=\"o\">.</span><span class=\"n\">remove_conda_env</span><span class=\"p\">(</span><span class=\"s2\">&quot;my_conda_env&quot;</span><span class=\"p\">)</span>\n</pre></div>\n</div>\n</dd></dl>\n\n<dl class=\"py method\">\n<dt class=\"sig sig-object py\" id=\"runhouse.Cluster.rename\">\n<span class=\"sig-name descname\"><span class=\"pre\">rename</span></span><span class=\"sig-paren\">(</span><em class=\"sig-param\"><span class=\"n\"><span class=\"pre\">old_key</span></span><span class=\"p\"><span class=\"pre\">:</span></span><span class=\"w\"> </span><span class=\"n\"><span class=\"pre\">str</span></span></em>, <em class=\"sig-param\"><span class=\"n\"><span class=\"pre\">new_key</span></span><span class=\"p\"><span class=\"pre\">:</span></span><span class=\"w\"> </span><span class=\"n\"><span class=\"pre\">str</span></span></em><span class=\"sig-paren\">)</span><a class=\"reference internal\" href=\"../../../_modules/runhouse/resources/hardware/cluster/#Cluster.rename\"><span class=\"viewcode-link\"><span class=\"pre\">[source]</span></span></a><a class=\"headerlink\" href=\"#runhouse.Cluster.rename\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd><p>Rename a key in the cluster\u2019s object store.</p>\n<dl class=\"field-list simple\">\n<dt class=\"field-odd\">Parameters<span class=\"colon\">:</span></dt>\n<dd class=\"field-odd\"><ul class=\"simple\">\n<li><p><strong>old_key</strong> (<em>str</em>) \u2013 Original key to rename.</p></li>\n<li><p><strong>new_key</strong> (<em>str</em>) \u2013 Name to reassign the object.</p></li>\n</ul>\n</dd>\n</dl>\n</dd></dl>\n\n<dl class=\"py method\">\n<dt class=\"sig sig-object py\" id=\"runhouse.Cluster.restart_server\">\n<span class=\"sig-name descname\"><span class=\"pre\">restart_server</span></span><span class=\"sig-paren\">(</span><em class=\"sig-param\"><span class=\"n\"><span class=\"pre\">_rh_install_url</span></span><span class=\"p\"><span class=\"pre\">:</span></span><span class=\"w\"> </span><span class=\"n\"><span class=\"pre\">str</span><span class=\"w\"> </span><span class=\"p\"><span class=\"pre\">|</span></span><span class=\"w\"> </span><span class=\"pre\">None</span></span><span class=\"w\"> </span><span class=\"o\"><span class=\"pre\">=</span></span><span class=\"w\"> </span><span class=\"default_value\"><span class=\"pre\">None</span></span></em>, <em class=\"sig-param\"><span class=\"n\"><span class=\"pre\">resync_rh</span></span><span class=\"p\"><span class=\"pre\">:</span></span><span class=\"w\"> </span><span class=\"n\"><span class=\"pre\">bool</span><span class=\"w\"> </span><span class=\"p\"><span class=\"pre\">|</span></span><span class=\"w\"> </span><span class=\"pre\">None</span></span><span class=\"w\"> </span><span class=\"o\"><span class=\"pre\">=</span></span><span class=\"w\"> </span><span class=\"default_value\"><span class=\"pre\">None</span></span></em>, <em class=\"sig-param\"><span class=\"n\"><span class=\"pre\">restart_ray</span></span><span class=\"p\"><span class=\"pre\">:</span></span><span class=\"w\"> </span><span class=\"n\"><span class=\"pre\">bool</span></span><span class=\"w\"> </span><span class=\"o\"><span class=\"pre\">=</span></span><span class=\"w\"> </span><span class=\"default_value\"><span class=\"pre\">True</span></span></em>, <em class=\"sig-param\"><span class=\"n\"><span class=\"pre\">restart_proxy</span></span><span class=\"p\"><span class=\"pre\">:</span></span><span class=\"w\"> </span><span class=\"n\"><span class=\"pre\">bool</span></span><span class=\"w\"> </span><span class=\"o\"><span class=\"pre\">=</span></span><span class=\"w\"> </span><span class=\"default_value\"><span class=\"pre\">False</span></span></em><span class=\"sig-paren\">)</span><a class=\"reference internal\" href=\"../../../_modules/runhouse/resources/hardware/cluster/#Cluster.restart_server\"><span class=\"viewcode-link\"><span class=\"pre\">[source]</span></span></a><a class=\"headerlink\" href=\"#runhouse.Cluster.restart_server\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd><p>Restart the RPC server.</p>\n<dl class=\"field-list simple\">\n<dt class=\"field-odd\">Parameters<span class=\"colon\">:</span></dt>\n<dd class=\"field-odd\"><ul class=\"simple\">\n<li><p><strong>resync_rh</strong> (<em>bool</em>) \u2013 Whether to Resync runhouse. If <code class=\"docutils literal notranslate\"><span class=\"pre\">False</span></code> will not resync Runhouse onto the cluster.\nIf <code class=\"docutils literal notranslate\"><span class=\"pre\">None</span></code>, will sync if Runhouse is not installed on the cluster or if locally it is installed\nas editable. (Default: <code class=\"docutils literal notranslate\"><span class=\"pre\">None</span></code>)</p></li>\n<li><p><strong>restart_ray</strong> (<em>bool</em>) \u2013 Whether to restart Ray. (Default: <code class=\"docutils literal notranslate\"><span class=\"pre\">True</span></code>)</p></li>\n<li><p><strong>restart_proxy</strong> (<em>bool</em>) \u2013 Whether to restart Caddy on the cluster, if configured. (Default: <code class=\"docutils literal notranslate\"><span class=\"pre\">False</span></code>)</p></li>\n</ul>\n</dd>\n</dl>\n<p class=\"rubric\">Example</p>\n<div class=\"doctest highlight-default notranslate\"><div class=\"highlight\"><pre><span></span><span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">rh</span><span class=\"o\">.</span><span class=\"n\">cluster</span><span class=\"p\">(</span><span class=\"s2\">&quot;rh-cpu&quot;</span><span class=\"p\">)</span><span class=\"o\">.</span><span class=\"n\">restart_server</span><span class=\"p\">()</span>\n</pre></div>\n</div>\n</dd></dl>\n\n<dl class=\"py method\">\n<dt class=\"sig sig-object py\" id=\"runhouse.Cluster.rsync\">\n<span class=\"sig-name descname\"><span class=\"pre\">rsync</span></span><span class=\"sig-paren\">(</span><em class=\"sig-param\"><span class=\"n\"><span class=\"pre\">source</span></span><span class=\"p\"><span class=\"pre\">:</span></span><span class=\"w\"> </span><span class=\"n\"><span class=\"pre\">str</span></span></em>, <em class=\"sig-param\"><span class=\"n\"><span class=\"pre\">dest</span></span><span class=\"p\"><span class=\"pre\">:</span></span><span class=\"w\"> </span><span class=\"n\"><span class=\"pre\">str</span></span></em>, <em class=\"sig-param\"><span class=\"n\"><span class=\"pre\">up</span></span><span class=\"p\"><span class=\"pre\">:</span></span><span class=\"w\"> </span><span class=\"n\"><span class=\"pre\">bool</span></span></em>, <em class=\"sig-param\"><span class=\"n\"><span class=\"pre\">node</span></span><span class=\"p\"><span class=\"pre\">:</span></span><span class=\"w\"> </span><span class=\"n\"><span class=\"pre\">str</span><span class=\"w\"> </span><span class=\"p\"><span class=\"pre\">|</span></span><span class=\"w\"> </span><span class=\"pre\">None</span></span><span class=\"w\"> </span><span class=\"o\"><span class=\"pre\">=</span></span><span class=\"w\"> </span><span class=\"default_value\"><span class=\"pre\">None</span></span></em>, <em class=\"sig-param\"><span class=\"n\"><span class=\"pre\">contents</span></span><span class=\"p\"><span class=\"pre\">:</span></span><span class=\"w\"> </span><span class=\"n\"><span class=\"pre\">bool</span></span><span class=\"w\"> </span><span class=\"o\"><span class=\"pre\">=</span></span><span class=\"w\"> </span><span class=\"default_value\"><span class=\"pre\">False</span></span></em>, <em class=\"sig-param\"><span class=\"n\"><span class=\"pre\">filter_options</span></span><span class=\"p\"><span class=\"pre\">:</span></span><span class=\"w\"> </span><span class=\"n\"><span class=\"pre\">str</span><span class=\"w\"> </span><span class=\"p\"><span class=\"pre\">|</span></span><span class=\"w\"> </span><span class=\"pre\">None</span></span><span class=\"w\"> </span><span class=\"o\"><span class=\"pre\">=</span></span><span class=\"w\"> </span><span class=\"default_value\"><span class=\"pre\">None</span></span></em>, <em class=\"sig-param\"><span class=\"n\"><span class=\"pre\">stream_logs</span></span><span class=\"p\"><span class=\"pre\">:</span></span><span class=\"w\"> </span><span class=\"n\"><span class=\"pre\">bool</span></span><span class=\"w\"> </span><span class=\"o\"><span class=\"pre\">=</span></span><span class=\"w\"> </span><span class=\"default_value\"><span class=\"pre\">False</span></span></em><span class=\"sig-paren\">)</span><a class=\"reference internal\" href=\"../../../_modules/runhouse/resources/hardware/cluster/#Cluster.rsync\"><span class=\"viewcode-link\"><span class=\"pre\">[source]</span></span></a><a class=\"headerlink\" href=\"#runhouse.Cluster.rsync\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd><p>Sync the contents of the source directory into the destination.</p>\n<dl class=\"field-list simple\">\n<dt class=\"field-odd\">Parameters<span class=\"colon\">:</span></dt>\n<dd class=\"field-odd\"><ul class=\"simple\">\n<li><p><strong>source</strong> (<em>str</em>) \u2013 The source path.</p></li>\n<li><p><strong>dest</strong> (<em>str</em>) \u2013 The target path.</p></li>\n<li><p><strong>up</strong> (<em>bool</em>) \u2013 The direction of the sync. If <code class=\"docutils literal notranslate\"><span class=\"pre\">True</span></code>, will rsync from local to cluster. If <code class=\"docutils literal notranslate\"><span class=\"pre\">False</span></code>\nwill rsync from cluster to local.</p></li>\n<li><p><strong>node</strong> (<em>Optional</em><em>[</em><em>str</em><em>]</em><em>, </em><em>optional</em>) \u2013 Specific cluster node to rsync to. If not specified will use the\naddress of the cluster\u2019s head node.</p></li>\n<li><p><strong>contents</strong> (<em>Optional</em><em>[</em><em>bool</em><em>]</em><em>, </em><em>optional</em>) \u2013 Whether the contents of the source directory or the directory\nitself should be copied to destination.\nIf <code class=\"docutils literal notranslate\"><span class=\"pre\">True</span></code> the contents of the source directory are copied to the destination, and the source\ndirectory itself is not created at the destination.\nIf <code class=\"docutils literal notranslate\"><span class=\"pre\">False</span></code> the source directory along with its contents are copied ot the destination, creating\nan additional directory layer at the destination. (Default: <code class=\"docutils literal notranslate\"><span class=\"pre\">False</span></code>).</p></li>\n<li><p><strong>filter_options</strong> (<em>Optional</em><em>[</em><em>str</em><em>]</em><em>, </em><em>optional</em>) \u2013 The filter options for rsync.</p></li>\n<li><p><strong>stream_logs</strong> (<em>Optional</em><em>[</em><em>bool</em><em>]</em><em>, </em><em>optional</em>) \u2013 Whether to stream logs to the stdout/stderr. (Default: <code class=\"docutils literal notranslate\"><span class=\"pre\">False</span></code>).</p></li>\n</ul>\n</dd>\n</dl>\n<div class=\"admonition note\">\n<p class=\"admonition-title\">Note</p>\n<p>Ending <code class=\"docutils literal notranslate\"><span class=\"pre\">source</span></code> with a slash will copy the contents of the directory into dest,\nwhile omitting it will copy the directory itself (adding a directory layer).</p>\n</div>\n</dd></dl>\n\n<dl class=\"py method\">\n<dt class=\"sig sig-object py\" id=\"runhouse.Cluster.run\">\n<span class=\"sig-name descname\"><span class=\"pre\">run</span></span><span class=\"sig-paren\">(</span><em class=\"sig-param\"><span class=\"n\"><span class=\"pre\">commands</span></span><span class=\"p\"><span class=\"pre\">:</span></span><span class=\"w\"> </span><span class=\"n\"><span class=\"pre\">str</span><span class=\"w\"> </span><span class=\"p\"><span class=\"pre\">|</span></span><span class=\"w\"> </span><span class=\"pre\">List</span><span class=\"p\"><span class=\"pre\">[</span></span><span class=\"pre\">str</span><span class=\"p\"><span class=\"pre\">]</span></span></span></em>, <em class=\"sig-param\"><span class=\"n\"><span class=\"pre\">env</span></span><span class=\"p\"><span class=\"pre\">:</span></span><span class=\"w\"> </span><span class=\"n\"><a class=\"reference internal\" href=\"../env/#runhouse.Env\" title=\"runhouse.Env\"><span class=\"pre\">Env</span></a><span class=\"w\"> </span><span class=\"p\"><span class=\"pre\">|</span></span><span class=\"w\"> </span><span class=\"pre\">str</span></span><span class=\"w\"> </span><span class=\"o\"><span class=\"pre\">=</span></span><span class=\"w\"> </span><span class=\"default_value\"><span class=\"pre\">None</span></span></em>, <em class=\"sig-param\"><span class=\"n\"><span class=\"pre\">stream_logs</span></span><span class=\"p\"><span class=\"pre\">:</span></span><span class=\"w\"> </span><span class=\"n\"><span class=\"pre\">bool</span></span><span class=\"w\"> </span><span class=\"o\"><span class=\"pre\">=</span></span><span class=\"w\"> </span><span class=\"default_value\"><span class=\"pre\">True</span></span></em>, <em class=\"sig-param\"><span class=\"n\"><span class=\"pre\">require_outputs</span></span><span class=\"p\"><span class=\"pre\">:</span></span><span class=\"w\"> </span><span class=\"n\"><span class=\"pre\">bool</span></span><span class=\"w\"> </span><span class=\"o\"><span class=\"pre\">=</span></span><span class=\"w\"> </span><span class=\"default_value\"><span class=\"pre\">True</span></span></em>, <em class=\"sig-param\"><span class=\"n\"><span class=\"pre\">node</span></span><span class=\"p\"><span class=\"pre\">:</span></span><span class=\"w\"> </span><span class=\"n\"><span class=\"pre\">str</span><span class=\"w\"> </span><span class=\"p\"><span class=\"pre\">|</span></span><span class=\"w\"> </span><span class=\"pre\">None</span></span><span class=\"w\"> </span><span class=\"o\"><span class=\"pre\">=</span></span><span class=\"w\"> </span><span class=\"default_value\"><span class=\"pre\">None</span></span></em>, <em class=\"sig-param\"><span class=\"n\"><span class=\"pre\">_ssh_mode</span></span><span class=\"p\"><span class=\"pre\">:</span></span><span class=\"w\"> </span><span class=\"n\"><span class=\"pre\">str</span></span><span class=\"w\"> </span><span class=\"o\"><span class=\"pre\">=</span></span><span class=\"w\"> </span><span class=\"default_value\"><span class=\"pre\">'interactive'</span></span></em><span class=\"sig-paren\">)</span> <span class=\"sig-return\"><span class=\"sig-return-icon\">&#x2192;</span> <span class=\"sig-return-typehint\"><span class=\"pre\">List</span></span></span><a class=\"reference internal\" href=\"../../../_modules/runhouse/resources/hardware/cluster/#Cluster.run\"><span class=\"viewcode-link\"><span class=\"pre\">[source]</span></span></a><a class=\"headerlink\" href=\"#runhouse.Cluster.run\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd><p>Run a list of shell commands on the cluster.</p>\n<dl class=\"field-list simple\">\n<dt class=\"field-odd\">Parameters<span class=\"colon\">:</span></dt>\n<dd class=\"field-odd\"><ul class=\"simple\">\n<li><p><strong>commands</strong> (<em>str</em><em> or </em><em>List</em><em>[</em><em>str</em><em>]</em>) \u2013 Command or list of commands to run on the cluster.</p></li>\n<li><p><strong>env</strong> (<a class=\"reference internal\" href=\"../env/#runhouse.Env\" title=\"runhouse.Env\"><em>Env</em></a><em> or </em><em>str</em><em>, </em><em>optional</em>) \u2013 Env on the cluster to run the command in. If not provided,\nwill be run in the default env. (Default: <code class=\"docutils literal notranslate\"><span class=\"pre\">None</span></code>)</p></li>\n<li><p><strong>stream_logs</strong> (<em>bool</em><em>, </em><em>optional</em>) \u2013 Whether to stream log output as the command runs.\n(Default: <code class=\"docutils literal notranslate\"><span class=\"pre\">True</span></code>)</p></li>\n<li><p><strong>require_outputs</strong> (<em>bool</em><em>, </em><em>optional</em>) \u2013 If <code class=\"docutils literal notranslate\"><span class=\"pre\">True</span></code>, returns a Tuple (returncode, stdout, stderr).\nIf <code class=\"docutils literal notranslate\"><span class=\"pre\">False</span></code>, returns just the returncode. (Default: <code class=\"docutils literal notranslate\"><span class=\"pre\">True</span></code>)</p></li>\n<li><p><strong>node</strong> (<em>str</em><em>, </em><em>optional</em>) \u2013 Node to run the commands on. If not provided, runs on head node.\n(Default: <code class=\"docutils literal notranslate\"><span class=\"pre\">None</span></code>)</p></li>\n</ul>\n</dd>\n</dl>\n<p class=\"rubric\">Example</p>\n<div class=\"doctest highlight-default notranslate\"><div class=\"highlight\"><pre><span></span><span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">cpu</span><span class=\"o\">.</span><span class=\"n\">run</span><span class=\"p\">([</span><span class=\"s2\">&quot;pip install numpy&quot;</span><span class=\"p\">])</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">cpu</span><span class=\"o\">.</span><span class=\"n\">run</span><span class=\"p\">([</span><span class=\"s2\">&quot;pip install numpy&quot;</span><span class=\"p\">],</span> <span class=\"n\">env</span><span class=\"o\">=</span><span class=\"s2\">&quot;my_conda_env&quot;</span><span class=\"p\">])</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">cpu</span><span class=\"o\">.</span><span class=\"n\">run</span><span class=\"p\">([</span><span class=\"s2\">&quot;python script.py&quot;</span><span class=\"p\">])</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">cpu</span><span class=\"o\">.</span><span class=\"n\">run</span><span class=\"p\">([</span><span class=\"s2\">&quot;python script.py&quot;</span><span class=\"p\">],</span> <span class=\"n\">node</span><span class=\"o\">=</span><span class=\"s2\">&quot;3.89.174.234&quot;</span><span class=\"p\">)</span>\n</pre></div>\n</div>\n</dd></dl>\n\n<dl class=\"py method\">\n<dt class=\"sig sig-object py\" id=\"runhouse.Cluster.run_python\">\n<span class=\"sig-name descname\"><span class=\"pre\">run_python</span></span><span class=\"sig-paren\">(</span><em class=\"sig-param\"><span class=\"n\"><span class=\"pre\">commands</span></span><span class=\"p\"><span class=\"pre\">:</span></span><span class=\"w\"> </span><span class=\"n\"><span class=\"pre\">List</span><span class=\"p\"><span class=\"pre\">[</span></span><span class=\"pre\">str</span><span class=\"p\"><span class=\"pre\">]</span></span></span></em>, <em class=\"sig-param\"><span class=\"n\"><span class=\"pre\">env</span></span><span class=\"p\"><span class=\"pre\">:</span></span><span class=\"w\"> </span><span class=\"n\"><a class=\"reference internal\" href=\"../env/#runhouse.Env\" title=\"runhouse.Env\"><span class=\"pre\">Env</span></a><span class=\"w\"> </span><span class=\"p\"><span class=\"pre\">|</span></span><span class=\"w\"> </span><span class=\"pre\">str</span></span><span class=\"w\"> </span><span class=\"o\"><span class=\"pre\">=</span></span><span class=\"w\"> </span><span class=\"default_value\"><span class=\"pre\">None</span></span></em>, <em class=\"sig-param\"><span class=\"n\"><span class=\"pre\">stream_logs</span></span><span class=\"p\"><span class=\"pre\">:</span></span><span class=\"w\"> </span><span class=\"n\"><span class=\"pre\">bool</span></span><span class=\"w\"> </span><span class=\"o\"><span class=\"pre\">=</span></span><span class=\"w\"> </span><span class=\"default_value\"><span class=\"pre\">True</span></span></em>, <em class=\"sig-param\"><span class=\"n\"><span class=\"pre\">node</span></span><span class=\"p\"><span class=\"pre\">:</span></span><span class=\"w\"> </span><span class=\"n\"><span class=\"pre\">str</span></span><span class=\"w\"> </span><span class=\"o\"><span class=\"pre\">=</span></span><span class=\"w\"> </span><span class=\"default_value\"><span class=\"pre\">None</span></span></em><span class=\"sig-paren\">)</span><a class=\"reference internal\" href=\"../../../_modules/runhouse/resources/hardware/cluster/#Cluster.run_python\"><span class=\"viewcode-link\"><span class=\"pre\">[source]</span></span></a><a class=\"headerlink\" href=\"#runhouse.Cluster.run_python\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd><p>Run a list of python commands on the cluster, or a specific cluster node if its IP is provided.</p>\n<dl class=\"field-list simple\">\n<dt class=\"field-odd\">Parameters<span class=\"colon\">:</span></dt>\n<dd class=\"field-odd\"><ul class=\"simple\">\n<li><p><strong>commands</strong> (<em>List</em><em>[</em><em>str</em><em>]</em>) \u2013 List of commands to run.</p></li>\n<li><p><strong>env</strong> (<a class=\"reference internal\" href=\"../env/#runhouse.Env\" title=\"runhouse.Env\"><em>Env</em></a><em> or </em><em>str</em><em>, </em><em>optional</em>) \u2013 Env to run the commands in. (Default: <code class=\"docutils literal notranslate\"><span class=\"pre\">None</span></code>)</p></li>\n<li><p><strong>stream_logs</strong> (<em>bool</em><em>, </em><em>optional</em>) \u2013 Whether to stream logs. (Default: <code class=\"docutils literal notranslate\"><span class=\"pre\">True</span></code>)</p></li>\n<li><p><strong>node</strong> (<em>str</em><em>, </em><em>optional</em>) \u2013 Node to run commands on. If not specified, runs on head node. (Default: <code class=\"docutils literal notranslate\"><span class=\"pre\">None</span></code>)</p></li>\n</ul>\n</dd>\n</dl>\n<p class=\"rubric\">Example</p>\n<div class=\"doctest highlight-default notranslate\"><div class=\"highlight\"><pre><span></span><span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">cpu</span><span class=\"o\">.</span><span class=\"n\">run_python</span><span class=\"p\">([</span><span class=\"s1\">&#39;import numpy&#39;</span><span class=\"p\">,</span> <span class=\"s1\">&#39;print(numpy.__version__)&#39;</span><span class=\"p\">])</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">cpu</span><span class=\"o\">.</span><span class=\"n\">run_python</span><span class=\"p\">([</span><span class=\"s2\">&quot;print(&#39;hello&#39;)&quot;</span><span class=\"p\">])</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">cpu</span><span class=\"o\">.</span><span class=\"n\">run_python</span><span class=\"p\">([</span><span class=\"s2\">&quot;print(&#39;hello&#39;)&quot;</span><span class=\"p\">],</span> <span class=\"n\">node</span><span class=\"o\">=</span><span class=\"s2\">&quot;3.89.174.234&quot;</span><span class=\"p\">)</span>\n</pre></div>\n</div>\n<div class=\"admonition note\">\n<p class=\"admonition-title\">Note</p>\n<p>Running Python commands with nested quotes can be finicky. If using nested quotes,\ntry to wrap the outer quote with double quotes (\u201d) and the inner quotes with a single quote (\u2018).</p>\n</div>\n</dd></dl>\n\n<dl class=\"py method\">\n<dt class=\"sig sig-object py\" id=\"runhouse.Cluster.save\">\n<span class=\"sig-name descname\"><span class=\"pre\">save</span></span><span class=\"sig-paren\">(</span><em class=\"sig-param\"><span class=\"n\"><span class=\"pre\">name</span></span><span class=\"p\"><span class=\"pre\">:</span></span><span class=\"w\"> </span><span class=\"n\"><span class=\"pre\">str</span><span class=\"w\"> </span><span class=\"p\"><span class=\"pre\">|</span></span><span class=\"w\"> </span><span class=\"pre\">None</span></span><span class=\"w\"> </span><span class=\"o\"><span class=\"pre\">=</span></span><span class=\"w\"> </span><span class=\"default_value\"><span class=\"pre\">None</span></span></em>, <em class=\"sig-param\"><span class=\"n\"><span class=\"pre\">overwrite</span></span><span class=\"p\"><span class=\"pre\">:</span></span><span class=\"w\"> </span><span class=\"n\"><span class=\"pre\">bool</span></span><span class=\"w\"> </span><span class=\"o\"><span class=\"pre\">=</span></span><span class=\"w\"> </span><span class=\"default_value\"><span class=\"pre\">True</span></span></em>, <em class=\"sig-param\"><span class=\"n\"><span class=\"pre\">folder</span></span><span class=\"p\"><span class=\"pre\">:</span></span><span class=\"w\"> </span><span class=\"n\"><span class=\"pre\">str</span><span class=\"w\"> </span><span class=\"p\"><span class=\"pre\">|</span></span><span class=\"w\"> </span><span class=\"pre\">None</span></span><span class=\"w\"> </span><span class=\"o\"><span class=\"pre\">=</span></span><span class=\"w\"> </span><span class=\"default_value\"><span class=\"pre\">None</span></span></em><span class=\"sig-paren\">)</span><a class=\"reference internal\" href=\"../../../_modules/runhouse/resources/hardware/cluster/#Cluster.save\"><span class=\"viewcode-link\"><span class=\"pre\">[source]</span></span></a><a class=\"headerlink\" href=\"#runhouse.Cluster.save\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd><p>Overrides the default resource save() method in order to also update\nthe cluster config on the cluster itself.</p>\n<dl class=\"field-list simple\">\n<dt class=\"field-odd\">Parameters<span class=\"colon\">:</span></dt>\n<dd class=\"field-odd\"><ul class=\"simple\">\n<li><p><strong>name</strong> (<em>str</em><em>, </em><em>optional</em>) \u2013 Name to save the cluster as, if different from its existing name. (Default: <code class=\"docutils literal notranslate\"><span class=\"pre\">None</span></code>)</p></li>\n<li><p><strong>overwrite</strong> (<em>bool</em><em>, </em><em>optional</em>) \u2013 Whether to overwrite the existing saved resource, if it exists.\n(Default: <code class=\"docutils literal notranslate\"><span class=\"pre\">True</span></code>)</p></li>\n<li><p><strong>folder</strong> (<em>str</em><em>, </em><em>optional</em>) \u2013 Folder to save the config in, if saving locally. If None and saving locally,\nwill be saved in the <code class=\"docutils literal notranslate\"><span class=\"pre\">~/.rh</span></code> directory. (Default: <code class=\"docutils literal notranslate\"><span class=\"pre\">None</span></code>)</p></li>\n</ul>\n</dd>\n</dl>\n</dd></dl>\n\n<dl class=\"py property\">\n<dt class=\"sig sig-object py\" id=\"runhouse.Cluster.server_address\">\n<em class=\"property\"><span class=\"pre\">property</span><span class=\"w\"> </span></em><span class=\"sig-name descname\"><span class=\"pre\">server_address</span></span><a class=\"headerlink\" href=\"#runhouse.Cluster.server_address\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd><p>Address to use in the requests made to the cluster. If creating an SSH tunnel with the cluster,\nths will be set to localhost, otherwise will use the cluster\u2019s domain (if provided), or its\npublic IP address.</p>\n</dd></dl>\n\n<dl class=\"py method\">\n<dt class=\"sig sig-object py\" id=\"runhouse.Cluster.share\">\n<span class=\"sig-name descname\"><span class=\"pre\">share</span></span><span class=\"sig-paren\">(</span><em class=\"sig-param\"><span class=\"n\"><span class=\"pre\">users</span></span><span class=\"p\"><span class=\"pre\">:</span></span><span class=\"w\"> </span><span class=\"n\"><span class=\"pre\">str</span><span class=\"w\"> </span><span class=\"p\"><span class=\"pre\">|</span></span><span class=\"w\"> </span><span class=\"pre\">List</span><span class=\"p\"><span class=\"pre\">[</span></span><span class=\"pre\">str</span><span class=\"p\"><span class=\"pre\">]</span></span><span class=\"w\"> </span><span class=\"p\"><span class=\"pre\">|</span></span><span class=\"w\"> </span><span class=\"pre\">None</span></span><span class=\"w\"> </span><span class=\"o\"><span class=\"pre\">=</span></span><span class=\"w\"> </span><span class=\"default_value\"><span class=\"pre\">None</span></span></em>, <em class=\"sig-param\"><span class=\"n\"><span class=\"pre\">access_level</span></span><span class=\"p\"><span class=\"pre\">:</span></span><span class=\"w\"> </span><span class=\"n\"><span class=\"pre\">ResourceAccess</span><span class=\"w\"> </span><span class=\"p\"><span class=\"pre\">|</span></span><span class=\"w\"> </span><span class=\"pre\">str</span></span><span class=\"w\"> </span><span class=\"o\"><span class=\"pre\">=</span></span><span class=\"w\"> </span><span class=\"default_value\"><span class=\"pre\">ResourceAccess.READ</span></span></em>, <em class=\"sig-param\"><span class=\"n\"><span class=\"pre\">visibility</span></span><span class=\"p\"><span class=\"pre\">:</span></span><span class=\"w\"> </span><span class=\"n\"><span class=\"pre\">ResourceVisibility</span><span class=\"w\"> </span><span class=\"p\"><span class=\"pre\">|</span></span><span class=\"w\"> </span><span class=\"pre\">str</span><span class=\"w\"> </span><span class=\"p\"><span class=\"pre\">|</span></span><span class=\"w\"> </span><span class=\"pre\">None</span></span><span class=\"w\"> </span><span class=\"o\"><span class=\"pre\">=</span></span><span class=\"w\"> </span><span class=\"default_value\"><span class=\"pre\">None</span></span></em>, <em class=\"sig-param\"><span class=\"n\"><span class=\"pre\">notify_users</span></span><span class=\"p\"><span class=\"pre\">:</span></span><span class=\"w\"> </span><span class=\"n\"><span class=\"pre\">bool</span></span><span class=\"w\"> </span><span class=\"o\"><span class=\"pre\">=</span></span><span class=\"w\"> </span><span class=\"default_value\"><span class=\"pre\">True</span></span></em>, <em class=\"sig-param\"><span class=\"n\"><span class=\"pre\">headers</span></span><span class=\"p\"><span class=\"pre\">:</span></span><span class=\"w\"> </span><span class=\"n\"><span class=\"pre\">Dict</span><span class=\"w\"> </span><span class=\"p\"><span class=\"pre\">|</span></span><span class=\"w\"> </span><span class=\"pre\">None</span></span><span class=\"w\"> </span><span class=\"o\"><span class=\"pre\">=</span></span><span class=\"w\"> </span><span class=\"default_value\"><span class=\"pre\">None</span></span></em><span class=\"sig-paren\">)</span> <span class=\"sig-return\"><span class=\"sig-return-icon\">&#x2192;</span> <span class=\"sig-return-typehint\"><span class=\"pre\">Tuple</span><span class=\"p\"><span class=\"pre\">[</span></span><span class=\"pre\">Dict</span><span class=\"p\"><span class=\"pre\">[</span></span><span class=\"pre\">str</span><span class=\"p\"><span class=\"pre\">,</span></span><span class=\"w\"> </span><span class=\"pre\">ResourceAccess</span><span class=\"p\"><span class=\"pre\">]</span></span><span class=\"p\"><span class=\"pre\">,</span></span><span class=\"w\"> </span><span class=\"pre\">Dict</span><span class=\"p\"><span class=\"pre\">[</span></span><span class=\"pre\">str</span><span class=\"p\"><span class=\"pre\">,</span></span><span class=\"w\"> </span><span class=\"pre\">ResourceAccess</span><span class=\"p\"><span class=\"pre\">]</span></span><span class=\"p\"><span class=\"pre\">]</span></span></span></span><a class=\"reference internal\" href=\"../../../_modules/runhouse/resources/hardware/cluster/#Cluster.share\"><span class=\"viewcode-link\"><span class=\"pre\">[source]</span></span></a><a class=\"headerlink\" href=\"#runhouse.Cluster.share\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd><p>Grant access to the resource for a list of users (or a single user). By default, the user will\nreceive an email notification of access (if they have a Runhouse account) or instructions on creating\nan account to access the resource. If <code class=\"docutils literal notranslate\"><span class=\"pre\">visibility</span></code> is set to <code class=\"docutils literal notranslate\"><span class=\"pre\">public</span></code>, users will not be notified.</p>\n<div class=\"admonition note\">\n<p class=\"admonition-title\">Note</p>\n<p>You can only grant access to other users if you have write access to the resource.</p>\n</div>\n<dl class=\"field-list simple\">\n<dt class=\"field-odd\">Parameters<span class=\"colon\">:</span></dt>\n<dd class=\"field-odd\"><ul class=\"simple\">\n<li><p><strong>users</strong> (<em>Union</em><em>[</em><em>str</em><em>, </em><em>list</em><em>]</em><em>, </em><em>optional</em>) \u2013 Single user or list of user emails and / or runhouse account usernames.\nIf none are provided and <code class=\"docutils literal notranslate\"><span class=\"pre\">visibility</span></code> is set to <code class=\"docutils literal notranslate\"><span class=\"pre\">public</span></code>, resource will be made publicly\navailable to all users. (Default: <code class=\"docutils literal notranslate\"><span class=\"pre\">None</span></code>)</p></li>\n<li><p><strong>access_level</strong> (<code class=\"xref py py-obj docutils literal notranslate\"><span class=\"pre\">ResourceAccess</span></code>, optional) \u2013 Access level to provide for the resource.\n(Default: <code class=\"docutils literal notranslate\"><span class=\"pre\">read</span></code>).</p></li>\n<li><p><strong>visibility</strong> (<code class=\"xref py py-obj docutils literal notranslate\"><span class=\"pre\">ResourceVisibility</span></code>, optional) \u2013 Type of visibility to provide for the shared\nresource. By default, the visibility is private. (Default: <code class=\"docutils literal notranslate\"><span class=\"pre\">None</span></code>)</p></li>\n<li><p><strong>notify_users</strong> (<em>bool</em><em>, </em><em>optional</em>) \u2013 Whether to send an email notification to users who have been given access.\nNote: This is relevant for resources which are not <code class=\"docutils literal notranslate\"><span class=\"pre\">shareable</span></code>. (Default: <code class=\"docutils literal notranslate\"><span class=\"pre\">True</span></code>)</p></li>\n<li><p><strong>headers</strong> (<em>Dict</em><em>, </em><em>optional</em>) \u2013 Request headers to provide for the request to RNS. Contains the user\u2019s auth token.\nExample: <code class=\"docutils literal notranslate\"><span class=\"pre\">{&quot;Authorization&quot;:</span> <span class=\"pre\">f&quot;Bearer</span> <span class=\"pre\">{token}&quot;}</span></code></p></li>\n</ul>\n</dd>\n<dt class=\"field-even\">Returns<span class=\"colon\">:</span></dt>\n<dd class=\"field-even\"><p><dl class=\"simple\">\n<dt><cite>added_users</cite>:</dt><dd><p>Users who already have a Runhouse account and have been granted access to the resource.</p>\n</dd>\n<dt><cite>new_users</cite>:</dt><dd><p>Users who do not have Runhouse accounts and received notifications via their emails.</p>\n</dd>\n<dt><cite>valid_users</cite>:</dt><dd><p>Set of valid usernames and emails from <code class=\"docutils literal notranslate\"><span class=\"pre\">users</span></code> parameter.</p>\n</dd>\n</dl>\n</p>\n</dd>\n<dt class=\"field-odd\">Return type<span class=\"colon\">:</span></dt>\n<dd class=\"field-odd\"><p>Tuple(Dict, Dict, Set)</p>\n</dd>\n</dl>\n<p class=\"rubric\">Example</p>\n<div class=\"doctest highlight-default notranslate\"><div class=\"highlight\"><pre><span></span><span class=\"gp\">&gt;&gt;&gt; </span><span class=\"c1\"># Write access to the resource for these specific users.</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"c1\"># Visibility will be set to private (users can search for and view resource in Den dashboard)</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">my_resource</span><span class=\"o\">.</span><span class=\"n\">share</span><span class=\"p\">(</span><span class=\"n\">users</span><span class=\"o\">=</span><span class=\"p\">[</span><span class=\"s2\">&quot;username1&quot;</span><span class=\"p\">,</span> <span class=\"s2\">&quot;user2@gmail.com&quot;</span><span class=\"p\">],</span> <span class=\"n\">access_level</span><span class=\"o\">=</span><span class=\"s1\">&#39;write&#39;</span><span class=\"p\">)</span>\n</pre></div>\n</div>\n<div class=\"doctest highlight-default notranslate\"><div class=\"highlight\"><pre><span></span><span class=\"gp\">&gt;&gt;&gt; </span><span class=\"c1\"># Make resource public, with read access to the resource for all users</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">my_resource</span><span class=\"o\">.</span><span class=\"n\">share</span><span class=\"p\">(</span><span class=\"n\">visibility</span><span class=\"o\">=</span><span class=\"s1\">&#39;public&#39;</span><span class=\"p\">)</span>\n</pre></div>\n</div>\n</dd></dl>\n\n<dl class=\"py method\">\n<dt class=\"sig sig-object py\" id=\"runhouse.Cluster.ssh\">\n<span class=\"sig-name descname\"><span class=\"pre\">ssh</span></span><span class=\"sig-paren\">(</span><span class=\"sig-paren\">)</span><a class=\"reference internal\" href=\"../../../_modules/runhouse/resources/hardware/cluster/#Cluster.ssh\"><span class=\"viewcode-link\"><span class=\"pre\">[source]</span></span></a><a class=\"headerlink\" href=\"#runhouse.Cluster.ssh\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd><p>SSH into the cluster</p>\n<p class=\"rubric\">Example</p>\n<div class=\"doctest highlight-default notranslate\"><div class=\"highlight\"><pre><span></span><span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">rh</span><span class=\"o\">.</span><span class=\"n\">cluster</span><span class=\"p\">(</span><span class=\"s2\">&quot;rh-cpu&quot;</span><span class=\"p\">)</span><span class=\"o\">.</span><span class=\"n\">ssh</span><span class=\"p\">()</span>\n</pre></div>\n</div>\n</dd></dl>\n\n<dl class=\"py method\">\n<dt class=\"sig sig-object py\" id=\"runhouse.Cluster.start_server\">\n<span class=\"sig-name descname\"><span class=\"pre\">start_server</span></span><span class=\"sig-paren\">(</span><em class=\"sig-param\"><span class=\"n\"><span class=\"pre\">_rh_install_url</span></span><span class=\"p\"><span class=\"pre\">:</span></span><span class=\"w\"> </span><span class=\"n\"><span class=\"pre\">str</span><span class=\"w\"> </span><span class=\"p\"><span class=\"pre\">|</span></span><span class=\"w\"> </span><span class=\"pre\">None</span></span><span class=\"w\"> </span><span class=\"o\"><span class=\"pre\">=</span></span><span class=\"w\"> </span><span class=\"default_value\"><span class=\"pre\">None</span></span></em>, <em class=\"sig-param\"><span class=\"n\"><span class=\"pre\">resync_rh</span></span><span class=\"p\"><span class=\"pre\">:</span></span><span class=\"w\"> </span><span class=\"n\"><span class=\"pre\">bool</span><span class=\"w\"> </span><span class=\"p\"><span class=\"pre\">|</span></span><span class=\"w\"> </span><span class=\"pre\">None</span></span><span class=\"w\"> </span><span class=\"o\"><span class=\"pre\">=</span></span><span class=\"w\"> </span><span class=\"default_value\"><span class=\"pre\">None</span></span></em>, <em class=\"sig-param\"><span class=\"n\"><span class=\"pre\">restart_ray</span></span><span class=\"p\"><span class=\"pre\">:</span></span><span class=\"w\"> </span><span class=\"n\"><span class=\"pre\">bool</span></span><span class=\"w\"> </span><span class=\"o\"><span class=\"pre\">=</span></span><span class=\"w\"> </span><span class=\"default_value\"><span class=\"pre\">True</span></span></em>, <em class=\"sig-param\"><span class=\"n\"><span class=\"pre\">restart_proxy</span></span><span class=\"p\"><span class=\"pre\">:</span></span><span class=\"w\"> </span><span class=\"n\"><span class=\"pre\">bool</span></span><span class=\"w\"> </span><span class=\"o\"><span class=\"pre\">=</span></span><span class=\"w\"> </span><span class=\"default_value\"><span class=\"pre\">False</span></span></em><span class=\"sig-paren\">)</span><a class=\"reference internal\" href=\"../../../_modules/runhouse/resources/hardware/cluster/#Cluster.start_server\"><span class=\"viewcode-link\"><span class=\"pre\">[source]</span></span></a><a class=\"headerlink\" href=\"#runhouse.Cluster.start_server\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd><p>Restart the RPC server.</p>\n<dl class=\"field-list simple\">\n<dt class=\"field-odd\">Parameters<span class=\"colon\">:</span></dt>\n<dd class=\"field-odd\"><ul class=\"simple\">\n<li><p><strong>resync_rh</strong> (<em>bool</em>) \u2013 Whether to Resync runhouse. If <code class=\"docutils literal notranslate\"><span class=\"pre\">False</span></code> will not resync Runhouse onto the cluster.\nIf <code class=\"docutils literal notranslate\"><span class=\"pre\">None</span></code>, will sync if Runhouse is not installed on the cluster or if locally it is installed\nas editable. (Default: <code class=\"docutils literal notranslate\"><span class=\"pre\">None</span></code>)</p></li>\n<li><p><strong>restart_ray</strong> (<em>bool</em>) \u2013 Whether to restart Ray. (Default: <code class=\"docutils literal notranslate\"><span class=\"pre\">True</span></code>)</p></li>\n<li><p><strong>restart_proxy</strong> (<em>bool</em>) \u2013 Whether to restart Caddy on the cluster, if configured. (Default: <code class=\"docutils literal notranslate\"><span class=\"pre\">False</span></code>)</p></li>\n</ul>\n</dd>\n</dl>\n<p class=\"rubric\">Example</p>\n<div class=\"doctest highlight-default notranslate\"><div class=\"highlight\"><pre><span></span><span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">rh</span><span class=\"o\">.</span><span class=\"n\">cluster</span><span class=\"p\">(</span><span class=\"s2\">&quot;rh-cpu&quot;</span><span class=\"p\">)</span><span class=\"o\">.</span><span class=\"n\">start_server</span><span class=\"p\">()</span>\n</pre></div>\n</div>\n</dd></dl>\n\n<dl class=\"py method\">\n<dt class=\"sig sig-object py\" id=\"runhouse.Cluster.status\">\n<span class=\"sig-name descname\"><span class=\"pre\">status</span></span><span class=\"sig-paren\">(</span><em class=\"sig-param\"><span class=\"n\"><span class=\"pre\">send_to_den</span></span><span class=\"p\"><span class=\"pre\">:</span></span><span class=\"w\"> </span><span class=\"n\"><span class=\"pre\">bool</span></span><span class=\"w\"> </span><span class=\"o\"><span class=\"pre\">=</span></span><span class=\"w\"> </span><span class=\"default_value\"><span class=\"pre\">False</span></span></em><span class=\"sig-paren\">)</span><a class=\"reference internal\" href=\"../../../_modules/runhouse/resources/hardware/cluster/#Cluster.status\"><span class=\"viewcode-link\"><span class=\"pre\">[source]</span></span></a><a class=\"headerlink\" href=\"#runhouse.Cluster.status\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd><p>Load the status of the Runhouse daemon running on a cluster.</p>\n<dl class=\"field-list simple\">\n<dt class=\"field-odd\">Parameters<span class=\"colon\">:</span></dt>\n<dd class=\"field-odd\"><p><strong>send_to_den</strong> (<em>bool</em><em>, </em><em>optional</em>) \u2013 Whether to send and update the status in Den. Only applies to\nclusters that are saved to Den. (Default: <code class=\"docutils literal notranslate\"><span class=\"pre\">False</span></code>)</p>\n</dd>\n</dl>\n</dd></dl>\n\n<dl class=\"py method\">\n<dt class=\"sig sig-object py\" id=\"runhouse.Cluster.stop_server\">\n<span class=\"sig-name descname\"><span class=\"pre\">stop_server</span></span><span class=\"sig-paren\">(</span><em class=\"sig-param\"><span class=\"n\"><span class=\"pre\">stop_ray</span></span><span class=\"p\"><span class=\"pre\">:</span></span><span class=\"w\"> </span><span class=\"n\"><span class=\"pre\">bool</span></span><span class=\"w\"> </span><span class=\"o\"><span class=\"pre\">=</span></span><span class=\"w\"> </span><span class=\"default_value\"><span class=\"pre\">False</span></span></em>, <em class=\"sig-param\"><span class=\"n\"><span class=\"pre\">env</span></span><span class=\"p\"><span class=\"pre\">:</span></span><span class=\"w\"> </span><span class=\"n\"><span class=\"pre\">str</span><span class=\"w\"> </span><span class=\"p\"><span class=\"pre\">|</span></span><span class=\"w\"> </span><a class=\"reference internal\" href=\"../env/#runhouse.Env\" title=\"runhouse.Env\"><span class=\"pre\">Env</span></a></span><span class=\"w\"> </span><span class=\"o\"><span class=\"pre\">=</span></span><span class=\"w\"> </span><span class=\"default_value\"><span class=\"pre\">None</span></span></em>, <em class=\"sig-param\"><span class=\"n\"><span class=\"pre\">cleanup_actors</span></span><span class=\"p\"><span class=\"pre\">:</span></span><span class=\"w\"> </span><span class=\"n\"><span class=\"pre\">bool</span></span><span class=\"w\"> </span><span class=\"o\"><span class=\"pre\">=</span></span><span class=\"w\"> </span><span class=\"default_value\"><span class=\"pre\">True</span></span></em><span class=\"sig-paren\">)</span><a class=\"reference internal\" href=\"../../../_modules/runhouse/resources/hardware/cluster/#Cluster.stop_server\"><span class=\"viewcode-link\"><span class=\"pre\">[source]</span></span></a><a class=\"headerlink\" href=\"#runhouse.Cluster.stop_server\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd><p>Stop the RPC server.</p>\n<dl class=\"field-list simple\">\n<dt class=\"field-odd\">Parameters<span class=\"colon\">:</span></dt>\n<dd class=\"field-odd\"><ul class=\"simple\">\n<li><p><strong>stop_ray</strong> (<em>bool</em><em>, </em><em>optional</em>) \u2013 Whether to stop Ray. (Default: <cite>True</cite>)</p></li>\n<li><p><strong>env</strong> (<em>str</em><em> or </em><a class=\"reference internal\" href=\"../env/#runhouse.Env\" title=\"runhouse.Env\"><em>Env</em></a><em>, </em><em>optional</em>) \u2013 Specified environment to stop the server on. (Default: <code class=\"docutils literal notranslate\"><span class=\"pre\">None</span></code>)</p></li>\n<li><p><strong>cleanup_actors</strong> (<em>bool</em><em>, </em><em>optional</em>) \u2013 Whether to kill all Ray actors. (Default: <code class=\"docutils literal notranslate\"><span class=\"pre\">True</span></code>)</p></li>\n</ul>\n</dd>\n</dl>\n</dd></dl>\n\n<dl class=\"py method\">\n<dt class=\"sig sig-object py\" id=\"runhouse.Cluster.sync_secrets\">\n<span class=\"sig-name descname\"><span class=\"pre\">sync_secrets</span></span><span class=\"sig-paren\">(</span><em class=\"sig-param\"><span class=\"n\"><span class=\"pre\">providers</span></span><span class=\"p\"><span class=\"pre\">:</span></span><span class=\"w\"> </span><span class=\"n\"><span class=\"pre\">List</span><span class=\"p\"><span class=\"pre\">[</span></span><span class=\"pre\">str</span><span class=\"p\"><span class=\"pre\">]</span></span><span class=\"w\"> </span><span class=\"p\"><span class=\"pre\">|</span></span><span class=\"w\"> </span><span class=\"pre\">None</span></span><span class=\"w\"> </span><span class=\"o\"><span class=\"pre\">=</span></span><span class=\"w\"> </span><span class=\"default_value\"><span class=\"pre\">None</span></span></em>, <em class=\"sig-param\"><span class=\"n\"><span class=\"pre\">env</span></span><span class=\"p\"><span class=\"pre\">:</span></span><span class=\"w\"> </span><span class=\"n\"><span class=\"pre\">str</span><span class=\"w\"> </span><span class=\"p\"><span class=\"pre\">|</span></span><span class=\"w\"> </span><a class=\"reference internal\" href=\"../env/#runhouse.Env\" title=\"runhouse.Env\"><span class=\"pre\">Env</span></a></span><span class=\"w\"> </span><span class=\"o\"><span class=\"pre\">=</span></span><span class=\"w\"> </span><span class=\"default_value\"><span class=\"pre\">None</span></span></em><span class=\"sig-paren\">)</span><a class=\"reference internal\" href=\"../../../_modules/runhouse/resources/hardware/cluster/#Cluster.sync_secrets\"><span class=\"viewcode-link\"><span class=\"pre\">[source]</span></span></a><a class=\"headerlink\" href=\"#runhouse.Cluster.sync_secrets\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd><p>Send secrets for the given providers.</p>\n<dl class=\"field-list simple\">\n<dt class=\"field-odd\">Parameters<span class=\"colon\">:</span></dt>\n<dd class=\"field-odd\"><ul class=\"simple\">\n<li><p><strong>providers</strong> (<em>List</em><em>[</em><em>str</em><em>] or </em><em>None</em><em>, </em><em>optional</em>) \u2013 List of providers to send secrets for.\nIf <cite>None</cite>, all providers configured in the environment will by sent. (Default: <code class=\"docutils literal notranslate\"><span class=\"pre\">None</span></code>)</p></li>\n<li><p><strong>env</strong> (<em>str</em><em>, </em><a class=\"reference internal\" href=\"../env/#runhouse.Env\" title=\"runhouse.Env\"><em>Env</em></a><em>, </em><em>optional</em>) \u2013 Env to sync secrets into. (Default: <code class=\"docutils literal notranslate\"><span class=\"pre\">None</span></code>)</p></li>\n</ul>\n</dd>\n</dl>\n<p class=\"rubric\">Example</p>\n<div class=\"doctest highlight-default notranslate\"><div class=\"highlight\"><pre><span></span><span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">cpu</span><span class=\"o\">.</span><span class=\"n\">sync_secrets</span><span class=\"p\">(</span><span class=\"n\">secrets</span><span class=\"o\">=</span><span class=\"p\">[</span><span class=\"s2\">&quot;aws&quot;</span><span class=\"p\">,</span> <span class=\"s2\">&quot;lambda&quot;</span><span class=\"p\">])</span>\n</pre></div>\n</div>\n</dd></dl>\n\n<dl class=\"py method\">\n<dt class=\"sig sig-object py\" id=\"runhouse.Cluster.up_if_not\">\n<span class=\"sig-name descname\"><span class=\"pre\">up_if_not</span></span><span class=\"sig-paren\">(</span><em class=\"sig-param\"><span class=\"n\"><span class=\"pre\">verbose</span></span><span class=\"p\"><span class=\"pre\">:</span></span><span class=\"w\"> </span><span class=\"n\"><span class=\"pre\">bool</span></span><span class=\"w\"> </span><span class=\"o\"><span class=\"pre\">=</span></span><span class=\"w\"> </span><span class=\"default_value\"><span class=\"pre\">True</span></span></em><span class=\"sig-paren\">)</span><a class=\"reference internal\" href=\"../../../_modules/runhouse/resources/hardware/cluster/#Cluster.up_if_not\"><span class=\"viewcode-link\"><span class=\"pre\">[source]</span></span></a><a class=\"headerlink\" href=\"#runhouse.Cluster.up_if_not\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd><p>Bring up the cluster if it is not up. No-op if cluster is already up.\nThis only applies to on-demand clusters, and has no effect on self-managed clusters.</p>\n<dl class=\"field-list simple\">\n<dt class=\"field-odd\">Parameters<span class=\"colon\">:</span></dt>\n<dd class=\"field-odd\"><p><strong>verbose</strong> (<em>bool</em><em>, </em><em>optional</em>) \u2013 Whether to stream logs from Den if the cluster is being launched. Only\nrelevant if launching via Den. (Default: <cite>True</cite>)</p>\n</dd>\n</dl>\n<p class=\"rubric\">Example</p>\n<div class=\"doctest highlight-default notranslate\"><div class=\"highlight\"><pre><span></span><span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">rh</span><span class=\"o\">.</span><span class=\"n\">cluster</span><span class=\"p\">(</span><span class=\"s2\">&quot;rh-cpu&quot;</span><span class=\"p\">)</span><span class=\"o\">.</span><span class=\"n\">up_if_not</span><span class=\"p\">()</span>\n</pre></div>\n</div>\n</dd></dl>\n\n</dd></dl>\n\n<section id=\"cluster-hardware-setup\">\n<h3>Cluster Hardware Setup<a class=\"headerlink\" href=\"#cluster-hardware-setup\" title=\"Permalink to this heading\">\u00b6</a></h3>\n<p>No additional setup is required. You will just need to have the IP address for the cluster\nand the path to SSH credentials ready to be used for the cluster initialization.</p>\n</section>\n</section>\n<section id=\"ondemandcluster-class\">\n<h2>OnDemandCluster Class<a class=\"headerlink\" href=\"#ondemandcluster-class\" title=\"Permalink to this heading\">\u00b6</a></h2>\n<p>A OnDemandCluster is a cluster that uses SkyPilot functionality underneath to handle\nvarious cluster properties.</p>\n<dl class=\"py class\">\n<dt class=\"sig sig-object py\" id=\"runhouse.OnDemandCluster\">\n<em class=\"property\"><span class=\"pre\">class</span><span class=\"w\"> </span></em><span class=\"sig-prename descclassname\"><span class=\"pre\">runhouse.</span></span><span class=\"sig-name descname\"><span class=\"pre\">OnDemandCluster</span></span><span class=\"sig-paren\">(</span><em class=\"sig-param\"><span class=\"n\"><span class=\"pre\">name</span></span></em>, <em class=\"sig-param\"><span class=\"n\"><span class=\"pre\">instance_type</span></span><span class=\"p\"><span class=\"pre\">:</span></span><span class=\"w\"> </span><span class=\"n\"><span class=\"pre\">str</span></span><span class=\"w\"> </span><span class=\"o\"><span class=\"pre\">=</span></span><span class=\"w\"> </span><span class=\"default_value\"><span class=\"pre\">None</span></span></em>, <em class=\"sig-param\"><span class=\"n\"><span class=\"pre\">num_nodes</span></span><span class=\"p\"><span class=\"pre\">:</span></span><span class=\"w\"> </span><span class=\"n\"><span class=\"pre\">int</span></span><span class=\"w\"> </span><span class=\"o\"><span class=\"pre\">=</span></span><span class=\"w\"> </span><span class=\"default_value\"><span class=\"pre\">None</span></span></em>, <em class=\"sig-param\"><span class=\"n\"><span class=\"pre\">provider</span></span><span class=\"p\"><span class=\"pre\">:</span></span><span class=\"w\"> </span><span class=\"n\"><span class=\"pre\">str</span></span><span class=\"w\"> </span><span class=\"o\"><span class=\"pre\">=</span></span><span class=\"w\"> </span><span class=\"default_value\"><span class=\"pre\">None</span></span></em>, <em class=\"sig-param\"><span class=\"n\"><span class=\"pre\">default_env</span></span><span class=\"p\"><span class=\"pre\">:</span></span><span class=\"w\"> </span><span class=\"n\"><a class=\"reference internal\" href=\"../env/#runhouse.Env\" title=\"runhouse.Env\"><span class=\"pre\">Env</span></a></span><span class=\"w\"> </span><span class=\"o\"><span class=\"pre\">=</span></span><span class=\"w\"> </span><span class=\"default_value\"><span class=\"pre\">None</span></span></em>, <em class=\"sig-param\"><span class=\"n\"><span class=\"pre\">dryrun</span></span><span class=\"p\"><span class=\"pre\">:</span></span><span class=\"w\"> </span><span class=\"n\"><span class=\"pre\">bool</span></span><span class=\"w\"> </span><span class=\"o\"><span class=\"pre\">=</span></span><span class=\"w\"> </span><span class=\"default_value\"><span class=\"pre\">False</span></span></em>, <em class=\"sig-param\"><span class=\"n\"><span class=\"pre\">autostop_mins</span></span><span class=\"p\"><span class=\"pre\">:</span></span><span class=\"w\"> </span><span class=\"n\"><span class=\"pre\">int</span></span><span class=\"w\"> </span><span class=\"o\"><span class=\"pre\">=</span></span><span class=\"w\"> </span><span class=\"default_value\"><span class=\"pre\">None</span></span></em>, <em class=\"sig-param\"><span class=\"n\"><span class=\"pre\">use_spot</span></span><span class=\"p\"><span class=\"pre\">:</span></span><span class=\"w\"> </span><span class=\"n\"><span class=\"pre\">bool</span></span><span class=\"w\"> </span><span class=\"o\"><span class=\"pre\">=</span></span><span class=\"w\"> </span><span class=\"default_value\"><span class=\"pre\">False</span></span></em>, <em class=\"sig-param\"><span class=\"n\"><span class=\"pre\">image_id</span></span><span class=\"p\"><span class=\"pre\">:</span></span><span class=\"w\"> </span><span class=\"n\"><span class=\"pre\">str</span></span><span class=\"w\"> </span><span class=\"o\"><span class=\"pre\">=</span></span><span class=\"w\"> </span><span class=\"default_value\"><span class=\"pre\">None</span></span></em>, <em class=\"sig-param\"><span class=\"n\"><span class=\"pre\">memory</span></span><span class=\"p\"><span class=\"pre\">:</span></span><span class=\"w\"> </span><span class=\"n\"><span class=\"pre\">int</span><span class=\"w\"> </span><span class=\"p\"><span class=\"pre\">|</span></span><span class=\"w\"> </span><span class=\"pre\">str</span></span><span class=\"w\"> </span><span class=\"o\"><span class=\"pre\">=</span></span><span class=\"w\"> </span><span class=\"default_value\"><span class=\"pre\">None</span></span></em>, <em class=\"sig-param\"><span class=\"n\"><span class=\"pre\">disk_size</span></span><span class=\"p\"><span class=\"pre\">:</span></span><span class=\"w\"> </span><span class=\"n\"><span class=\"pre\">int</span><span class=\"w\"> </span><span class=\"p\"><span class=\"pre\">|</span></span><span class=\"w\"> </span><span class=\"pre\">str</span></span><span class=\"w\"> </span><span class=\"o\"><span class=\"pre\">=</span></span><span class=\"w\"> </span><span class=\"default_value\"><span class=\"pre\">None</span></span></em>, <em class=\"sig-param\"><span class=\"n\"><span class=\"pre\">open_ports</span></span><span class=\"p\"><span class=\"pre\">:</span></span><span class=\"w\"> </span><span class=\"n\"><span class=\"pre\">int</span><span class=\"w\"> </span><span class=\"p\"><span class=\"pre\">|</span></span><span class=\"w\"> </span><span class=\"pre\">str</span><span class=\"w\"> </span><span class=\"p\"><span class=\"pre\">|</span></span><span class=\"w\"> </span><span class=\"pre\">List</span><span class=\"p\"><span class=\"pre\">[</span></span><span class=\"pre\">int</span><span class=\"p\"><span class=\"pre\">]</span></span></span><span class=\"w\"> </span><span class=\"o\"><span class=\"pre\">=</span></span><span class=\"w\"> </span><span class=\"default_value\"><span class=\"pre\">None</span></span></em>, <em class=\"sig-param\"><span class=\"n\"><span class=\"pre\">server_host</span></span><span class=\"p\"><span class=\"pre\">:</span></span><span class=\"w\"> </span><span class=\"n\"><span class=\"pre\">int</span></span><span class=\"w\"> </span><span class=\"o\"><span class=\"pre\">=</span></span><span class=\"w\"> </span><span class=\"default_value\"><span class=\"pre\">None</span></span></em>, <em class=\"sig-param\"><span class=\"n\"><span class=\"pre\">server_port</span></span><span class=\"p\"><span class=\"pre\">:</span></span><span class=\"w\"> </span><span class=\"n\"><span class=\"pre\">int</span></span><span class=\"w\"> </span><span class=\"o\"><span class=\"pre\">=</span></span><span class=\"w\"> </span><span class=\"default_value\"><span class=\"pre\">None</span></span></em>, <em class=\"sig-param\"><span class=\"n\"><span class=\"pre\">server_connection_type</span></span><span class=\"p\"><span class=\"pre\">:</span></span><span class=\"w\"> </span><span class=\"n\"><span class=\"pre\">str</span></span><span class=\"w\"> </span><span class=\"o\"><span class=\"pre\">=</span></span><span class=\"w\"> </span><span class=\"default_value\"><span class=\"pre\">None</span></span></em>, <em class=\"sig-param\"><span class=\"n\"><span class=\"pre\">launcher_type</span></span><span class=\"p\"><span class=\"pre\">:</span></span><span class=\"w\"> </span><span class=\"n\"><span class=\"pre\">str</span></span><span class=\"w\"> </span><span class=\"o\"><span class=\"pre\">=</span></span><span class=\"w\"> </span><span class=\"default_value\"><span class=\"pre\">None</span></span></em>, <em class=\"sig-param\"><span class=\"n\"><span class=\"pre\">ssl_keyfile</span></span><span class=\"p\"><span class=\"pre\">:</span></span><span class=\"w\"> </span><span class=\"n\"><span class=\"pre\">str</span></span><span class=\"w\"> </span><span class=\"o\"><span class=\"pre\">=</span></span><span class=\"w\"> </span><span class=\"default_value\"><span class=\"pre\">None</span></span></em>, <em class=\"sig-param\"><span class=\"n\"><span class=\"pre\">ssl_certfile</span></span><span class=\"p\"><span class=\"pre\">:</span></span><span class=\"w\"> </span><span class=\"n\"><span class=\"pre\">str</span></span><span class=\"w\"> </span><span class=\"o\"><span class=\"pre\">=</span></span><span class=\"w\"> </span><span class=\"default_value\"><span class=\"pre\">None</span></span></em>, <em class=\"sig-param\"><span class=\"n\"><span class=\"pre\">domain</span></span><span class=\"p\"><span class=\"pre\">:</span></span><span class=\"w\"> </span><span class=\"n\"><span class=\"pre\">str</span></span><span class=\"w\"> </span><span class=\"o\"><span class=\"pre\">=</span></span><span class=\"w\"> </span><span class=\"default_value\"><span class=\"pre\">None</span></span></em>, <em class=\"sig-param\"><span class=\"n\"><span class=\"pre\">den_auth</span></span><span class=\"p\"><span class=\"pre\">:</span></span><span class=\"w\"> </span><span class=\"n\"><span class=\"pre\">bool</span></span><span class=\"w\"> </span><span class=\"o\"><span class=\"pre\">=</span></span><span class=\"w\"> </span><span class=\"default_value\"><span class=\"pre\">False</span></span></em>, <em class=\"sig-param\"><span class=\"n\"><span class=\"pre\">region</span></span><span class=\"p\"><span class=\"pre\">:</span></span><span class=\"w\"> </span><span class=\"n\"><span class=\"pre\">str</span></span><span class=\"w\"> </span><span class=\"o\"><span class=\"pre\">=</span></span><span class=\"w\"> </span><span class=\"default_value\"><span class=\"pre\">None</span></span></em>, <em class=\"sig-param\"><span class=\"n\"><span class=\"pre\">sky_kwargs</span></span><span class=\"p\"><span class=\"pre\">:</span></span><span class=\"w\"> </span><span class=\"n\"><span class=\"pre\">Dict</span></span><span class=\"w\"> </span><span class=\"o\"><span class=\"pre\">=</span></span><span class=\"w\"> </span><span class=\"default_value\"><span class=\"pre\">None</span></span></em>, <em class=\"sig-param\"><span class=\"o\"><span class=\"pre\">**</span></span><span class=\"n\"><span class=\"pre\">kwargs</span></span></em><span class=\"sig-paren\">)</span><a class=\"reference internal\" href=\"../../../_modules/runhouse/resources/hardware/on_demand_cluster/#OnDemandCluster\"><span class=\"viewcode-link\"><span class=\"pre\">[source]</span></span></a><a class=\"headerlink\" href=\"#runhouse.OnDemandCluster\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd><blockquote>\n<div><dl class=\"py method\">\n<dt class=\"sig sig-object py\" id=\"runhouse.OnDemandCluster.__init__\">\n<span class=\"sig-name descname\"><span class=\"pre\">__init__</span></span><span class=\"sig-paren\">(</span><em class=\"sig-param\"><span class=\"n\"><span class=\"pre\">name</span></span></em>, <em class=\"sig-param\"><span class=\"n\"><span class=\"pre\">instance_type</span></span><span class=\"p\"><span class=\"pre\">:</span></span><span class=\"w\"> </span><span class=\"n\"><span class=\"pre\">str</span></span><span class=\"w\"> </span><span class=\"o\"><span class=\"pre\">=</span></span><span class=\"w\"> </span><span class=\"default_value\"><span class=\"pre\">None</span></span></em>, <em class=\"sig-param\"><span class=\"n\"><span class=\"pre\">num_nodes</span></span><span class=\"p\"><span class=\"pre\">:</span></span><span class=\"w\"> </span><span class=\"n\"><span class=\"pre\">int</span></span><span class=\"w\"> </span><span class=\"o\"><span class=\"pre\">=</span></span><span class=\"w\"> </span><span class=\"default_value\"><span class=\"pre\">None</span></span></em>, <em class=\"sig-param\"><span class=\"n\"><span class=\"pre\">provider</span></span><span class=\"p\"><span class=\"pre\">:</span></span><span class=\"w\"> </span><span class=\"n\"><span class=\"pre\">str</span></span><span class=\"w\"> </span><span class=\"o\"><span class=\"pre\">=</span></span><span class=\"w\"> </span><span class=\"default_value\"><span class=\"pre\">None</span></span></em>, <em class=\"sig-param\"><span class=\"n\"><span class=\"pre\">default_env</span></span><span class=\"p\"><span class=\"pre\">:</span></span><span class=\"w\"> </span><span class=\"n\"><a class=\"reference internal\" href=\"../env/#runhouse.Env\" title=\"runhouse.Env\"><span class=\"pre\">Env</span></a></span><span class=\"w\"> </span><span class=\"o\"><span class=\"pre\">=</span></span><span class=\"w\"> </span><span class=\"default_value\"><span class=\"pre\">None</span></span></em>, <em class=\"sig-param\"><span class=\"n\"><span class=\"pre\">dryrun</span></span><span class=\"p\"><span class=\"pre\">:</span></span><span class=\"w\"> </span><span class=\"n\"><span class=\"pre\">bool</span></span><span class=\"w\"> </span><span class=\"o\"><span class=\"pre\">=</span></span><span class=\"w\"> </span><span class=\"default_value\"><span class=\"pre\">False</span></span></em>, <em class=\"sig-param\"><span class=\"n\"><span class=\"pre\">autostop_mins</span></span><span class=\"p\"><span class=\"pre\">:</span></span><span class=\"w\"> </span><span class=\"n\"><span class=\"pre\">int</span></span><span class=\"w\"> </span><span class=\"o\"><span class=\"pre\">=</span></span><span class=\"w\"> </span><span class=\"default_value\"><span class=\"pre\">None</span></span></em>, <em class=\"sig-param\"><span class=\"n\"><span class=\"pre\">use_spot</span></span><span class=\"p\"><span class=\"pre\">:</span></span><span class=\"w\"> </span><span class=\"n\"><span class=\"pre\">bool</span></span><span class=\"w\"> </span><span class=\"o\"><span class=\"pre\">=</span></span><span class=\"w\"> </span><span class=\"default_value\"><span class=\"pre\">False</span></span></em>, <em class=\"sig-param\"><span class=\"n\"><span class=\"pre\">image_id</span></span><span class=\"p\"><span class=\"pre\">:</span></span><span class=\"w\"> </span><span class=\"n\"><span class=\"pre\">str</span></span><span class=\"w\"> </span><span class=\"o\"><span class=\"pre\">=</span></span><span class=\"w\"> </span><span class=\"default_value\"><span class=\"pre\">None</span></span></em>, <em class=\"sig-param\"><span class=\"n\"><span class=\"pre\">memory</span></span><span class=\"p\"><span class=\"pre\">:</span></span><span class=\"w\"> </span><span class=\"n\"><span class=\"pre\">int</span><span class=\"w\"> </span><span class=\"p\"><span class=\"pre\">|</span></span><span class=\"w\"> </span><span class=\"pre\">str</span></span><span class=\"w\"> </span><span class=\"o\"><span class=\"pre\">=</span></span><span class=\"w\"> </span><span class=\"default_value\"><span class=\"pre\">None</span></span></em>, <em class=\"sig-param\"><span class=\"n\"><span class=\"pre\">disk_size</span></span><span class=\"p\"><span class=\"pre\">:</span></span><span class=\"w\"> </span><span class=\"n\"><span class=\"pre\">int</span><span class=\"w\"> </span><span class=\"p\"><span class=\"pre\">|</span></span><span class=\"w\"> </span><span class=\"pre\">str</span></span><span class=\"w\"> </span><span class=\"o\"><span class=\"pre\">=</span></span><span class=\"w\"> </span><span class=\"default_value\"><span class=\"pre\">None</span></span></em>, <em class=\"sig-param\"><span class=\"n\"><span class=\"pre\">open_ports</span></span><span class=\"p\"><span class=\"pre\">:</span></span><span class=\"w\"> </span><span class=\"n\"><span class=\"pre\">int</span><span class=\"w\"> </span><span class=\"p\"><span class=\"pre\">|</span></span><span class=\"w\"> </span><span class=\"pre\">str</span><span class=\"w\"> </span><span class=\"p\"><span class=\"pre\">|</span></span><span class=\"w\"> </span><span class=\"pre\">List</span><span class=\"p\"><span class=\"pre\">[</span></span><span class=\"pre\">int</span><span class=\"p\"><span class=\"pre\">]</span></span></span><span class=\"w\"> </span><span class=\"o\"><span class=\"pre\">=</span></span><span class=\"w\"> </span><span class=\"default_value\"><span class=\"pre\">None</span></span></em>, <em class=\"sig-param\"><span class=\"n\"><span class=\"pre\">server_host</span></span><span class=\"p\"><span class=\"pre\">:</span></span><span class=\"w\"> </span><span class=\"n\"><span class=\"pre\">int</span></span><span class=\"w\"> </span><span class=\"o\"><span class=\"pre\">=</span></span><span class=\"w\"> </span><span class=\"default_value\"><span class=\"pre\">None</span></span></em>, <em class=\"sig-param\"><span class=\"n\"><span class=\"pre\">server_port</span></span><span class=\"p\"><span class=\"pre\">:</span></span><span class=\"w\"> </span><span class=\"n\"><span class=\"pre\">int</span></span><span class=\"w\"> </span><span class=\"o\"><span class=\"pre\">=</span></span><span class=\"w\"> </span><span class=\"default_value\"><span class=\"pre\">None</span></span></em>, <em class=\"sig-param\"><span class=\"n\"><span class=\"pre\">server_connection_type</span></span><span class=\"p\"><span class=\"pre\">:</span></span><span class=\"w\"> </span><span class=\"n\"><span class=\"pre\">str</span></span><span class=\"w\"> </span><span class=\"o\"><span class=\"pre\">=</span></span><span class=\"w\"> </span><span class=\"default_value\"><span class=\"pre\">None</span></span></em>, <em class=\"sig-param\"><span class=\"n\"><span class=\"pre\">launcher_type</span></span><span class=\"p\"><span class=\"pre\">:</span></span><span class=\"w\"> </span><span class=\"n\"><span class=\"pre\">str</span></span><span class=\"w\"> </span><span class=\"o\"><span class=\"pre\">=</span></span><span class=\"w\"> </span><span class=\"default_value\"><span class=\"pre\">None</span></span></em>, <em class=\"sig-param\"><span class=\"n\"><span class=\"pre\">ssl_keyfile</span></span><span class=\"p\"><span class=\"pre\">:</span></span><span class=\"w\"> </span><span class=\"n\"><span class=\"pre\">str</span></span><span class=\"w\"> </span><span class=\"o\"><span class=\"pre\">=</span></span><span class=\"w\"> </span><span class=\"default_value\"><span class=\"pre\">None</span></span></em>, <em class=\"sig-param\"><span class=\"n\"><span class=\"pre\">ssl_certfile</span></span><span class=\"p\"><span class=\"pre\">:</span></span><span class=\"w\"> </span><span class=\"n\"><span class=\"pre\">str</span></span><span class=\"w\"> </span><span class=\"o\"><span class=\"pre\">=</span></span><span class=\"w\"> </span><span class=\"default_value\"><span class=\"pre\">None</span></span></em>, <em class=\"sig-param\"><span class=\"n\"><span class=\"pre\">domain</span></span><span class=\"p\"><span class=\"pre\">:</span></span><span class=\"w\"> </span><span class=\"n\"><span class=\"pre\">str</span></span><span class=\"w\"> </span><span class=\"o\"><span class=\"pre\">=</span></span><span class=\"w\"> </span><span class=\"default_value\"><span class=\"pre\">None</span></span></em>, <em class=\"sig-param\"><span class=\"n\"><span class=\"pre\">den_auth</span></span><span class=\"p\"><span class=\"pre\">:</span></span><span class=\"w\"> </span><span class=\"n\"><span class=\"pre\">bool</span></span><span class=\"w\"> </span><span class=\"o\"><span class=\"pre\">=</span></span><span class=\"w\"> </span><span class=\"default_value\"><span class=\"pre\">False</span></span></em>, <em class=\"sig-param\"><span class=\"n\"><span class=\"pre\">region</span></span><span class=\"p\"><span class=\"pre\">:</span></span><span class=\"w\"> </span><span class=\"n\"><span class=\"pre\">str</span></span><span class=\"w\"> </span><span class=\"o\"><span class=\"pre\">=</span></span><span class=\"w\"> </span><span class=\"default_value\"><span class=\"pre\">None</span></span></em>, <em class=\"sig-param\"><span class=\"n\"><span class=\"pre\">sky_kwargs</span></span><span class=\"p\"><span class=\"pre\">:</span></span><span class=\"w\"> </span><span class=\"n\"><span class=\"pre\">Dict</span></span><span class=\"w\"> </span><span class=\"o\"><span class=\"pre\">=</span></span><span class=\"w\"> </span><span class=\"default_value\"><span class=\"pre\">None</span></span></em>, <em class=\"sig-param\"><span class=\"o\"><span class=\"pre\">**</span></span><span class=\"n\"><span class=\"pre\">kwargs</span></span></em><span class=\"sig-paren\">)</span><a class=\"reference internal\" href=\"../../../_modules/runhouse/resources/hardware/on_demand_cluster/#OnDemandCluster.__init__\"><span class=\"viewcode-link\"><span class=\"pre\">[source]</span></span></a><a class=\"headerlink\" href=\"#runhouse.OnDemandCluster.__init__\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd><p>On-demand <a class=\"reference external\" href=\"https://github.com/skypilot-org/skypilot/\">SkyPilot</a> Cluster.</p>\n<div class=\"admonition note\">\n<p class=\"admonition-title\">Note</p>\n<p>To build a cluster, please use the factory method <a class=\"reference internal\" href=\"#runhouse.cluster\" title=\"runhouse.cluster\"><code class=\"xref py py-func docutils literal notranslate\"><span class=\"pre\">cluster()</span></code></a>.</p>\n</div>\n</dd></dl>\n\n</div></blockquote>\n<dl class=\"py method\">\n<dt class=\"sig sig-object py\" id=\"runhouse.OnDemandCluster.a_up\">\n<em class=\"property\"><span class=\"pre\">async</span><span class=\"w\"> </span></em><span class=\"sig-name descname\"><span class=\"pre\">a_up</span></span><span class=\"sig-paren\">(</span><em class=\"sig-param\"><span class=\"n\"><span class=\"pre\">capture_output</span></span><span class=\"p\"><span class=\"pre\">:</span></span><span class=\"w\"> </span><span class=\"n\"><span class=\"pre\">bool</span><span class=\"w\"> </span><span class=\"p\"><span class=\"pre\">|</span></span><span class=\"w\"> </span><span class=\"pre\">str</span></span><span class=\"w\"> </span><span class=\"o\"><span class=\"pre\">=</span></span><span class=\"w\"> </span><span class=\"default_value\"><span class=\"pre\">True</span></span></em><span class=\"sig-paren\">)</span><a class=\"reference internal\" href=\"../../../_modules/runhouse/resources/hardware/on_demand_cluster/#OnDemandCluster.a_up\"><span class=\"viewcode-link\"><span class=\"pre\">[source]</span></span></a><a class=\"headerlink\" href=\"#runhouse.OnDemandCluster.a_up\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd><p>Up the cluster async in another process, so it can be parallelized and logs can be captured sanely.</p>\n<p>capture_output: If True, supress the output of the cluster creation process. If False, print the output\nnormally. If a string, write the output to the file at that path.</p>\n</dd></dl>\n\n<dl class=\"py method\">\n<dt class=\"sig sig-object py\" id=\"runhouse.OnDemandCluster.accelerators\">\n<span class=\"sig-name descname\"><span class=\"pre\">accelerators</span></span><span class=\"sig-paren\">(</span><span class=\"sig-paren\">)</span><a class=\"reference internal\" href=\"../../../_modules/runhouse/resources/hardware/on_demand_cluster/#OnDemandCluster.accelerators\"><span class=\"viewcode-link\"><span class=\"pre\">[source]</span></span></a><a class=\"headerlink\" href=\"#runhouse.OnDemandCluster.accelerators\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd><p>Returns the acclerator type, or None if is a CPU.</p>\n</dd></dl>\n\n<dl class=\"py method\">\n<dt class=\"sig sig-object py\" id=\"runhouse.OnDemandCluster.cluster_ssh_key\">\n<em class=\"property\"><span class=\"pre\">static</span><span class=\"w\"> </span></em><span class=\"sig-name descname\"><span class=\"pre\">cluster_ssh_key</span></span><span class=\"sig-paren\">(</span><em class=\"sig-param\"><span class=\"n\"><span class=\"pre\">path_to_file</span></span><span class=\"p\"><span class=\"pre\">:</span></span><span class=\"w\"> </span><span class=\"n\"><span class=\"pre\">Path</span></span></em><span class=\"sig-paren\">)</span><a class=\"reference internal\" href=\"../../../_modules/runhouse/resources/hardware/on_demand_cluster/#OnDemandCluster.cluster_ssh_key\"><span class=\"viewcode-link\"><span class=\"pre\">[source]</span></span></a><a class=\"headerlink\" href=\"#runhouse.OnDemandCluster.cluster_ssh_key\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd><p>Retrieve SSH key for the cluster.</p>\n<dl class=\"field-list simple\">\n<dt class=\"field-odd\">Parameters<span class=\"colon\">:</span></dt>\n<dd class=\"field-odd\"><p><strong>path_to_file</strong> (<em>Path</em>) \u2013 Path of the private key associated with the cluster.</p>\n</dd>\n</dl>\n<p class=\"rubric\">Example</p>\n<div class=\"doctest highlight-default notranslate\"><div class=\"highlight\"><pre><span></span><span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">ssh_priv_key</span> <span class=\"o\">=</span> <span class=\"n\">rh</span><span class=\"o\">.</span><span class=\"n\">ondemand_cluster</span><span class=\"p\">(</span><span class=\"s2\">&quot;rh-cpu&quot;</span><span class=\"p\">)</span><span class=\"o\">.</span><span class=\"n\">cluster_ssh_key</span><span class=\"p\">(</span><span class=\"s2\">&quot;~/.ssh/id_rsa&quot;</span><span class=\"p\">)</span>\n</pre></div>\n</div>\n</dd></dl>\n\n<dl class=\"py method\">\n<dt class=\"sig sig-object py\" id=\"runhouse.OnDemandCluster.endpoint\">\n<span class=\"sig-name descname\"><span class=\"pre\">endpoint</span></span><span class=\"sig-paren\">(</span><em class=\"sig-param\"><span class=\"n\"><span class=\"pre\">external</span></span><span class=\"p\"><span class=\"pre\">:</span></span><span class=\"w\"> </span><span class=\"n\"><span class=\"pre\">bool</span></span><span class=\"w\"> </span><span class=\"o\"><span class=\"pre\">=</span></span><span class=\"w\"> </span><span class=\"default_value\"><span class=\"pre\">False</span></span></em><span class=\"sig-paren\">)</span><a class=\"reference internal\" href=\"../../../_modules/runhouse/resources/hardware/on_demand_cluster/#OnDemandCluster.endpoint\"><span class=\"viewcode-link\"><span class=\"pre\">[source]</span></span></a><a class=\"headerlink\" href=\"#runhouse.OnDemandCluster.endpoint\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd><p>Endpoint for the cluster\u2019s Daemon server.</p>\n<dl class=\"field-list simple\">\n<dt class=\"field-odd\">Parameters<span class=\"colon\">:</span></dt>\n<dd class=\"field-odd\"><p><strong>external</strong> (<em>bool</em><em>, </em><em>optional</em>) \u2013 If <code class=\"docutils literal notranslate\"><span class=\"pre\">True</span></code>, will only return the external url, and will return <code class=\"docutils literal notranslate\"><span class=\"pre\">None</span></code>\notherwise (e.g. if a tunnel is required). If set to <code class=\"docutils literal notranslate\"><span class=\"pre\">False</span></code>, will either return the external url\nif it exists, or will set up the connection (based on connection_type) and return the internal url\n(including the local connected port rather than the sever port). If cluster is not up, returns\n<cite>None`</cite>. (Default: <code class=\"docutils literal notranslate\"><span class=\"pre\">False</span></code>)</p>\n</dd>\n</dl>\n</dd></dl>\n\n<dl class=\"py method\">\n<dt class=\"sig sig-object py\" id=\"runhouse.OnDemandCluster.get_instance_type\">\n<span class=\"sig-name descname\"><span class=\"pre\">get_instance_type</span></span><span class=\"sig-paren\">(</span><span class=\"sig-paren\">)</span><a class=\"reference internal\" href=\"../../../_modules/runhouse/resources/hardware/on_demand_cluster/#OnDemandCluster.get_instance_type\"><span class=\"viewcode-link\"><span class=\"pre\">[source]</span></span></a><a class=\"headerlink\" href=\"#runhouse.OnDemandCluster.get_instance_type\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd><p>Returns instance type of the cluster.</p>\n</dd></dl>\n\n<dl class=\"py method\">\n<dt class=\"sig sig-object py\" id=\"runhouse.OnDemandCluster.is_up\">\n<span class=\"sig-name descname\"><span class=\"pre\">is_up</span></span><span class=\"sig-paren\">(</span><span class=\"sig-paren\">)</span> <span class=\"sig-return\"><span class=\"sig-return-icon\">&#x2192;</span> <span class=\"sig-return-typehint\"><span class=\"pre\">bool</span></span></span><a class=\"reference internal\" href=\"../../../_modules/runhouse/resources/hardware/on_demand_cluster/#OnDemandCluster.is_up\"><span class=\"viewcode-link\"><span class=\"pre\">[source]</span></span></a><a class=\"headerlink\" href=\"#runhouse.OnDemandCluster.is_up\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd><p>Whether the cluster is up.</p>\n<p class=\"rubric\">Example</p>\n<div class=\"doctest highlight-default notranslate\"><div class=\"highlight\"><pre><span></span><span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">rh</span><span class=\"o\">.</span><span class=\"n\">ondemand_cluster</span><span class=\"p\">(</span><span class=\"s2\">&quot;rh-cpu&quot;</span><span class=\"p\">)</span><span class=\"o\">.</span><span class=\"n\">is_up</span><span class=\"p\">()</span>\n</pre></div>\n</div>\n</dd></dl>\n\n<dl class=\"py method\">\n<dt class=\"sig sig-object py\" id=\"runhouse.OnDemandCluster.keep_warm\">\n<span class=\"sig-name descname\"><span class=\"pre\">keep_warm</span></span><span class=\"sig-paren\">(</span><em class=\"sig-param\"><span class=\"n\"><span class=\"pre\">mins</span></span><span class=\"p\"><span class=\"pre\">:</span></span><span class=\"w\"> </span><span class=\"n\"><span class=\"pre\">int</span></span><span class=\"w\"> </span><span class=\"o\"><span class=\"pre\">=</span></span><span class=\"w\"> </span><span class=\"default_value\"><span class=\"pre\">-1</span></span></em><span class=\"sig-paren\">)</span><a class=\"reference internal\" href=\"../../../_modules/runhouse/resources/hardware/on_demand_cluster/#OnDemandCluster.keep_warm\"><span class=\"viewcode-link\"><span class=\"pre\">[source]</span></span></a><a class=\"headerlink\" href=\"#runhouse.OnDemandCluster.keep_warm\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd><p>Keep the cluster warm for given number of minutes after inactivity.</p>\n<dl class=\"field-list simple\">\n<dt class=\"field-odd\">Parameters<span class=\"colon\">:</span></dt>\n<dd class=\"field-odd\"><p><strong>mins</strong> (<em>int</em>) \u2013 Amount of time (in min) to keep the cluster warm after inactivity.\nIf set to -1, keep cluster warm indefinitely. (Default: <cite>-1</cite>)</p>\n</dd>\n</dl>\n</dd></dl>\n\n<dl class=\"py method\">\n<dt class=\"sig sig-object py\" id=\"runhouse.OnDemandCluster.num_cpus\">\n<span class=\"sig-name descname\"><span class=\"pre\">num_cpus</span></span><span class=\"sig-paren\">(</span><span class=\"sig-paren\">)</span><a class=\"reference internal\" href=\"../../../_modules/runhouse/resources/hardware/on_demand_cluster/#OnDemandCluster.num_cpus\"><span class=\"viewcode-link\"><span class=\"pre\">[source]</span></span></a><a class=\"headerlink\" href=\"#runhouse.OnDemandCluster.num_cpus\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd><p>Return the number of CPUs for a CPU cluster.</p>\n</dd></dl>\n\n<dl class=\"py method\">\n<dt class=\"sig sig-object py\" id=\"runhouse.OnDemandCluster.pause_autostop\">\n<span class=\"sig-name descname\"><span class=\"pre\">pause_autostop</span></span><span class=\"sig-paren\">(</span><span class=\"sig-paren\">)</span><a class=\"reference internal\" href=\"../../../_modules/runhouse/resources/hardware/on_demand_cluster/#OnDemandCluster.pause_autostop\"><span class=\"viewcode-link\"><span class=\"pre\">[source]</span></span></a><a class=\"headerlink\" href=\"#runhouse.OnDemandCluster.pause_autostop\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd><p>Context manager to temporarily pause autostop.</p>\n<p class=\"rubric\">Example</p>\n<div class=\"doctest highlight-default notranslate\"><div class=\"highlight\"><pre><span></span><span class=\"gp\">&gt;&gt;&gt; </span><span class=\"k\">with</span> <span class=\"n\">rh</span><span class=\"o\">.</span><span class=\"n\">ondemand_cluster</span><span class=\"o\">.</span><span class=\"n\">pause_autostop</span><span class=\"p\">():</span>\n<span class=\"gp\">&gt;&gt;&gt; </span>    <span class=\"n\">rh</span><span class=\"o\">.</span><span class=\"n\">ondemand_cluster</span><span class=\"o\">.</span><span class=\"n\">run</span><span class=\"p\">([</span><span class=\"s2\">&quot;python train.py&quot;</span><span class=\"p\">])</span>\n</pre></div>\n</div>\n</dd></dl>\n\n<dl class=\"py method\">\n<dt class=\"sig sig-object py\" id=\"runhouse.OnDemandCluster.ssh\">\n<span class=\"sig-name descname\"><span class=\"pre\">ssh</span></span><span class=\"sig-paren\">(</span><em class=\"sig-param\"><span class=\"n\"><span class=\"pre\">node</span></span><span class=\"p\"><span class=\"pre\">:</span></span><span class=\"w\"> </span><span class=\"n\"><span class=\"pre\">str</span><span class=\"w\"> </span><span class=\"p\"><span class=\"pre\">|</span></span><span class=\"w\"> </span><span class=\"pre\">None</span></span><span class=\"w\"> </span><span class=\"o\"><span class=\"pre\">=</span></span><span class=\"w\"> </span><span class=\"default_value\"><span class=\"pre\">None</span></span></em><span class=\"sig-paren\">)</span><a class=\"reference internal\" href=\"../../../_modules/runhouse/resources/hardware/on_demand_cluster/#OnDemandCluster.ssh\"><span class=\"viewcode-link\"><span class=\"pre\">[source]</span></span></a><a class=\"headerlink\" href=\"#runhouse.OnDemandCluster.ssh\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd><p>SSH into the cluster.</p>\n<dl class=\"field-list simple\">\n<dt class=\"field-odd\">Parameters<span class=\"colon\">:</span></dt>\n<dd class=\"field-odd\"><p><strong>node</strong> \u2013 Node to SSH into. If no node is specified, will SSH onto the head node.\n(Default: <code class=\"docutils literal notranslate\"><span class=\"pre\">None</span></code>)</p>\n</dd>\n</dl>\n<p class=\"rubric\">Example</p>\n<div class=\"doctest highlight-default notranslate\"><div class=\"highlight\"><pre><span></span><span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">rh</span><span class=\"o\">.</span><span class=\"n\">ondemand_cluster</span><span class=\"p\">(</span><span class=\"s2\">&quot;rh-cpu&quot;</span><span class=\"p\">)</span><span class=\"o\">.</span><span class=\"n\">ssh</span><span class=\"p\">()</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">rh</span><span class=\"o\">.</span><span class=\"n\">ondemand_cluster</span><span class=\"p\">(</span><span class=\"s2\">&quot;rh-cpu&quot;</span><span class=\"p\">,</span> <span class=\"n\">node</span><span class=\"o\">=</span><span class=\"s2\">&quot;3.89.174.234&quot;</span><span class=\"p\">)</span><span class=\"o\">.</span><span class=\"n\">ssh</span><span class=\"p\">()</span>\n</pre></div>\n</div>\n</dd></dl>\n\n<dl class=\"py method\">\n<dt class=\"sig sig-object py\" id=\"runhouse.OnDemandCluster.teardown\">\n<span class=\"sig-name descname\"><span class=\"pre\">teardown</span></span><span class=\"sig-paren\">(</span><em class=\"sig-param\"><span class=\"n\"><span class=\"pre\">verbose</span></span><span class=\"p\"><span class=\"pre\">:</span></span><span class=\"w\"> </span><span class=\"n\"><span class=\"pre\">bool</span></span><span class=\"w\"> </span><span class=\"o\"><span class=\"pre\">=</span></span><span class=\"w\"> </span><span class=\"default_value\"><span class=\"pre\">True</span></span></em><span class=\"sig-paren\">)</span><a class=\"reference internal\" href=\"../../../_modules/runhouse/resources/hardware/on_demand_cluster/#OnDemandCluster.teardown\"><span class=\"viewcode-link\"><span class=\"pre\">[source]</span></span></a><a class=\"headerlink\" href=\"#runhouse.OnDemandCluster.teardown\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd><p>Teardown cluster.</p>\n<dl class=\"field-list simple\">\n<dt class=\"field-odd\">Parameters<span class=\"colon\">:</span></dt>\n<dd class=\"field-odd\"><p><strong>verbose</strong> (<em>bool</em><em>, </em><em>optional</em>) \u2013 Whether to stream logs from Den when the cluster is being downed. Only relevant\nwhen tearing down via Den. (Default: <cite>True</cite>)</p>\n</dd>\n</dl>\n<p class=\"rubric\">Example</p>\n<div class=\"doctest highlight-default notranslate\"><div class=\"highlight\"><pre><span></span><span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">rh</span><span class=\"o\">.</span><span class=\"n\">ondemand_cluster</span><span class=\"p\">(</span><span class=\"s2\">&quot;rh-cpu&quot;</span><span class=\"p\">)</span><span class=\"o\">.</span><span class=\"n\">teardown</span><span class=\"p\">()</span>\n</pre></div>\n</div>\n</dd></dl>\n\n<dl class=\"py method\">\n<dt class=\"sig sig-object py\" id=\"runhouse.OnDemandCluster.teardown_and_delete\">\n<span class=\"sig-name descname\"><span class=\"pre\">teardown_and_delete</span></span><span class=\"sig-paren\">(</span><em class=\"sig-param\"><span class=\"n\"><span class=\"pre\">verbose</span></span><span class=\"p\"><span class=\"pre\">:</span></span><span class=\"w\"> </span><span class=\"n\"><span class=\"pre\">bool</span></span><span class=\"w\"> </span><span class=\"o\"><span class=\"pre\">=</span></span><span class=\"w\"> </span><span class=\"default_value\"><span class=\"pre\">True</span></span></em><span class=\"sig-paren\">)</span><a class=\"reference internal\" href=\"../../../_modules/runhouse/resources/hardware/on_demand_cluster/#OnDemandCluster.teardown_and_delete\"><span class=\"viewcode-link\"><span class=\"pre\">[source]</span></span></a><a class=\"headerlink\" href=\"#runhouse.OnDemandCluster.teardown_and_delete\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd><p>Teardown cluster and delete it from configs.</p>\n<dl class=\"field-list simple\">\n<dt class=\"field-odd\">Parameters<span class=\"colon\">:</span></dt>\n<dd class=\"field-odd\"><p><strong>verbose</strong> (<em>bool</em><em>, </em><em>optional</em>) \u2013 Whether to stream logs from Den when the cluster is being downed. Only relevant\nwhen tearing down via Den. (Default: <cite>True</cite>)</p>\n</dd>\n</dl>\n<p class=\"rubric\">Example</p>\n<div class=\"doctest highlight-default notranslate\"><div class=\"highlight\"><pre><span></span><span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">rh</span><span class=\"o\">.</span><span class=\"n\">ondemand_cluster</span><span class=\"p\">(</span><span class=\"s2\">&quot;rh-cpu&quot;</span><span class=\"p\">)</span><span class=\"o\">.</span><span class=\"n\">teardown_and_delete</span><span class=\"p\">()</span>\n</pre></div>\n</div>\n</dd></dl>\n\n<dl class=\"py method\">\n<dt class=\"sig sig-object py\" id=\"runhouse.OnDemandCluster.up\">\n<span class=\"sig-name descname\"><span class=\"pre\">up</span></span><span class=\"sig-paren\">(</span><em class=\"sig-param\"><span class=\"n\"><span class=\"pre\">verbose</span></span><span class=\"p\"><span class=\"pre\">:</span></span><span class=\"w\"> </span><span class=\"n\"><span class=\"pre\">bool</span></span><span class=\"w\"> </span><span class=\"o\"><span class=\"pre\">=</span></span><span class=\"w\"> </span><span class=\"default_value\"><span class=\"pre\">True</span></span></em>, <em class=\"sig-param\"><span class=\"n\"><span class=\"pre\">force</span></span><span class=\"p\"><span class=\"pre\">:</span></span><span class=\"w\"> </span><span class=\"n\"><span class=\"pre\">bool</span></span><span class=\"w\"> </span><span class=\"o\"><span class=\"pre\">=</span></span><span class=\"w\"> </span><span class=\"default_value\"><span class=\"pre\">False</span></span></em><span class=\"sig-paren\">)</span><a class=\"reference internal\" href=\"../../../_modules/runhouse/resources/hardware/on_demand_cluster/#OnDemandCluster.up\"><span class=\"viewcode-link\"><span class=\"pre\">[source]</span></span></a><a class=\"headerlink\" href=\"#runhouse.OnDemandCluster.up\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd><p>Up the cluster.</p>\n<dl class=\"field-list simple\">\n<dt class=\"field-odd\">Parameters<span class=\"colon\">:</span></dt>\n<dd class=\"field-odd\"><ul class=\"simple\">\n<li><p><strong>verbose</strong> (<em>bool</em><em>, </em><em>optional</em>) \u2013 Whether to stream logs from Den when the cluster is being launched. Only\nrelevant if launching via Den. (Default: <cite>True</cite>)</p></li>\n<li><p><strong>force</strong> (<em>bool</em><em>, </em><em>optional</em>) \u2013 Whether to launch the cluster even if one with the same configs already exists.\nOnly relevant if launching via Den. (Default: <cite>False</cite>)</p></li>\n</ul>\n</dd>\n</dl>\n<p class=\"rubric\">Example</p>\n<div class=\"doctest highlight-default notranslate\"><div class=\"highlight\"><pre><span></span><span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">rh</span><span class=\"o\">.</span><span class=\"n\">ondemand_cluster</span><span class=\"p\">(</span><span class=\"s2\">&quot;rh-cpu&quot;</span><span class=\"p\">)</span><span class=\"o\">.</span><span class=\"n\">up</span><span class=\"p\">()</span>\n</pre></div>\n</div>\n</dd></dl>\n\n</dd></dl>\n\n<section id=\"ondemandcluster-hardware-setup\">\n<h3>OnDemandCluster Hardware Setup<a class=\"headerlink\" href=\"#ondemandcluster-hardware-setup\" title=\"Permalink to this heading\">\u00b6</a></h3>\n<p>On-Demand clusters use SkyPilot to automatically spin up and down clusters on the cloud. You will\nneed to first set up cloud access on your local machine:</p>\n<p>Run <code class=\"docutils literal notranslate\"><span class=\"pre\">sky</span> <span class=\"pre\">check</span></code> to see which cloud providers are enabled, and how to set up cloud credentials for each of the\nproviders.</p>\n<div class=\"highlight-default notranslate\"><div class=\"highlight\"><pre><span></span>$ sky check\n</pre></div>\n</div>\n<p>For a more in depth tutorial on setting up individual cloud credentials, you can refer to\n<a class=\"reference external\" href=\"https://skypilot.readthedocs.io/en/latest/getting-started/installation.html#cloud-account-setup\">SkyPilot setup docs</a>.</p>\n<section id=\"specifying-a-vpc\">\n<h4>Specifying a VPC<a class=\"headerlink\" href=\"#specifying-a-vpc\" title=\"Permalink to this heading\">\u00b6</a></h4>\n<p>If you would like to launch an on-demand cluster within a specific VPC, you can specify its name in your local\n<code class=\"docutils literal notranslate\"><span class=\"pre\">~/.sky/config.yaml</span></code> in the following format:</p>\n<div class=\"highlight-yaml notranslate\"><div class=\"highlight\"><pre><span></span><span class=\"nt\">&lt;cloud-provider&gt;</span><span class=\"p\">:</span>\n<span class=\"w\">  </span><span class=\"nt\">vpc</span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"l l-Scalar l-Scalar-Plain\">&lt;vpc-name&gt;</span>\n</pre></div>\n</div>\n<p>See the <a class=\"reference external\" href=\"https://skypilot.readthedocs.io/en/latest/cloud-setup/cloud-permissions/aws.html#using-a-specific-vpc\">SkyPilot docs</a>\nfor more details on configuring a VPC.</p>\n</section>\n</section>\n</section>\n<section id=\"cluster-authentication-verification\">\n<h2>Cluster Authentication &amp; Verification<a class=\"headerlink\" href=\"#cluster-authentication-verification\" title=\"Permalink to this heading\">\u00b6</a></h2>\n<p>Runhouse provides a couple of options to manage the connection to the Runhouse API server running on a cluster.</p>\n<section id=\"server-connection\">\n<h3>Server Connection<a class=\"headerlink\" href=\"#server-connection\" title=\"Permalink to this heading\">\u00b6</a></h3>\n<p>The below options can be specified with the <code class=\"docutils literal notranslate\"><span class=\"pre\">server_connection_type</span></code> parameter\nwhen <a class=\"reference internal\" href=\"#cluster-factory-methods\"><span class=\"std std-ref\">initializing a cluster</span></a>. By default the Runhouse API server will\nbe started on the cluster on port <code class=\"code docutils literal notranslate\"><span class=\"pre\">32300</span></code>.</p>\n<ul class=\"simple\">\n<li><p><code class=\"docutils literal notranslate\"><span class=\"pre\">ssh</span></code>: Connects to the cluster via an SSH tunnel, by default on port <code class=\"code docutils literal notranslate\"><span class=\"pre\">32300</span></code>.</p></li>\n<li><p><code class=\"docutils literal notranslate\"><span class=\"pre\">tls</span></code>: Connects to the cluster via HTTPS (by default on port <code class=\"code docutils literal notranslate\"><span class=\"pre\">443</span></code>) using either a provided certificate, or\ncreating a new self-signed certificate just for this cluster. You must open the needed ports in the firewall, such\nas via the open_ports argument in the OnDemandCluster, or manually in the compute itself or cloud console.</p></li>\n<li><p><code class=\"docutils literal notranslate\"><span class=\"pre\">none</span></code>: Does not use any port forwarding or enforce any authentication. Connects to the cluster with HTTP by\ndefault on port <code class=\"code docutils literal notranslate\"><span class=\"pre\">80</span></code>. This is useful when connecting to a cluster within a VPC, or creating a tunnel manually\non the side with custom settings.</p></li>\n</ul>\n<div class=\"admonition note\">\n<p class=\"admonition-title\">Note</p>\n<p>The <code class=\"docutils literal notranslate\"><span class=\"pre\">tls</span></code> connection type is the most secure and is recommended for production use if you are not running inside\nof a VPC. However, be mindful that you must secure the cluster with authentication (see below) if you open it\nto the public internet.</p>\n</div>\n</section>\n<section id=\"server-authentication\">\n<h3>Server Authentication<a class=\"headerlink\" href=\"#server-authentication\" title=\"Permalink to this heading\">\u00b6</a></h3>\n<p>If desired, Runhouse provides out-of-the-box authentication via users\u2019 Runhouse token (generated when\n<a class=\"reference internal\" href=\"../login/#login-logout\"><span class=\"std std-ref\">logging in</span></a>) and set locally at: <code class=\"code docutils literal notranslate\"><span class=\"pre\">~/.rh/config.yaml</span></code>). This is crucial if the cluster\nhas ports open to the public internet, as would usually be the case when using the <code class=\"docutils literal notranslate\"><span class=\"pre\">tls</span></code> connection type. You may\nalso set up your own authentication manually inside of your own code, but you should likely still enable Runhouse\nauthentication to ensure that even your non-user-facing endpoints into the server are secured.</p>\n<p>When <a class=\"reference internal\" href=\"#cluster-factory-methods\"><span class=\"std std-ref\">initializing a cluster</span></a>, you can set the <code class=\"code docutils literal notranslate\"><span class=\"pre\">den_auth</span></code> parameter to <code class=\"code docutils literal notranslate\"><span class=\"pre\">True</span></code>\nto enable token authentication. Calls to the cluster server can then be made using an auth header with the\nformat: <code class=\"code docutils literal notranslate\"><span class=\"pre\">{&quot;Authorization&quot;:</span> <span class=\"pre\">&quot;Bearer</span> <span class=\"pre\">&lt;cluster-token&gt;&quot;}</span></code>. The Runhouse Python library adds this header to its calls\nautomatically, so your users do not need to worry about it after logging into Runhouse.</p>\n<div class=\"admonition note\">\n<p class=\"admonition-title\">Note</p>\n<p>Runhouse never uses your default Runhouse token for anything other than requests made to\n<a class=\"reference external\" href=\"https://www.run.house/dashboard\">Runhouse Den</a>. Your token will never be exposed or shared with anyone else.</p>\n</div>\n<section id=\"tls-certificates\">\n<h4>TLS Certificates<a class=\"headerlink\" href=\"#tls-certificates\" title=\"Permalink to this heading\">\u00b6</a></h4>\n<p>Enabling TLS and <a class=\"reference external\" href=\"https://www.run.house/dashboard\">Runhouse Den Dashboard</a> Auth for the API server makes it incredibly\nfast and easy to stand up a microservice with standard token authentication, allowing you to easily share Runhouse\nresources with collaborators, teams, customers, etc.</p>\n<p>Let\u2019s illustrate this with a simple example:</p>\n<div class=\"highlight-python notranslate\"><div class=\"highlight\"><pre><span></span><span class=\"kn\">import</span> <span class=\"nn\">runhouse</span> <span class=\"k\">as</span> <span class=\"nn\">rh</span>\n\n<span class=\"k\">def</span> <span class=\"nf\">concat</span><span class=\"p\">(</span><span class=\"n\">a</span><span class=\"p\">:</span> <span class=\"nb\">str</span><span class=\"p\">,</span> <span class=\"n\">b</span><span class=\"p\">:</span> <span class=\"nb\">str</span><span class=\"p\">):</span>\n    <span class=\"k\">return</span> <span class=\"n\">a</span> <span class=\"o\">+</span> <span class=\"n\">b</span>\n\n<span class=\"c1\"># Launch a cluster with TLS and Den Auth enabled</span>\n<span class=\"n\">cpu</span> <span class=\"o\">=</span> <span class=\"n\">rh</span><span class=\"o\">.</span><span class=\"n\">ondemand_cluster</span><span class=\"p\">(</span><span class=\"n\">instance_type</span><span class=\"o\">=</span><span class=\"s2\">&quot;m5.xlarge&quot;</span><span class=\"p\">,</span>\n                          <span class=\"n\">provider</span><span class=\"o\">=</span><span class=\"s2\">&quot;aws&quot;</span><span class=\"p\">,</span>\n                          <span class=\"n\">name</span><span class=\"o\">=</span><span class=\"s2\">&quot;rh-cluster&quot;</span><span class=\"p\">,</span>\n                          <span class=\"n\">den_auth</span><span class=\"o\">=</span><span class=\"kc\">True</span><span class=\"p\">,</span>\n                          <span class=\"n\">open_ports</span><span class=\"o\">=</span><span class=\"p\">[</span><span class=\"mi\">443</span><span class=\"p\">],</span>\n                          <span class=\"n\">server_connection_type</span><span class=\"o\">=</span><span class=\"s2\">&quot;tls&quot;</span><span class=\"p\">)</span><span class=\"o\">.</span><span class=\"n\">up_if_not</span><span class=\"p\">()</span>\n\n<span class=\"c1\"># Remote function stub which lives on the cluster</span>\n<span class=\"n\">remote_func</span> <span class=\"o\">=</span> <span class=\"n\">rh</span><span class=\"o\">.</span><span class=\"n\">function</span><span class=\"p\">(</span><span class=\"n\">concat</span><span class=\"p\">)</span><span class=\"o\">.</span><span class=\"n\">to</span><span class=\"p\">(</span><span class=\"n\">cpu</span><span class=\"p\">)</span>\n\n<span class=\"c1\"># Save to Runhouse Den</span>\n<span class=\"n\">remote_func</span><span class=\"o\">.</span><span class=\"n\">save</span><span class=\"p\">()</span>\n\n<span class=\"c1\"># Give read access to the function to another user - this will allow them to call this service remotely</span>\n<span class=\"c1\"># and view the function metadata in Runhouse Den</span>\n<span class=\"n\">remote_func</span><span class=\"o\">.</span><span class=\"n\">share</span><span class=\"p\">(</span><span class=\"s2\">&quot;user1@gmail.com&quot;</span><span class=\"p\">,</span> <span class=\"n\">access_level</span><span class=\"o\">=</span><span class=\"s2\">&quot;read&quot;</span><span class=\"p\">)</span>\n\n<span class=\"c1\"># This other user (user1) can then call the function remotely from any python environment</span>\n<span class=\"n\">res</span> <span class=\"o\">=</span> <span class=\"n\">remote_func</span><span class=\"p\">(</span><span class=\"s2\">&quot;run&quot;</span><span class=\"p\">,</span> <span class=\"s2\">&quot;house&quot;</span><span class=\"p\">)</span>\n<span class=\"o\">&gt;&gt;</span> <span class=\"nb\">print</span><span class=\"p\">(</span><span class=\"n\">res</span><span class=\"p\">)</span>\n<span class=\"o\">&gt;&gt;</span> <span class=\"s2\">&quot;runhouse&quot;</span>\n</pre></div>\n</div>\n<p>We can also call the function via an HTTP request, making it easy for other users to call the function with\na Runhouse cluster token (Note: this assumes the user has been granted access to the function or\nwrite access to the cluster):</p>\n<div class=\"highlight-default notranslate\"><div class=\"highlight\"><pre><span></span>$ curl -X GET &quot;https://&lt;DOMAIN&gt;/concat/call?a=run&amp;b=house&quot;\n-H &quot;Content-Type: application/json&quot; -H &quot;Authorization: Bearer &lt;CLUSTER-TOKEN&gt;&quot;\n</pre></div>\n</div>\n</section>\n<section id=\"caddy\">\n<h4>Caddy<a class=\"headerlink\" href=\"#caddy\" title=\"Permalink to this heading\">\u00b6</a></h4>\n<p>Runhouse gives you the option of using <a class=\"reference external\" href=\"https://caddyserver.com/\">Caddy</a> as a reverse proxy for the Runhouse API\nserver, which is a FastAPI app launched with <a class=\"reference external\" href=\"https://www.uvicorn.org/\">Uvicorn</a>. Using Caddy provides you with a\nsafer and more conventional approach running the FastAPI app on a higher, non-privileged port (such as 32300, the\ndefault Runhouse port) and then use Caddy as a reverse proxy to forward requests from the HTTP port (default: 80) or\nthe HTTPS port (default: 443).</p>\n<p>Caddy also enables generating and auto-renewing self-signed certificates, making it easy to secure your cluster with\nHTTPS right out of the box.</p>\n<div class=\"admonition note\">\n<p class=\"admonition-title\">Note</p>\n<p>Caddy is enabled by default when you launch a cluster with the <code class=\"code docutils literal notranslate\"><span class=\"pre\">server_port</span></code> set to either 80 or 443.</p>\n</div>\n<p><strong>Generating Certs</strong></p>\n<p>Runhouse offers two options for enabling TLS/SSL on a cluster with Caddy:</p>\n<ol class=\"arabic simple\">\n<li><p><em>Using existing certs</em>: provide the path to the cert and key files with the <code class=\"code docutils literal notranslate\"><span class=\"pre\">ssl_certfile</span></code> and\n<code class=\"code docutils literal notranslate\"><span class=\"pre\">ssl_keyfile</span></code> arguments. These certs will be used by Caddy as specified in the Caddyfile on the cluster.\nIf no cert paths are provided and no domain is specified, Runhouse will issue\nself-signed certificates to use for the cluster. These certs will not be verified by a CA.</p></li>\n<li><p><em>Using Caddy to generate CA verified certs</em>: Provide the <code class=\"code docutils literal notranslate\"><span class=\"pre\">domain</span></code> argument. Caddy will then obtain\ncertificates from Let\u2019s Encrypt on-demand when a client connects for the first time.</p></li>\n</ol>\n</section>\n</section>\n</section>\n<section id=\"using-a-custom-domain\">\n<h2>Using a Custom Domain<a class=\"headerlink\" href=\"#using-a-custom-domain\" title=\"Permalink to this heading\">\u00b6</a></h2>\n<p>Runhouse supports using custom domains for deploying your apps and services. You can provide the domain ahead of time\nbefore launching the cluster by specifying the <code class=\"code docutils literal notranslate\"><span class=\"pre\">domain</span></code> argument:</p>\n<div class=\"highlight-python notranslate\"><div class=\"highlight\"><pre><span></span><span class=\"n\">cluster</span> <span class=\"o\">=</span> <span class=\"n\">rh</span><span class=\"o\">.</span><span class=\"n\">cluster</span><span class=\"p\">(</span><span class=\"n\">name</span><span class=\"o\">=</span><span class=\"s2\">&quot;rh-serving-cpu&quot;</span><span class=\"p\">,</span>\n                     <span class=\"n\">domain</span><span class=\"o\">=</span><span class=\"s2\">&quot;&lt;your domain&gt;&quot;</span><span class=\"p\">,</span>\n                     <span class=\"n\">instance_type</span><span class=\"o\">=</span><span class=\"s2\">&quot;m5.xlarge&quot;</span><span class=\"p\">,</span>\n                     <span class=\"n\">server_connection_type</span><span class=\"o\">=</span><span class=\"s2\">&quot;tls&quot;</span><span class=\"p\">,</span>\n                     <span class=\"n\">open_ports</span><span class=\"o\">=</span><span class=\"p\">[</span><span class=\"mi\">443</span><span class=\"p\">])</span><span class=\"o\">.</span><span class=\"n\">up_if_not</span><span class=\"p\">()</span>\n</pre></div>\n</div>\n<div class=\"admonition note\">\n<p class=\"admonition-title\">Note</p>\n<p>After the cluster is launched, make sure to add the relevant A record to your domain\u2019s DNS settings to point this\ndomain to the cluster\u2019s public IP address.</p>\n<p>You\u2019ll need to also ensure the relevant ports are open (ex: 443) in the security group settings of the cluster.\nRunhouse will also automatically set up a TLS certificate for the domain via\n<a class=\"reference external\" href=\"https://caddyserver.com/docs/automatic-https\">Caddy</a>.</p>\n</div>\n<p>If you have an existing cluster, you can also configure a domain by including the IP and domain when\ninitializing the Runhouse cluster object:</p>\n<div class=\"highlight-python notranslate\"><div class=\"highlight\"><pre><span></span><span class=\"n\">cluster</span> <span class=\"o\">=</span> <span class=\"n\">rh</span><span class=\"o\">.</span><span class=\"n\">cluster</span><span class=\"p\">(</span><span class=\"n\">name</span><span class=\"o\">=</span><span class=\"s2\">&quot;rh-serving-cpu&quot;</span><span class=\"p\">,</span>\n                     <span class=\"n\">ips</span><span class=\"o\">=</span><span class=\"p\">[</span><span class=\"s2\">&quot;&lt;public IP&gt;&quot;</span><span class=\"p\">],</span>\n                     <span class=\"n\">domain</span><span class=\"o\">=</span><span class=\"s2\">&quot;&lt;your domain&gt;&quot;</span><span class=\"p\">,</span>\n                     <span class=\"n\">server_connection_type</span><span class=\"o\">=</span><span class=\"s2\">&quot;tls&quot;</span><span class=\"p\">,</span>\n                     <span class=\"n\">open_ports</span><span class=\"o\">=</span><span class=\"p\">[</span><span class=\"mi\">443</span><span class=\"p\">])</span><span class=\"o\">.</span><span class=\"n\">up_if_not</span><span class=\"p\">()</span>\n</pre></div>\n</div>\n<p>Now we can send modules or functions to our cluster and seamlessly create endpoints which we can then share\nand call from anywhere.</p>\n<p>Let\u2019s take a look at an example of how to deploy a simple\n<a class=\"reference external\" href=\"https://www.run.house/examples/langchain-rag-app-aws-ec2\">LangChain RAG app</a>.</p>\n<p>Once the app has been created and sent to the cluster, we can call it via HTTP directly:</p>\n<div class=\"highlight-python notranslate\"><div class=\"highlight\"><pre><span></span><span class=\"kn\">import</span> <span class=\"nn\">requests</span>\n\n<span class=\"n\">resp</span> <span class=\"o\">=</span> <span class=\"n\">requests</span><span class=\"o\">.</span><span class=\"n\">get</span><span class=\"p\">(</span><span class=\"s2\">&quot;https://&lt;domain&gt;/basic_rag_app/invoke?user_prompt=&lt;prompt&gt;&quot;</span><span class=\"p\">)</span>\n<span class=\"nb\">print</span><span class=\"p\">(</span><span class=\"n\">resp</span><span class=\"o\">.</span><span class=\"n\">json</span><span class=\"p\">())</span>\n</pre></div>\n</div>\n<p>Or via cURL:</p>\n<div class=\"highlight-default notranslate\"><div class=\"highlight\"><pre><span></span>$ curl &quot;https://&lt;domain&gt;/basic_rag_app/invoke?user_prompt=&lt;prompt&gt;&quot;\n</pre></div>\n</div>\n</section>\n</section>\n\n    <script type=\"text/x-thebe-config\">\n    {\n        requestKernel: true,\n        binderOptions: {\n            repo: \"binder-examples/jupyter-stacks-datascience\",\n            ref: \"master\",\n        },\n        codeMirrorConfig: {\n            theme: \"abcdef\",\n            mode: \"python\"\n        },\n        kernelOptions: {\n            name: \"python3\",\n            path: \"./api/python\"\n        },\n        predefinedOutput: true\n    }\n    </script>\n    <script>kernelName = 'python3'</script>", "metatags": "<meta name=\"generator\" content=\"Docutils 0.19: https://docutils.sourceforge.io/\" />\n", "rellinks": [["genindex", "General Index", "I", "index"], ["py-modindex", "Python Module Index", "", "modules"], ["api/python/env", "Env", "N", "next"], ["api/python/function", "Function", "P", "previous"]], "sourcename": "api/python/cluster.rst.txt", "toc": "<ul>\n<li><a class=\"reference internal\" href=\"#\">Cluster</a><ul>\n<li><a class=\"reference internal\" href=\"#cluster-factory-methods\">Cluster Factory Methods</a><ul>\n<li><a class=\"reference internal\" href=\"#runhouse.cluster\"><code class=\"docutils literal notranslate\"><span class=\"pre\">cluster()</span></code></a></li>\n<li><a class=\"reference internal\" href=\"#runhouse.ondemand_cluster\"><code class=\"docutils literal notranslate\"><span class=\"pre\">ondemand_cluster()</span></code></a></li>\n</ul>\n</li>\n<li><a class=\"reference internal\" href=\"#cluster-class\">Cluster Class</a><ul>\n<li><a class=\"reference internal\" href=\"#runhouse.Cluster\"><code class=\"docutils literal notranslate\"><span class=\"pre\">Cluster</span></code></a><ul>\n<li><a class=\"reference internal\" href=\"#runhouse.Cluster.__init__\"><code class=\"docutils literal notranslate\"><span class=\"pre\">Cluster.__init__()</span></code></a></li>\n<li><a class=\"reference internal\" href=\"#runhouse.Cluster.call\"><code class=\"docutils literal notranslate\"><span class=\"pre\">Cluster.call()</span></code></a></li>\n<li><a class=\"reference internal\" href=\"#runhouse.Cluster.clear\"><code class=\"docutils literal notranslate\"><span class=\"pre\">Cluster.clear()</span></code></a></li>\n<li><a class=\"reference internal\" href=\"#runhouse.Cluster.delete\"><code class=\"docutils literal notranslate\"><span class=\"pre\">Cluster.delete()</span></code></a></li>\n<li><a class=\"reference internal\" href=\"#runhouse.Cluster.delete_configs\"><code class=\"docutils literal notranslate\"><span class=\"pre\">Cluster.delete_configs()</span></code></a></li>\n<li><a class=\"reference internal\" href=\"#runhouse.Cluster.disconnect\"><code class=\"docutils literal notranslate\"><span class=\"pre\">Cluster.disconnect()</span></code></a></li>\n<li><a class=\"reference internal\" href=\"#runhouse.Cluster.download_cert\"><code class=\"docutils literal notranslate\"><span class=\"pre\">Cluster.download_cert()</span></code></a></li>\n<li><a class=\"reference internal\" href=\"#runhouse.Cluster.enable_den_auth\"><code class=\"docutils literal notranslate\"><span class=\"pre\">Cluster.enable_den_auth()</span></code></a></li>\n<li><a class=\"reference internal\" href=\"#runhouse.Cluster.endpoint\"><code class=\"docutils literal notranslate\"><span class=\"pre\">Cluster.endpoint()</span></code></a></li>\n<li><a class=\"reference internal\" href=\"#runhouse.Cluster.from_config\"><code class=\"docutils literal notranslate\"><span class=\"pre\">Cluster.from_config()</span></code></a></li>\n<li><a class=\"reference internal\" href=\"#runhouse.Cluster.from_name\"><code class=\"docutils literal notranslate\"><span class=\"pre\">Cluster.from_name()</span></code></a></li>\n<li><a class=\"reference internal\" href=\"#runhouse.Cluster.get\"><code class=\"docutils literal notranslate\"><span class=\"pre\">Cluster.get()</span></code></a></li>\n<li><a class=\"reference internal\" href=\"#runhouse.Cluster.install_packages\"><code class=\"docutils literal notranslate\"><span class=\"pre\">Cluster.install_packages()</span></code></a></li>\n<li><a class=\"reference internal\" href=\"#runhouse.Cluster.is_connected\"><code class=\"docutils literal notranslate\"><span class=\"pre\">Cluster.is_connected()</span></code></a></li>\n<li><a class=\"reference internal\" href=\"#runhouse.Cluster.is_up\"><code class=\"docutils literal notranslate\"><span class=\"pre\">Cluster.is_up()</span></code></a></li>\n<li><a class=\"reference internal\" href=\"#runhouse.Cluster.keys\"><code class=\"docutils literal notranslate\"><span class=\"pre\">Cluster.keys()</span></code></a></li>\n<li><a class=\"reference internal\" href=\"#runhouse.Cluster.list\"><code class=\"docutils literal notranslate\"><span class=\"pre\">Cluster.list()</span></code></a></li>\n<li><a class=\"reference internal\" href=\"#runhouse.Cluster.list_processes\"><code class=\"docutils literal notranslate\"><span class=\"pre\">Cluster.list_processes()</span></code></a></li>\n<li><a class=\"reference internal\" href=\"#runhouse.Cluster.notebook\"><code class=\"docutils literal notranslate\"><span class=\"pre\">Cluster.notebook()</span></code></a></li>\n<li><a class=\"reference internal\" href=\"#runhouse.Cluster.on_this_cluster\"><code class=\"docutils literal notranslate\"><span class=\"pre\">Cluster.on_this_cluster()</span></code></a></li>\n<li><a class=\"reference internal\" href=\"#runhouse.Cluster.pause_autostop\"><code class=\"docutils literal notranslate\"><span class=\"pre\">Cluster.pause_autostop()</span></code></a></li>\n<li><a class=\"reference internal\" href=\"#runhouse.Cluster.put\"><code class=\"docutils literal notranslate\"><span class=\"pre\">Cluster.put()</span></code></a></li>\n<li><a class=\"reference internal\" href=\"#runhouse.Cluster.put_resource\"><code class=\"docutils literal notranslate\"><span class=\"pre\">Cluster.put_resource()</span></code></a></li>\n<li><a class=\"reference internal\" href=\"#runhouse.Cluster.remove_conda_env\"><code class=\"docutils literal notranslate\"><span class=\"pre\">Cluster.remove_conda_env()</span></code></a></li>\n<li><a class=\"reference internal\" href=\"#runhouse.Cluster.rename\"><code class=\"docutils literal notranslate\"><span class=\"pre\">Cluster.rename()</span></code></a></li>\n<li><a class=\"reference internal\" href=\"#runhouse.Cluster.restart_server\"><code class=\"docutils literal notranslate\"><span class=\"pre\">Cluster.restart_server()</span></code></a></li>\n<li><a class=\"reference internal\" href=\"#runhouse.Cluster.rsync\"><code class=\"docutils literal notranslate\"><span class=\"pre\">Cluster.rsync()</span></code></a></li>\n<li><a class=\"reference internal\" href=\"#runhouse.Cluster.run\"><code class=\"docutils literal notranslate\"><span class=\"pre\">Cluster.run()</span></code></a></li>\n<li><a class=\"reference internal\" href=\"#runhouse.Cluster.run_python\"><code class=\"docutils literal notranslate\"><span class=\"pre\">Cluster.run_python()</span></code></a></li>\n<li><a class=\"reference internal\" href=\"#runhouse.Cluster.save\"><code class=\"docutils literal notranslate\"><span class=\"pre\">Cluster.save()</span></code></a></li>\n<li><a class=\"reference internal\" href=\"#runhouse.Cluster.server_address\"><code class=\"docutils literal notranslate\"><span class=\"pre\">Cluster.server_address</span></code></a></li>\n<li><a class=\"reference internal\" href=\"#runhouse.Cluster.share\"><code class=\"docutils literal notranslate\"><span class=\"pre\">Cluster.share()</span></code></a></li>\n<li><a class=\"reference internal\" href=\"#runhouse.Cluster.ssh\"><code class=\"docutils literal notranslate\"><span class=\"pre\">Cluster.ssh()</span></code></a></li>\n<li><a class=\"reference internal\" href=\"#runhouse.Cluster.start_server\"><code class=\"docutils literal notranslate\"><span class=\"pre\">Cluster.start_server()</span></code></a></li>\n<li><a class=\"reference internal\" href=\"#runhouse.Cluster.status\"><code class=\"docutils literal notranslate\"><span class=\"pre\">Cluster.status()</span></code></a></li>\n<li><a class=\"reference internal\" href=\"#runhouse.Cluster.stop_server\"><code class=\"docutils literal notranslate\"><span class=\"pre\">Cluster.stop_server()</span></code></a></li>\n<li><a class=\"reference internal\" href=\"#runhouse.Cluster.sync_secrets\"><code class=\"docutils literal notranslate\"><span class=\"pre\">Cluster.sync_secrets()</span></code></a></li>\n<li><a class=\"reference internal\" href=\"#runhouse.Cluster.up_if_not\"><code class=\"docutils literal notranslate\"><span class=\"pre\">Cluster.up_if_not()</span></code></a></li>\n</ul>\n</li>\n<li><a class=\"reference internal\" href=\"#cluster-hardware-setup\">Cluster Hardware Setup</a></li>\n</ul>\n</li>\n<li><a class=\"reference internal\" href=\"#ondemandcluster-class\">OnDemandCluster Class</a><ul>\n<li><a class=\"reference internal\" href=\"#runhouse.OnDemandCluster\"><code class=\"docutils literal notranslate\"><span class=\"pre\">OnDemandCluster</span></code></a><ul>\n<li><a class=\"reference internal\" href=\"#runhouse.OnDemandCluster.__init__\"><code class=\"docutils literal notranslate\"><span class=\"pre\">OnDemandCluster.__init__()</span></code></a></li>\n<li><a class=\"reference internal\" href=\"#runhouse.OnDemandCluster.a_up\"><code class=\"docutils literal notranslate\"><span class=\"pre\">OnDemandCluster.a_up()</span></code></a></li>\n<li><a class=\"reference internal\" href=\"#runhouse.OnDemandCluster.accelerators\"><code class=\"docutils literal notranslate\"><span class=\"pre\">OnDemandCluster.accelerators()</span></code></a></li>\n<li><a class=\"reference internal\" href=\"#runhouse.OnDemandCluster.cluster_ssh_key\"><code class=\"docutils literal notranslate\"><span class=\"pre\">OnDemandCluster.cluster_ssh_key()</span></code></a></li>\n<li><a class=\"reference internal\" href=\"#runhouse.OnDemandCluster.endpoint\"><code class=\"docutils literal notranslate\"><span class=\"pre\">OnDemandCluster.endpoint()</span></code></a></li>\n<li><a class=\"reference internal\" href=\"#runhouse.OnDemandCluster.get_instance_type\"><code class=\"docutils literal notranslate\"><span class=\"pre\">OnDemandCluster.get_instance_type()</span></code></a></li>\n<li><a class=\"reference internal\" href=\"#runhouse.OnDemandCluster.is_up\"><code class=\"docutils literal notranslate\"><span class=\"pre\">OnDemandCluster.is_up()</span></code></a></li>\n<li><a class=\"reference internal\" href=\"#runhouse.OnDemandCluster.keep_warm\"><code class=\"docutils literal notranslate\"><span class=\"pre\">OnDemandCluster.keep_warm()</span></code></a></li>\n<li><a class=\"reference internal\" href=\"#runhouse.OnDemandCluster.num_cpus\"><code class=\"docutils literal notranslate\"><span class=\"pre\">OnDemandCluster.num_cpus()</span></code></a></li>\n<li><a class=\"reference internal\" href=\"#runhouse.OnDemandCluster.pause_autostop\"><code class=\"docutils literal notranslate\"><span class=\"pre\">OnDemandCluster.pause_autostop()</span></code></a></li>\n<li><a class=\"reference internal\" href=\"#runhouse.OnDemandCluster.ssh\"><code class=\"docutils literal notranslate\"><span class=\"pre\">OnDemandCluster.ssh()</span></code></a></li>\n<li><a class=\"reference internal\" href=\"#runhouse.OnDemandCluster.teardown\"><code class=\"docutils literal notranslate\"><span class=\"pre\">OnDemandCluster.teardown()</span></code></a></li>\n<li><a class=\"reference internal\" href=\"#runhouse.OnDemandCluster.teardown_and_delete\"><code class=\"docutils literal notranslate\"><span class=\"pre\">OnDemandCluster.teardown_and_delete()</span></code></a></li>\n<li><a class=\"reference internal\" href=\"#runhouse.OnDemandCluster.up\"><code class=\"docutils literal notranslate\"><span class=\"pre\">OnDemandCluster.up()</span></code></a></li>\n</ul>\n</li>\n<li><a class=\"reference internal\" href=\"#ondemandcluster-hardware-setup\">OnDemandCluster Hardware Setup</a><ul>\n<li><a class=\"reference internal\" href=\"#specifying-a-vpc\">Specifying a VPC</a></li>\n</ul>\n</li>\n</ul>\n</li>\n<li><a class=\"reference internal\" href=\"#cluster-authentication-verification\">Cluster Authentication &amp; Verification</a><ul>\n<li><a class=\"reference internal\" href=\"#server-connection\">Server Connection</a></li>\n<li><a class=\"reference internal\" href=\"#server-authentication\">Server Authentication</a><ul>\n<li><a class=\"reference internal\" href=\"#tls-certificates\">TLS Certificates</a></li>\n<li><a class=\"reference internal\" href=\"#caddy\">Caddy</a></li>\n</ul>\n</li>\n</ul>\n</li>\n<li><a class=\"reference internal\" href=\"#using-a-custom-domain\">Using a Custom Domain</a></li>\n</ul>\n</li>\n</ul>\n", "display_toc": true, "page_source_suffix": ".rst", "globaltoc": "<p class=\"caption\" role=\"heading\"><span class=\"caption-text\">Getting Started</span></p>\n<ul>\n<li class=\"toctree-l1\"><a class=\"reference internal\" href=\"tutorials/quick-start-cloud/\">Quick Start</a></li>\n<li class=\"toctree-l1\"><a class=\"reference internal\" href=\"tutorials/quick-start-den/\">Den Quick Start</a></li>\n<li class=\"toctree-l1\"><a class=\"reference internal\" href=\"how-to-use-runhouse/\">How to Use Runhouse</a></li>\n<li class=\"toctree-l1\"><a class=\"reference internal\" href=\"runhouse-in-your-stack/\">Working with Common Libraries and Tools</a></li>\n</ul>\n<p class=\"caption\" role=\"heading\"><span class=\"caption-text\">API Basics</span></p>\n<ul>\n<li class=\"toctree-l1\"><a class=\"reference internal\" href=\"tutorials/api-clusters/\">Clusters</a></li>\n<li class=\"toctree-l1\"><a class=\"reference internal\" href=\"tutorials/api-modules/\">Functions and Modules</a></li>\n<li class=\"toctree-l1\"><a class=\"reference internal\" href=\"tutorials/api-envs/\">Envs and Packages</a></li>\n<li class=\"toctree-l1\"><a class=\"reference internal\" href=\"tutorials/api-folders/\">Folders</a></li>\n<li class=\"toctree-l1\"><a class=\"reference internal\" href=\"tutorials/api-secrets/\">Secrets</a></li>\n<li class=\"toctree-l1\"><a class=\"reference internal\" href=\"tutorials/api-resources/\">Resource Management</a></li>\n</ul>\n<p class=\"caption\" role=\"heading\"><span class=\"caption-text\">API Reference</span></p>\n<ul>\n<li class=\"toctree-l1\"><a class=\"reference internal\" href=\"api/python/\">Python API</a><ul>\n<li class=\"toctree-l2\"><a class=\"reference internal\" href=\"api/python/resource/\">Resource</a></li>\n<li class=\"toctree-l2\"><a class=\"reference internal\" href=\"api/python/function/\">Function</a></li>\n<li class=\"toctree-l2\"><a class=\"reference internal\" href=\"api/python/cluster/\">Cluster</a></li>\n<li class=\"toctree-l2\"><a class=\"reference internal\" href=\"api/python/env/\">Env</a></li>\n<li class=\"toctree-l2\"><a class=\"reference internal\" href=\"api/python/package/\">Package</a></li>\n<li class=\"toctree-l2\"><a class=\"reference internal\" href=\"api/python/module/\">Module</a></li>\n<li class=\"toctree-l2\"><a class=\"reference internal\" href=\"api/python/folder/\">Folder</a></li>\n<li class=\"toctree-l2\"><a class=\"reference internal\" href=\"api/python/secrets/\">Secrets</a></li>\n<li class=\"toctree-l2\"><a class=\"reference internal\" href=\"api/python/login/\">Login/Logout</a></li>\n</ul>\n</li>\n<li class=\"toctree-l1\"><a class=\"reference internal\" href=\"api/cli/\">Command Line Interface</a></li>\n</ul>\n<p class=\"caption\" role=\"heading\"><span class=\"caption-text\">Other Topics</span></p>\n<ul>\n<li class=\"toctree-l1\"><a class=\"reference internal\" href=\"tutorials/async/\">Asynchronous Programming</a></li>\n<li class=\"toctree-l1\"><a class=\"reference internal\" href=\"installation/\">Installation and Setup</a></li>\n<li class=\"toctree-l1\"><a class=\"reference internal\" href=\"debugging-logging/\">Debugging and Logging</a></li>\n<li class=\"toctree-l1\"><a class=\"reference internal\" href=\"docker-setup/\">Docker: Cluster Setup</a></li>\n<li class=\"toctree-l1\"><a class=\"reference internal\" href=\"docker-workflows/\">Docker: Dev and Prod Workflows</a></li>\n<li class=\"toctree-l1\"><a class=\"reference internal\" href=\"troubleshooting/\">Manual Setup and Troubleshooting</a></li>\n<li class=\"toctree-l1\"><a class=\"reference internal\" href=\"security-and-authentication/\">Security and Authentication</a></li>\n</ul>\n", "current_page_name": "api/python/cluster", "sidebars": ["about.html", "navigation.html", "relations.html", "searchbox.html", "donate.html"], "customsidebar": null, "alabaster_version": "0.7.16", "alabaster_version_info": [0, 7, 16]}